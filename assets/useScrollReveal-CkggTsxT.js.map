{"version":3,"file":"useScrollReveal-CkggTsxT.js","sources":["../../src/hooks/useScrollReveal.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\n/**\r\n * Hook para animar elementos conforme entram no viewport durante o scroll.\r\n *\r\n * @param {Object} options - Configurações do observer\r\n * @param {number|number[]} [options.threshold=0.15] - Percentual visível para disparar a animação\r\n * @param {string} [options.rootMargin=\"0px 0px -10% 0px\"] - Margem adicional para antecipar a animação\r\n * @param {boolean} [options.once=true] - Se true, a animação roda apenas na primeira entrada\r\n * @param {number} [options.delay=0] - Atraso adicional em ms aplicado à animação\r\n * @param {number} [options.stagger=0] - Intervalo em ms entre os elementos filhos marcados com data-reveal-child\r\n * @param {string} [options.childSelector=\"[data-reveal-child]\"] - Seletor para os filhos que devem ser animados em sequência\r\n * @param {boolean} [options.disabled=false] - Desabilita o observer/ animação\r\n */\r\nexport function useScrollReveal({\r\n  threshold = 0.15,\r\n  root = null,\r\n  rootMargin = \"0px 0px -10% 0px\",\r\n  once = true,\r\n  delay = 0,\r\n  stagger = 0,\r\n  childSelector = \"[data-reveal-child]\",\r\n  disabled = false,\r\n} = {}) {\r\n  const elementRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (disabled) {\r\n      return undefined;\r\n    }\r\n\r\n    const node = elementRef.current;\r\n    if (!node) {\r\n      return undefined;\r\n    }\r\n\r\n    const children = stagger > 0 ? Array.from(node.querySelectorAll(childSelector)) : [];\r\n\r\n    const applyDelay = (target, value) => {\r\n      if (value) {\r\n        target.style.setProperty(\"--animate-delay\", `${value}ms`);\r\n      } else {\r\n        target.style.removeProperty(\"--animate-delay\");\r\n      }\r\n    };\r\n\r\n    const revealChildren = () => {\r\n      if (!children.length) return;\r\n\r\n      children.forEach((child, index) => {\r\n        applyDelay(child, delay + index * stagger);\r\n        child.classList.add(\"page-reveal-ready\");\r\n      });\r\n    };\r\n\r\n    const resetChildren = () => {\r\n      if (!children.length) return;\r\n\r\n      children.forEach((child) => {\r\n        child.classList.remove(\"page-reveal-ready\");\r\n        if (delay || stagger) {\r\n          child.style.removeProperty(\"--animate-delay\");\r\n        }\r\n      });\r\n    };\r\n\r\n    applyDelay(node, delay);\r\n\r\n    const isBrowser = typeof window !== \"undefined\";\r\n    const prefersReducedMotion =\r\n      isBrowser && window.matchMedia\r\n        ? window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\r\n        : false;\r\n    const supportsIntersectionObserver = isBrowser && \"IntersectionObserver\" in window;\r\n\r\n    if (!supportsIntersectionObserver || prefersReducedMotion) {\r\n      node.classList.add(\"page-reveal-ready\");\r\n      revealChildren();\r\n      return () => {\r\n        node.classList.remove(\"page-reveal-ready\");\r\n        resetChildren();\r\n        applyDelay(node, 0);\r\n      };\r\n    }\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            node.classList.add(\"page-reveal-ready\");\r\n            revealChildren();\r\n            if (once) {\r\n              observer.unobserve(entry.target);\r\n            }\r\n          } else if (!once) {\r\n            node.classList.remove(\"page-reveal-ready\");\r\n            resetChildren();\r\n          }\r\n        });\r\n      },\r\n      { threshold, root, rootMargin }\r\n    );\r\n\r\n    observer.observe(node);\r\n\r\n    return () => {\r\n      observer.unobserve(node);\r\n      node.classList.remove(\"page-reveal-ready\");\r\n      resetChildren();\r\n      applyDelay(node, 0);\r\n    };\r\n  }, [threshold, root, rootMargin, once, delay, stagger, childSelector, disabled]);\r\n\r\n  return elementRef;\r\n}\r\n"],"names":["useScrollReveal","threshold","root","rootMargin","once","delay","stagger","childSelector","disabled","elementRef","useRef","useEffect","node","children","applyDelay","target","value","revealChildren","child","index","resetChildren","isBrowser","prefersReducedMotion","observer","entries","entry"],"mappings":"wCAcO,SAASA,EAAgB,CAC9B,UAAAC,EAAY,IACZ,KAAAC,EAAO,KACP,WAAAC,EAAa,mBACb,KAAAC,EAAO,GACP,MAAAC,EAAQ,EACR,QAAAC,EAAU,EACV,cAAAC,EAAgB,sBAChB,SAAAC,EAAW,EACb,EAAI,GAAI,CACN,MAAMC,EAAaC,SAAO,IAAI,EAE9BC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIH,EACF,OAGF,MAAMI,EAAOH,EAAW,QACxB,GAAI,CAACG,EACH,OAGF,MAAMC,EAAWP,EAAU,EAAI,MAAM,KAAKM,EAAK,iBAAiBL,CAAa,CAAC,EAAI,GAE5EO,EAAa,CAACC,EAAQC,IAAU,CAChCA,EACFD,EAAO,MAAM,YAAY,kBAAmB,GAAGC,CAAK,IAAI,EAExDD,EAAO,MAAM,eAAe,iBAAiB,CAEjD,EAEME,EAAiB,IAAM,CACtBJ,EAAS,QAEdA,EAAS,QAAQ,CAACK,EAAOC,IAAU,CACjCL,EAAWI,EAAOb,EAAQc,EAAQb,CAAO,EACzCY,EAAM,UAAU,IAAI,mBAAmB,CACzC,CAAC,CACH,EAEME,EAAgB,IAAM,CACrBP,EAAS,QAEdA,EAAS,QAASK,GAAU,CAC1BA,EAAM,UAAU,OAAO,mBAAmB,GACtCb,GAASC,IACXY,EAAM,MAAM,eAAe,iBAAiB,CAEhD,CAAC,CACH,EAEAJ,EAAWF,EAAMP,CAAK,EAEtB,MAAMgB,EAAY,OAAO,OAAW,IAC9BC,EACJD,GAAa,OAAO,WAChB,OAAO,WAAW,kCAAkC,EAAE,QACtD,GAGN,GAAI,EAFiCA,GAAa,yBAA0B,SAEvCC,EACnC,OAAAV,EAAK,UAAU,IAAI,mBAAmB,EACtCK,IACO,IAAM,CACXL,EAAK,UAAU,OAAO,mBAAmB,EACzCQ,IACAN,EAAWF,EAAM,CAAC,CACpB,EAGF,MAAMW,EAAW,IAAI,qBAClBC,GAAY,CACXA,EAAQ,QAASC,GAAU,CACrBA,EAAM,gBACRb,EAAK,UAAU,IAAI,mBAAmB,EACtCK,IACIb,GACFmB,EAAS,UAAUE,EAAM,MAAM,GAEvBrB,IACVQ,EAAK,UAAU,OAAO,mBAAmB,EACzCQ,IAEJ,CAAC,CACH,EACA,CAAE,UAAAnB,EAAW,KAAAC,EAAM,WAAAC,CAAU,CACnC,EAEI,OAAAoB,EAAS,QAAQX,CAAI,EAEd,IAAM,CACXW,EAAS,UAAUX,CAAI,EACvBA,EAAK,UAAU,OAAO,mBAAmB,EACzCQ,IACAN,EAAWF,EAAM,CAAC,CACpB,CACF,EAAG,CAACX,EAAWC,EAAMC,EAAYC,EAAMC,EAAOC,EAASC,EAAeC,CAAQ,CAAC,EAExEC,CACT"}