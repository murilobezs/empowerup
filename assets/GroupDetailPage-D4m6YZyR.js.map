{"version":3,"file":"GroupDetailPage-D4m6YZyR.js","sources":["../../node_modules/lucide-react/dist/esm/icons/settings-2.js","../../node_modules/lucide-react/dist/esm/icons/user-minus.js","../../src/components/groups/GroupSettingsDialog.jsx","../../src/pages/GroupDetailPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 17H5\", key: \"gfn3mx\" }],\n  [\"path\", { d: \"M19 7h-9\", key: \"6i9tg\" }],\n  [\"circle\", { cx: \"17\", cy: \"17\", r: \"3\", key: \"18b49y\" }],\n  [\"circle\", { cx: \"7\", cy: \"7\", r: \"3\", key: \"dfmy0x\" }]\n];\nconst Settings2 = createLucideIcon(\"settings-2\", __iconNode);\n\nexport { __iconNode, Settings2 as default };\n//# sourceMappingURL=settings-2.js.map\n","/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserMinus = createLucideIcon(\"user-minus\", __iconNode);\n\nexport { __iconNode, UserMinus as default };\n//# sourceMappingURL=user-minus.js.map\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../ui/dialog';\r\nimport { Button } from '../ui/button';\r\nimport { Input } from '../ui/input';\r\nimport { Textarea } from '../ui/textarea';\r\nimport { Label } from '../ui/label';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '../ui/select';\r\n\r\nconst DEFAULT_FORM = {\r\n  nome: '',\r\n  descricao: '',\r\n  categoria: '',\r\n  regras: '',\r\n  tags: '',\r\n  privacidade: 'publico',\r\n  moderacao_nivel: 'moderado',\r\n  imagem: '',\r\n  imagem_capa: '',\r\n};\r\n\r\nconst PRIVACIDADE_OPTIONS = [\r\n  { value: 'publico', label: 'Público' },\r\n  { value: 'privado', label: 'Privado' },\r\n  { value: 'somente_convidados', label: 'Somente convidadas' },\r\n];\r\n\r\nconst MODERACAO_OPTIONS = [\r\n  { value: 'aberto', label: 'Aberto (entrada imediata)' },\r\n  { value: 'moderado', label: 'Moderado (confirmação necessária)' },\r\n  { value: 'restrito', label: 'Restrito (maior controle)' },\r\n];\r\n\r\nexport default function GroupSettingsDialog({\r\n  open,\r\n  onOpenChange,\r\n  group,\r\n  onSubmit,\r\n  saving = false,\r\n}) {\r\n  const [form, setForm] = useState(DEFAULT_FORM);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      if (group) {\r\n        setForm({\r\n          nome: group.nome || '',\r\n          descricao: group.descricao || '',\r\n          categoria: group.categoria || '',\r\n          regras: group.regras || '',\r\n          tags: Array.isArray(group.tags) ? group.tags.join(', ') : group.tags || '',\r\n          privacidade: group.privacidade || 'publico',\r\n          moderacao_nivel: group.moderacao_nivel || 'moderado',\r\n          imagem: group.imagem || '',\r\n          imagem_capa: group.imagem_capa || '',\r\n        });\r\n      } else {\r\n        setForm(DEFAULT_FORM);\r\n      }\r\n    }\r\n  }, [group, open]);\r\n\r\n  const isValid = useMemo(() => form.nome.trim().length > 2, [form.nome]);\r\n\r\n  const handleChange = (field) => (event) => {\r\n    const value = event?.target ? event.target.value : event;\r\n    setForm((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (!isValid || saving) return;\r\n    onSubmit?.({ ...form });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-3xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>Configurações do grupo</DialogTitle>\r\n          <DialogDescription>\r\n            Personalize as informações principais do grupo e defina como novas integrantes podem participar.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"grid gap-4 sm:grid-cols-2\">\r\n            <div className=\"space-y-2 sm:col-span-2\">\r\n              <Label htmlFor=\"nome\">Nome do grupo</Label>\r\n              <Input\r\n                id=\"nome\"\r\n                required\r\n                value={form.nome}\r\n                onChange={handleChange('nome')}\r\n                placeholder=\"Comunidade das Empreendedoras Criativas\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2 sm:col-span-2\">\r\n              <Label htmlFor=\"descricao\">Descrição</Label>\r\n              <Textarea\r\n                id=\"descricao\"\r\n                rows={4}\r\n                value={form.descricao}\r\n                onChange={handleChange('descricao')}\r\n                placeholder=\"Explique o propósito, temas e o que as empreendedoras encontram por aqui.\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"categoria\">Categoria principal</Label>\r\n              <Input\r\n                id=\"categoria\"\r\n                value={form.categoria}\r\n                onChange={handleChange('categoria')}\r\n                placeholder=\"Ex.: Marketing, Tecnologia, Artesanato\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"tags\">Tags</Label>\r\n              <Input\r\n                id=\"tags\"\r\n                value={form.tags}\r\n                onChange={handleChange('tags')}\r\n                placeholder=\"Separe por vírgula (ex.: networking,finanças,inspiração)\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"privacidade\">Privacidade</Label>\r\n              <Select value={form.privacidade} onValueChange={handleChange('privacidade')}>\r\n                <SelectTrigger id=\"privacidade\">\r\n                  <SelectValue placeholder=\"Selecione a privacidade\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {PRIVACIDADE_OPTIONS.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"moderacao\">Moderação</Label>\r\n              <Select value={form.moderacao_nivel} onValueChange={handleChange('moderacao_nivel')}>\r\n                <SelectTrigger id=\"moderacao\">\r\n                  <SelectValue placeholder=\"Selecione como novas integrantes entram\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {MODERACAO_OPTIONS.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 sm:col-span-2\">\r\n              <Label htmlFor=\"regras\">Regras e orientações</Label>\r\n              <Textarea\r\n                id=\"regras\"\r\n                rows={3}\r\n                value={form.regras}\r\n                onChange={handleChange('regras')}\r\n                placeholder=\"Compartilhe as boas práticas, combinados e links úteis para manter a comunidade segura.\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"imagem\">Imagem (avatar)</Label>\r\n              <Input\r\n                id=\"imagem\"\r\n                value={form.imagem}\r\n                onChange={handleChange('imagem')}\r\n                placeholder=\"URL da imagem quadrada do grupo\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"imagem_capa\">Imagem de capa</Label>\r\n              <Input\r\n                id=\"imagem_capa\"\r\n                value={form.imagem_capa}\r\n                onChange={handleChange('imagem_capa')}\r\n                placeholder=\"URL para a capa do grupo\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-end gap-3 border-t pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange?.(false)} disabled={saving}>\r\n              Cancelar\r\n            </Button>\r\n            <Button type=\"submit\" disabled={!isValid || saving}>\r\n              {saving ? 'Salvando...' : 'Salvar alterações'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { MainLayout } from '../components/layout';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\r\nimport { Button } from '../components/ui/button';\r\nimport { Badge } from '../components/ui/badge';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '../components/ui/avatar';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\r\nimport { Loading } from '../components/common';\r\nimport { useToast } from '../components/ui/toast';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport apiService from '../services/api';\r\nimport GroupSettingsDialog from '../components/groups/GroupSettingsDialog';\r\nimport SocialPost from '../components/SocialPost';\r\nimport EmpowerUpCreatePost from '../components/EmpowerUpCreatePost';\r\nimport EditPostModal from '../components/EditPostModal';\r\nimport {\r\n  Users,\r\n  ShieldCheck,\r\n  CheckCircle2,\r\n  Clock3,\r\n  Settings2,\r\n  Lock,\r\n  Globe,\r\n  Tag,\r\n  AlertCircle,\r\n  Loader2,\r\n  UserMinus,\r\n  MailCheck,\r\n} from 'lucide-react';\r\n\r\nconst GROUP_TABS = [\r\n  { value: 'overview', label: 'Visão geral' },\r\n  { value: 'discussions', label: 'Discussões' },\r\n  { value: 'members', label: 'Membros' },\r\n];\r\n\r\nconst POSTS_PAGE_SIZE = 10;\r\n\r\nfunction resolveInitials(name = '') {\r\n  if (!name) return '?';\r\n  const parts = name.trim().split(/\\s+/);\r\n  if (parts.length === 1) {\r\n    return parts[0].slice(0, 2).toUpperCase();\r\n  }\r\n  return `${parts[0][0]}${parts[parts.length - 1][0]}`.toUpperCase();\r\n}\r\n\r\nfunction formatTagList(tags) {\r\n  if (Array.isArray(tags)) {\r\n    return tags;\r\n  }\r\n  if (typeof tags === 'string' && tags.trim()) {\r\n    try {\r\n      const parsed = JSON.parse(tags);\r\n      if (Array.isArray(parsed)) {\r\n        return parsed;\r\n      }\r\n    } catch (error) {\r\n      // ignore JSON parse error\r\n    }\r\n    return tags.split(',').map((tag) => tag.trim()).filter(Boolean);\r\n  }\r\n  return [];\r\n}\r\n\r\nexport default function GroupDetailPage() {\r\n  const { slug } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { addToast } = useToast();\r\n  const addToastRef = useRef(addToast);\r\n\r\n  useEffect(() => {\r\n    addToastRef.current = addToast;\r\n  }, [addToast]);\r\n\r\n  const showToast = useCallback((message, type = 'info') => {\r\n    if (typeof addToastRef.current === 'function') {\r\n      addToastRef.current(message, type);\r\n    }\r\n  }, []);\r\n\r\n  const [group, setGroup] = useState(null);\r\n  const [members, setMembers] = useState([]);\r\n  const [pendingRequests, setPendingRequests] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [requests, setRequests] = useState([]);\r\n  const [requestsLoading, setRequestsLoading] = useState(false);\r\n  const [joining, setJoining] = useState(false);\r\n  const [leaving, setLeaving] = useState(false);\r\n  const [processingRequestId, setProcessingRequestId] = useState(null);\r\n  const [removingMemberId, setRemovingMemberId] = useState(null);\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [savingSettings, setSavingSettings] = useState(false);\r\n  const [posts, setPosts] = useState([]);\r\n  const [postsLoading, setPostsLoading] = useState(false);\r\n  const [loadingMorePosts, setLoadingMorePosts] = useState(false);\r\n  const [postsError, setPostsError] = useState(null);\r\n  const [postsPagination, setPostsPagination] = useState({\r\n    page: 1,\r\n    pages: 1,\r\n    total: 0,\r\n    limit: POSTS_PAGE_SIZE,\r\n  });\r\n  const [editingPost, setEditingPost] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n\r\n  const loadGroup = useCallback(async () => {\r\n    if (!slug) {\r\n      setGroup(null);\r\n      setMembers([]);\r\n      setPendingRequests(0);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const numericSlug = /^\\d+$/.test(slug);\r\n\r\n    try {\r\n      let response = null;\r\n\r\n      if (numericSlug) {\r\n        response = await apiService.getGroup(slug);\r\n      } else {\r\n        try {\r\n          response = await apiService.getGroupBySlug(slug);\r\n        } catch (error) {\r\n          if (error?.status === 404 && /^\\d+$/.test(slug)) {\r\n            response = await apiService.getGroup(slug);\r\n          } else {\r\n            throw error;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (response?.success) {\r\n        setGroup(response.group);\r\n        setMembers(response.members || []);\r\n        setPendingRequests(response.pending_requests || 0);\r\n      } else {\r\n        showToast(response?.message || 'Grupo não encontrado', 'error');\r\n        setGroup(null);\r\n        setMembers([]);\r\n        setPendingRequests(0);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar grupo', error);\r\n      showToast(error?.message || 'Não foi possível carregar o grupo', 'error');\r\n      setGroup(null);\r\n      setMembers([]);\r\n      setPendingRequests(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [slug, showToast]);\r\n\r\n  useEffect(() => {\r\n    loadGroup();\r\n  }, [loadGroup]);\r\n\r\n  const canModerate = !!group?.permissions?.can_moderate;\r\n  const canEdit = !!group?.permissions?.can_edit;\r\n  const membershipStatus = group?.membership?.status;\r\n  const isMember = !!group?.membership?.is_member;\r\n  const isPending = !!group?.membership?.is_pending;\r\n  const isAdmin = user?.tipo === 'admin';\r\n  const canViewFeed = isAdmin || isMember;\r\n  const canCreatePost = canViewFeed && !isPending;\r\n  const hasMorePosts = (postsPagination.page ?? 1) < (postsPagination.pages ?? 1);\r\n  const joinButtonLabel = useMemo(() => {\r\n    if (!group) return 'Participar do grupo';\r\n    if (group?.privacidade === 'somente_convidados' || group?.moderacao_nivel === 'restrito') {\r\n      return 'Solicitar participação';\r\n    }\r\n    return 'Participar do grupo';\r\n  }, [group]);\r\n\r\n  const loadRequests = useCallback(async () => {\r\n    if (!group?.id || !canModerate) return;\r\n    setRequestsLoading(true);\r\n    try {\r\n      const response = await apiService.listGroupRequests(group.id);\r\n      if (response?.success) {\r\n        setRequests(response.requests || []);\r\n        setPendingRequests(response.requests ? response.requests.length : 0);\r\n      } else {\r\n        showToast(response?.message || 'Erro ao carregar solicitações', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar solicitações do grupo', error);\r\n      showToast('Falha ao carregar solicitações pendentes', 'error');\r\n    } finally {\r\n      setRequestsLoading(false);\r\n    }\r\n  }, [group?.id, canModerate, showToast]);\r\n\r\n  useEffect(() => {\r\n    if (canModerate) {\r\n      loadRequests();\r\n    }\r\n  }, [canModerate, loadRequests]);\r\n\r\n  const handleJoin = useCallback(async () => {\r\n    if (!group?.id || joining) return;\r\n    setJoining(true);\r\n    try {\r\n      const response = await apiService.joinGroup(group.id);\r\n      if (response?.success) {\r\n        showToast(response?.message || 'Você entrou no grupo!', 'success');\r\n        await loadGroup();\r\n        if (canModerate) {\r\n          await loadRequests();\r\n        }\r\n      } else {\r\n        showToast(response?.message || 'Não foi possível participar do grupo', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao entrar no grupo', error);\r\n      showToast(error?.message || 'Não foi possível participar do grupo', 'error');\r\n    } finally {\r\n      setJoining(false);\r\n    }\r\n  }, [group?.id, joining, showToast, loadGroup, canModerate, loadRequests]);\r\n\r\n  const handleLeave = useCallback(async () => {\r\n    if (!group?.id || leaving) return;\r\n    if (!window.confirm('Tem certeza que deseja sair deste grupo?')) return;\r\n    setLeaving(true);\r\n    try {\r\n      const response = await apiService.leaveGroup(group.id);\r\n      if (response?.success) {\r\n        showToast(response?.message || 'Você saiu do grupo', 'success');\r\n        await loadGroup();\r\n      } else {\r\n        showToast(response?.message || 'Não foi possível sair do grupo', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao sair do grupo', error);\r\n      showToast(error?.message || 'Não foi possível sair do grupo', 'error');\r\n    } finally {\r\n      setLeaving(false);\r\n    }\r\n  }, [group?.id, leaving, showToast, loadGroup]);\r\n\r\n  const handleRespondRequest = useCallback(async (requestId, status) => {\r\n    if (!group?.id) return;\r\n    setProcessingRequestId(requestId);\r\n    try {\r\n      const response = await apiService.respondGroupRequest(group.id, requestId, status);\r\n      if (response?.success) {\r\n        showToast('Solicitação atualizada', 'success');\r\n        await Promise.all([loadRequests(), loadGroup()]);\r\n      } else {\r\n        showToast(response?.message || 'Não foi possível atualizar a solicitação', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao atualizar solicitação', error);\r\n      showToast(error?.message || 'Não foi possível atualizar a solicitação', 'error');\r\n    } finally {\r\n      setProcessingRequestId(null);\r\n    }\r\n  }, [group?.id, showToast, loadRequests, loadGroup]);\r\n\r\n  const handleRemoveMember = useCallback(async (memberId) => {\r\n    if (!group?.id || !memberId) return;\r\n    if (!window.confirm('Remover esta integrante do grupo?')) return;\r\n    setRemovingMemberId(memberId);\r\n    try {\r\n      const response = await apiService.removeGroupMember(group.id, memberId);\r\n      if (response?.success) {\r\n        showToast('Integrante removida', 'success');\r\n        await loadGroup();\r\n      } else {\r\n        showToast(response?.message || 'Não foi possível remover a integrante', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao remover integrante', error);\r\n      showToast(error?.message || 'Não foi possível remover a integrante', 'error');\r\n    } finally {\r\n      setRemovingMemberId(null);\r\n    }\r\n  }, [group?.id, showToast, loadGroup]);\r\n\r\n  const handleSaveSettings = useCallback(async (formData) => {\r\n    if (!group?.id) return;\r\n    setSavingSettings(true);\r\n    try {\r\n      const payload = {\r\n        ...formData,\r\n        tags: formData.tags\r\n          ? formData.tags.split(',').map((tag) => tag.trim()).filter(Boolean)\r\n          : [],\r\n      };\r\n\r\n      const response = await apiService.updateGroup(group.id, payload);\r\n      if (response?.success) {\r\n        showToast('Configurações atualizadas', 'success');\r\n        setSettingsOpen(false);\r\n        await loadGroup();\r\n      } else {\r\n        showToast(response?.message || 'Não foi possível salvar as alterações', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao atualizar grupo', error);\r\n      showToast(error?.message || 'Não foi possível salvar as alterações', 'error');\r\n    } finally {\r\n      setSavingSettings(false);\r\n    }\r\n  }, [group?.id, showToast, loadGroup]);\r\n\r\n  const loadGroupPosts = useCallback(async (page = 1, append = false) => {\r\n    if (!group?.id || !canViewFeed) {\r\n      return;\r\n    }\r\n\r\n    const limit = POSTS_PAGE_SIZE;\r\n\r\n    if (append) {\r\n      setLoadingMorePosts(true);\r\n    } else {\r\n      setPostsLoading(true);\r\n      setPostsError(null);\r\n    }\r\n\r\n    try {\r\n      const response = await apiService.getGroupPosts(group.id, { page, limit });\r\n      if (response?.success) {\r\n        const fetchedPosts = response.posts || [];\r\n        let newItemsCount = 0;\r\n\r\n        setPosts((prevPosts) => {\r\n          if (!append) {\r\n            return fetchedPosts;\r\n          }\r\n\r\n          const existingIds = new Set(prevPosts.map((post) => post.id));\r\n          const merged = [...prevPosts];\r\n          fetchedPosts.forEach((post) => {\r\n            if (!existingIds.has(post.id)) {\r\n              merged.push(post);\r\n              newItemsCount += 1;\r\n            }\r\n          });\r\n\r\n          return merged;\r\n        });\r\n\r\n        const paginationData = response.pagination || {};\r\n        setPostsPagination((prev) => {\r\n          const baseTotal = paginationData.total ?? paginationData.totalPosts;\r\n          const nextTotal = baseTotal !== undefined\r\n            ? baseTotal\r\n            : (append ? (prev.total ?? 0) + newItemsCount : fetchedPosts.length);\r\n\r\n          const nextLimit = paginationData.limit ?? paginationData.per_page ?? limit;\r\n          const nextPages = paginationData.pages\r\n            ?? paginationData.totalPages\r\n            ?? (nextLimit ? Math.max(1, Math.ceil(nextTotal / nextLimit)) : prev.pages);\r\n\r\n          return {\r\n            page: paginationData.page ?? page,\r\n            pages: nextPages,\r\n            total: nextTotal,\r\n            limit: nextLimit,\r\n          };\r\n        });\r\n\r\n        setPostsError(null);\r\n      } else {\r\n        if (!append) {\r\n          setPosts([]);\r\n        }\r\n        setPostsError(response?.message || 'Não foi possível carregar as publicações do grupo.');\r\n      }\r\n    } catch (error) {\r\n      if (!append) {\r\n        setPosts([]);\r\n      }\r\n      if (error?.status === 403) {\r\n        setPostsError('Você precisa ser integrante ativa deste grupo para visualizar as discussões.');\r\n      } else {\r\n        setPostsError(error?.message || 'Erro ao carregar as discussões do grupo.');\r\n        showToast('Erro ao carregar as discussões do grupo', 'error');\r\n      }\r\n    } finally {\r\n      if (append) {\r\n        setLoadingMorePosts(false);\r\n      } else {\r\n        setPostsLoading(false);\r\n      }\r\n    }\r\n  }, [group?.id, canViewFeed, showToast]);\r\n\r\n  const handlePostCreated = useCallback(async (postData, mediaFile) => {\r\n    if (!group?.id) {\r\n      return { success: false, message: 'Grupo inválido' };\r\n    }\r\n\r\n    try {\r\n      const result = await apiService.createPost(\r\n        {\r\n          ...postData,\r\n          grupo_id: group.id,\r\n          escopo_visibilidade: 'grupo',\r\n        },\r\n        mediaFile\r\n      );\r\n\r\n      if (result?.success && result.post) {\r\n        setPosts((prev) => {\r\n          const existingIndex = prev.findIndex((item) => item.id === result.post.id);\r\n          if (existingIndex >= 0) {\r\n            const updated = [...prev];\r\n            updated.splice(existingIndex, 1);\r\n            return [result.post, ...updated];\r\n          }\r\n          return [result.post, ...prev];\r\n        });\r\n\r\n        setPostsPagination((prev) => ({\r\n          ...prev,\r\n          total: (prev.total ?? 0) + 1,\r\n        }));\r\n\r\n        setGroup((prev) => (prev ? { ...prev, ultima_atividade: new Date().toISOString() } : prev));\r\n        setPostsError(null);\r\n\r\n        return { success: true, post: result.post };\r\n      }\r\n\r\n      const message = result?.message || 'Não foi possível publicar no grupo.';\r\n      showToast(message, 'error');\r\n      return { success: false, message };\r\n    } catch (error) {\r\n      const message = error?.message || 'Erro ao publicar no grupo.';\r\n      showToast(message, 'error');\r\n      return { success: false, message };\r\n    }\r\n  }, [group?.id, showToast]);\r\n\r\n  const handleLoadMorePosts = useCallback(() => {\r\n    if (loadingMorePosts) {\r\n      return;\r\n    }\r\n\r\n    const nextPage = (postsPagination.page ?? 1) + 1;\r\n    if (nextPage <= (postsPagination.pages ?? 1)) {\r\n      loadGroupPosts(nextPage, true);\r\n    }\r\n  }, [loadingMorePosts, postsPagination.page, postsPagination.pages, loadGroupPosts]);\r\n\r\n  const handlePostLike = useCallback((postId, liked, likesCount) => {\r\n    setPosts((prev) =>\r\n      prev.map((post) =>\r\n        post.id === postId\r\n          ? { ...post, likes: likesCount, likes_count: likesCount, user_liked: liked, isLiked: liked }\r\n          : post\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const handlePostSave = useCallback((postId, saved) => {\r\n    setPosts((prev) =>\r\n      prev.map((post) =>\r\n        post.id === postId ? { ...post, user_saved: saved, isSaved: saved } : post\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const handlePostDelete = useCallback(async (postId) => {\r\n    if (!window.confirm('Remover esta publicação do grupo?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await apiService.deletePost(postId);\r\n      if (response?.success) {\r\n        setPosts((prev) => prev.filter((post) => post.id !== postId));\r\n        setPostsPagination((prev) => ({\r\n          ...prev,\r\n          total: Math.max((prev.total ?? 1) - 1, 0),\r\n        }));\r\n        showToast(response?.message || 'Post removido com sucesso.', 'success');\r\n      } else {\r\n        throw new Error(response?.message || 'Não foi possível remover o post.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao remover post do grupo', error);\r\n      showToast(error?.message || 'Não foi possível remover o post.', 'error');\r\n    }\r\n  }, [showToast]);\r\n\r\n  const handleEditPost = useCallback((post) => {\r\n    setEditingPost(post);\r\n    setShowEditModal(true);\r\n  }, []);\r\n\r\n  const closeEditModal = useCallback(() => {\r\n    setShowEditModal(false);\r\n    setEditingPost(null);\r\n  }, []);\r\n\r\n  const handleSaveEditPost = useCallback(async (postId, updatedData) => {\r\n    const response = await apiService.updatePost(postId, updatedData);\r\n    if (response?.success && response.post) {\r\n      setPosts((prev) =>\r\n        prev.map((post) => (post.id === postId ? { ...post, ...response.post } : post))\r\n      );\r\n      return response.post;\r\n    }\r\n\r\n    throw new Error(response?.message || 'Não foi possível atualizar o post.');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!group?.id) {\r\n      setPosts([]);\r\n      setPostsError(null);\r\n      setPostsPagination({\r\n        page: 1,\r\n        pages: 1,\r\n        total: 0,\r\n        limit: POSTS_PAGE_SIZE,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (canViewFeed) {\r\n      loadGroupPosts(1, false);\r\n    } else {\r\n      setPosts([]);\r\n      setPostsPagination({\r\n        page: 1,\r\n        pages: 1,\r\n        total: 0,\r\n        limit: POSTS_PAGE_SIZE,\r\n      });\r\n      setPostsError(isPending\r\n        ? 'Sua solicitação ainda está pendente. Assim que for aprovada, o feed ficará disponível.'\r\n        : 'Entre no grupo para visualizar e participar das discussões internas.'\r\n      );\r\n      setPostsLoading(false);\r\n      setLoadingMorePosts(false);\r\n    }\r\n  }, [group?.id, canViewFeed, isPending, loadGroupPosts]);\r\n\r\n  const feedAccessMessage = isPending\r\n    ? 'Sua solicitação ainda está pendente. Assim que for aprovada, o mural ficará disponível.'\r\n    : 'Entre no grupo para visualizar e participar das discussões internas.';\r\n\r\n  const tagList = useMemo(() => formatTagList(group?.tags), [group?.tags]);\r\n  const postsPreview = useMemo(() => posts.slice(0, 3), [posts]);\r\n  const formatPreviewTime = useCallback((post) => {\r\n    if (post?.timeAgo) return post.timeAgo;\r\n    if (post?.created_at) {\r\n      const date = new Date(post.created_at);\r\n      if (!Number.isNaN(date.getTime())) {\r\n        return date.toLocaleDateString('pt-BR', { day: '2-digit', month: 'short' });\r\n      }\r\n    }\r\n    return '';\r\n  }, []);\r\n\r\n  const renderHeroActions = () => {\r\n    if (!group) return null;\r\n\r\n    if (isMember) {\r\n      return (\r\n        <div className=\"flex flex-wrap items-center gap-3\">\r\n          {canEdit && (\r\n            <Button variant=\"secondary\" onClick={() => setSettingsOpen(true)}>\r\n              <Settings2 className=\"mr-2 h-4 w-4\" />\r\n              Personalizar grupo\r\n            </Button>\r\n          )}\r\n          <Button variant=\"outline\" onClick={handleLeave} disabled={leaving}>\r\n            {leaving ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Saindo...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <UserMinus className=\"mr-2 h-4 w-4\" />\r\n                Sair do grupo\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (isPending) {\r\n      return (\r\n        <Button variant=\"secondary\" disabled className=\"opacity-80\">\r\n          <Clock3 className=\"mr-2 h-4 w-4\" />\r\n          Solicitação pendente\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button onClick={handleJoin} disabled={joining}>\r\n        {joining ? (\r\n          <>\r\n            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n            Enviando...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <MailCheck className=\"mr-2 h-4 w-4\" />\r\n            {joinButtonLabel}\r\n          </>\r\n        )}\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  const renderRequestsCard = () => {\r\n    if (!canModerate) return null;\r\n\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 text-base\">\r\n            <ShieldCheck className=\"h-4 w-4 text-olive\" />\r\n            Solicitações pendentes\r\n            {pendingRequests > 0 && (\r\n              <Badge variant=\"secondary\" className=\"ml-auto bg-olive/15 text-olive\">\r\n                {pendingRequests}\r\n              </Badge>\r\n            )}\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {requestsLoading ? (\r\n            <div className=\"space-y-3\">\r\n              {[1, 2, 3].map((skeleton) => (\r\n                <div key={skeleton} className=\"animate-pulse rounded-lg border border-dashed border-gray-200 p-3\">\r\n                  <div className=\"h-4 w-1/3 bg-gray-200/70\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : requests.length === 0 ? (\r\n            <p className=\"text-sm text-gray-500\">\r\n              Nenhuma solicitação aguardando aprovação.\r\n            </p>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {requests.map((request) => (\r\n                <div\r\n                  key={request.id}\r\n                  className=\"rounded-xl border border-gray-100 p-3 shadow-sm\"\r\n                >\r\n                  <div className=\"flex items-start justify-between gap-3\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Avatar className=\"h-10 w-10\">\r\n                        <AvatarImage src={request.usuario?.avatar_url || undefined} alt={request.usuario?.nome} />\r\n                        <AvatarFallback>{resolveInitials(request.usuario?.nome)}</AvatarFallback>\r\n                      </Avatar>\r\n                      <div>\r\n                        <p className=\"text-sm font-semibold text-gray-900\">{request.usuario?.nome}</p>\r\n                        <p className=\"text-xs text-gray-500\">@{request.usuario?.username}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        disabled={processingRequestId === request.id}\r\n                        onClick={() => handleRespondRequest(request.id, 'rejeitado')}\r\n                      >\r\n                        {processingRequestId === request.id ? (\r\n                          <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                        ) : (\r\n                          'Recusar'\r\n                        )}\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        disabled={processingRequestId === request.id}\r\n                        onClick={() => handleRespondRequest(request.id, 'aprovado')}\r\n                      >\r\n                        {processingRequestId === request.id ? (\r\n                          <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                        ) : (\r\n                          'Aceitar'\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const renderMembersList = (variant = 'grid') => {\r\n    if (!members.length) {\r\n      return (\r\n        <Card>\r\n          <CardContent className=\"py-8 text-center text-sm text-gray-500\">\r\n            Ainda não há integrantes ativas além da criadora.\r\n          </CardContent>\r\n        </Card>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={variant === 'grid' ? 'grid gap-4 sm:grid-cols-2' : 'space-y-3'}>\r\n        {members.map((member) => {\r\n          const isSelf = member.is_self;\r\n          const canRemove = canModerate && member.can_be_removed && !isSelf;\r\n          return (\r\n            <Card key={member.id} className=\"overflow-hidden border border-gray-100\">\r\n              <CardContent className=\"flex items-center justify-between gap-4 p-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Avatar className=\"h-12 w-12\">\r\n                    <AvatarImage src={member.avatar_url || undefined} alt={member.nome} />\r\n                    <AvatarFallback>{resolveInitials(member.nome)}</AvatarFallback>\r\n                  </Avatar>\r\n                  <div>\r\n                    <p className=\"text-sm font-semibold text-gray-900\">{member.nome}</p>\r\n                    <p className=\"text-xs text-gray-500\">@{member.username}</p>\r\n                    <div className=\"mt-1 flex items-center gap-2\">\r\n                      <Badge variant=\"secondary\" className=\"bg-olive/10 text-olive\">\r\n                        {member.papel === 'owner' ? 'Criadora' : member.papel === 'moderador' ? 'Moderadora' : 'Membro'}\r\n                      </Badge>\r\n                      {member.status !== 'ativo' && (\r\n                        <Badge variant=\"secondary\" className=\"bg-amber-100 text-amber-700\">\r\n                          {member.status}\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {canRemove && (\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"text-red-500 hover:text-red-600\"\r\n                    disabled={removingMemberId === member.id}\r\n                    onClick={() => handleRemoveMember(member.id)}\r\n                  >\r\n                    {removingMemberId === member.id ? (\r\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                    ) : (\r\n                      'Remover'\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <MainLayout>\r\n        <div className=\"flex min-h-[50vh] items-center justify-center\">\r\n          <Loading />\r\n        </div>\r\n      </MainLayout>\r\n    );\r\n  }\r\n\r\n  if (!group) {\r\n    return (\r\n      <MainLayout>\r\n        <div className=\"mx-auto max-w-3xl px-4 py-20 text-center\">\r\n          <AlertCircle className=\"mx-auto h-12 w-12 text-coral\" />\r\n          <h1 className=\"mt-6 text-2xl font-bold text-gray-900\">Grupo não encontrado</h1>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            Talvez o link tenha expirado ou você não tenha permissão para visualizar este grupo.\r\n          </p>\r\n          <Button className=\"mt-6\" onClick={() => navigate(-1)}>\r\n            Voltar\r\n          </Button>\r\n        </div>\r\n      </MainLayout>\r\n    );\r\n  }\r\n\r\n  const coverUrl = group.imagem_capa || '';\r\n  const avatarUrl = group.imagem || '';\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"relative overflow-hidden bg-slate-900 text-white\">\r\n        {coverUrl ? (\r\n          <div className=\"absolute inset-0\">\r\n            <img src={coverUrl} alt={`Capa do grupo ${group.nome}`} className=\"h-full w-full object-cover\" />\r\n            <div className=\"absolute inset-0 bg-slate-900/65\" />\r\n          </div>\r\n        ) : (\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\" />\r\n        )}\r\n        <div className=\"relative z-10\">\r\n          <div className=\"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-10 md:flex-row md:items-end md:justify-between\">\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className=\"-mt-12 overflow-hidden rounded-2xl border-4 border-white/80 bg-white shadow-xl\">\r\n                <Avatar className=\"h-24 w-24 text-xl md:h-28 md:w-28\">\r\n                  <AvatarImage src={avatarUrl || undefined} alt={group.nome} />\r\n                  <AvatarFallback className=\"bg-olive text-white text-xl\">\r\n                    {resolveInitials(group.nome)}\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <h1 className=\"text-3xl font-bold tracking-tight md:text-4xl\">{group.nome}</h1>\r\n                  {group.membership?.role && (\r\n                    <Badge variant=\"secondary\" className=\"bg-white/15 text-white\">\r\n                      {group.membership.role === 'owner'\r\n                        ? 'Criadora'\r\n                        : group.membership.role === 'moderador'\r\n                          ? 'Moderadora'\r\n                          : 'Membro'}\r\n                    </Badge>\r\n                  )}\r\n                  {isAdmin && (\r\n                    <Badge variant=\"outline\" className=\"border-white/60 text-white\">\r\n                      Admin\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex flex-wrap items-center gap-3 text-sm text-white/80\">\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <Users className=\"h-4 w-4\" />\r\n                    {group.membros || members.length} membros\r\n                  </span>\r\n                  <span className=\"flex items-center gap-1\">\r\n                    {group.privacidade === 'publico' ? <Globe className=\"h-4 w-4\" /> : <Lock className=\"h-4 w-4\" />}\r\n                    {group.privacidade === 'publico' ? 'Público' : group.privacidade === 'privado' ? 'Privado' : 'Somente convidadas'}\r\n                  </span>\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <ShieldCheck className=\"h-4 w-4\" />\r\n                    {group.moderacao_nivel === 'aberto'\r\n                      ? 'Entrada imediata'\r\n                      : group.moderacao_nivel === 'moderado'\r\n                        ? 'Moderado'\r\n                        : 'Restrito'}\r\n                  </span>\r\n                </div>\r\n                {tagList.length > 0 && (\r\n                  <div className=\"flex flex-wrap items-center gap-2 text-xs\">\r\n                    {tagList.map((tag) => (\r\n                      <Badge key={tag} variant=\"secondary\" className=\"bg-white/20 text-white\">\r\n                        <Tag className=\"mr-1 h-3 w-3\" />\r\n                        {tag}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col items-stretch gap-3 text-sm\">\r\n              {renderHeroActions()}\r\n              {membershipStatus && (\r\n                <p className=\"text-xs text-white/80\">\r\n                  Status atual: {membershipStatus === 'ativo' ? 'Participando do grupo' : membershipStatus === 'pendente' ? 'Aguardando aprovação' : membershipStatus}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mx-auto max-w-6xl px-4 py-8\">\r\n        <div className=\"grid gap-6 lg:grid-cols-3\">\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-4\">\r\n              <TabsList>\r\n                {GROUP_TABS.map((tab) => (\r\n                  <TabsTrigger key={tab.value} value={tab.value}>\r\n                    {tab.label}\r\n                  </TabsTrigger>\r\n                ))}\r\n              </TabsList>\r\n\r\n              <TabsContent value=\"overview\" className=\"space-y-4\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Sobre o grupo</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-4 text-sm text-gray-600\">\r\n                    <p>{group.descricao || 'Este grupo ainda não possui uma descrição detalhada.'}</p>\r\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                      <div className=\"rounded-lg bg-gray-50 p-3\">\r\n                        <p className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Categoria</p>\r\n                        <p className=\"mt-1 text-sm text-gray-700\">{group.categoria || 'Não definida'}</p>\r\n                      </div>\r\n                      <div className=\"rounded-lg bg-gray-50 p-3\">\r\n                        <p className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Moderação</p>\r\n                        <p className=\"mt-1 text-sm text-gray-700\">\r\n                          {group.moderacao_nivel === 'aberto'\r\n                            ? 'Entradas imediatas'\r\n                            : group.moderacao_nivel === 'moderado'\r\n                              ? 'Solicitações precisam ser aprovadas'\r\n                              : 'Somente a criadora/moderadoras conseguem autorizar'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"rounded-lg bg-white p-3 shadow-sm ring-1 ring-gray-100\">\r\n                      <p className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Regras e combinados</p>\r\n                      <p className=\"mt-2 whitespace-pre-line text-sm text-gray-700\">\r\n                        {group.regras && group.regras.trim().length > 0\r\n                          ? group.regras\r\n                          : 'Estabeleça as regras do grupo para manter a comunidade colaborativa e segura.'}\r\n                      </p>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Atividade recente</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-4\">\r\n                    {!canViewFeed ? (\r\n                      <div className=\"rounded-lg border border-dashed border-gray-200 p-5 text-center text-sm text-gray-600\">\r\n                        {feedAccessMessage}\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        {postsLoading && posts.length === 0 && (\r\n                          <div className=\"flex justify-center py-6\">\r\n                            <Loading />\r\n                          </div>\r\n                        )}\r\n                        {!postsLoading && postsPreview.length === 0 && (\r\n                          <div className=\"rounded-lg border border-dashed border-gray-200 p-5 text-center text-sm text-gray-600\">\r\n                            Ainda não há publicações no mural deste grupo. Compartilhe a primeira ideia!\r\n                          </div>\r\n                        )}\r\n                        {postsPreview.length > 0 && (\r\n                          <>\r\n                            <div className=\"space-y-3\">\r\n                              {postsPreview.map((post) => (\r\n                                <div key={post.id} className=\"rounded-xl border border-gray-100 p-4 shadow-sm\">\r\n                                  <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                                    <span className=\"font-semibold text-gray-900 text-sm truncate pr-4\">{post.autor}</span>\r\n                                    <span>{formatPreviewTime(post)}</span>\r\n                                  </div>\r\n                                  <p className=\"mt-2 text-sm text-gray-700 line-clamp-3\">{post.conteudo}</p>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                            <Button\r\n                              variant=\"link\"\r\n                              className=\"px-0 text-coral\"\r\n                              onClick={() => setActiveTab('discussions')}\r\n                            >\r\n                              Acessar mural completo\r\n                            </Button>\r\n                          </>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"discussions\">\r\n                <div className=\"space-y-4\">\r\n                  {canViewFeed ? (\r\n                    <>\r\n                      {canCreatePost && user && (\r\n                        <EmpowerUpCreatePost\r\n                          user={user}\r\n                          onPostCreated={handlePostCreated}\r\n                          groupId={group.id}\r\n                          className=\"border border-gray-100 shadow-sm\"\r\n                          placeholder={`Compartilhe algo com ${group.nome}`}\r\n                        />\r\n                      )}\r\n\r\n                      {postsError && (\r\n                        <Card>\r\n                          <CardContent className=\"text-sm text-gray-600\">\r\n                            {postsError}\r\n                          </CardContent>\r\n                        </Card>\r\n                      )}\r\n\r\n                      {postsLoading && posts.length === 0 && !postsError && (\r\n                        <Card>\r\n                          <CardContent className=\"flex justify-center py-10\">\r\n                            <Loading />\r\n                          </CardContent>\r\n                        </Card>\r\n                      )}\r\n\r\n                      {posts.length > 0 && (\r\n                        <div className=\"space-y-4\">\r\n                          {posts.map((post) => (\r\n                            <SocialPost\r\n                              key={post.id}\r\n                              post={post}\r\n                              currentUser={user}\r\n                              onLike={handlePostLike}\r\n                              onSave={handlePostSave}\r\n                              onDelete={handlePostDelete}\r\n                              onUpdate={handleEditPost}\r\n                              showSaveButton\r\n                              showGroupBadge\r\n                              groupName={group.nome}\r\n                            />\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n\r\n                      {!postsLoading && posts.length === 0 && !postsError && (\r\n                        <Card>\r\n                          <CardContent className=\"py-10 text-center text-sm text-gray-600\">\r\n                            Ainda não há discussões ativas neste grupo. Que tal iniciar uma conversa?\r\n                          </CardContent>\r\n                        </Card>\r\n                      )}\r\n\r\n                      {hasMorePosts && (\r\n                        <div className=\"flex justify-center pt-2\">\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            onClick={handleLoadMorePosts}\r\n                            disabled={loadingMorePosts}\r\n                          >\r\n                            {loadingMorePosts ? (\r\n                              <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                Carregando...\r\n                              </>\r\n                            ) : (\r\n                              'Carregar mais publicações'\r\n                            )}\r\n                          </Button>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <Card>\r\n                      <CardContent className=\"py-10 text-center text-sm text-gray-600\">\r\n                        {feedAccessMessage}\r\n                      </CardContent>\r\n                    </Card>\r\n                  )}\r\n                </div>\r\n              </TabsContent>\r\n\r\n              <TabsContent value=\"members\" className=\"space-y-4\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Membros do grupo</CardTitle>\r\n                    <p className=\"text-sm text-gray-500\">{group.membros || members.length} empreendedoras participando</p>\r\n                  </CardHeader>\r\n                  <CardContent>{renderMembersList('list')}</CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n            </Tabs>\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                  <Users className=\"h-4 w-4 text-olive\" />\r\n                  Estatísticas do grupo\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3 text-sm text-gray-600\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>Membros ativos</span>\r\n                  <span className=\"font-semibold text-gray-900\">{group.membros || members.length}</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>Solicitações pendentes</span>\r\n                  <span className=\"font-semibold text-gray-900\">{pendingRequests}</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>Moderação</span>\r\n                  <span className=\"font-semibold text-gray-900\">\r\n                    {group.moderacao_nivel === 'aberto'\r\n                      ? 'Aberto'\r\n                      : group.moderacao_nivel === 'moderado'\r\n                        ? 'Moderado'\r\n                        : 'Restrito'}\r\n                  </span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {renderRequestsCard()}\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                  <CheckCircle2 className=\"h-4 w-4 text-coral\" />\r\n                  Dicas de engajamento\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3 text-sm text-gray-600\">\r\n                <p>• Defina objetivos claros na descrição para atrair as pessoas certas.</p>\r\n                <p>• Use as regras para combinar o tom das conversas e materiais permitidos.</p>\r\n                <p>• Incentive apresentações e compartilhamento de conquistas no lançamento.</p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <GroupSettingsDialog\r\n        open={settingsOpen}\r\n        onOpenChange={setSettingsOpen}\r\n        group={group}\r\n        onSubmit={handleSaveSettings}\r\n        saving={savingSettings}\r\n      />\r\n      <EditPostModal\r\n        isOpen={showEditModal}\r\n        onClose={closeEditModal}\r\n        post={editingPost}\r\n        onSave={handleSaveEditPost}\r\n      />\r\n    </MainLayout>\r\n  );\r\n}\r\n"],"names":["__iconNode","Settings2","createLucideIcon","UserMinus","DEFAULT_FORM","PRIVACIDADE_OPTIONS","MODERACAO_OPTIONS","GroupSettingsDialog","open","onOpenChange","group","onSubmit","saving","form","setForm","useState","useEffect","isValid","useMemo","handleChange","field","event","value","prev","handleSubmit","Dialog","jsxs","DialogContent","DialogHeader","jsx","DialogTitle","DialogDescription","Label","Input","Textarea","Select","SelectTrigger","SelectValue","SelectContent","option","SelectItem","Button","GROUP_TABS","POSTS_PAGE_SIZE","resolveInitials","name","parts","formatTagList","tags","parsed","tag","GroupDetailPage","slug","useParams","navigate","useNavigate","user","useAuth","addToast","useToast","addToastRef","useRef","showToast","useCallback","message","type","setGroup","members","setMembers","pendingRequests","setPendingRequests","loading","setLoading","activeTab","setActiveTab","requests","setRequests","requestsLoading","setRequestsLoading","joining","setJoining","leaving","setLeaving","processingRequestId","setProcessingRequestId","removingMemberId","setRemovingMemberId","settingsOpen","setSettingsOpen","savingSettings","setSavingSettings","posts","setPosts","postsLoading","setPostsLoading","loadingMorePosts","setLoadingMorePosts","postsError","setPostsError","postsPagination","setPostsPagination","editingPost","setEditingPost","showEditModal","setShowEditModal","loadGroup","numericSlug","response","apiService","error","canModerate","canEdit","membershipStatus","isMember","isPending","isAdmin","canViewFeed","canCreatePost","hasMorePosts","joinButtonLabel","loadRequests","handleJoin","handleLeave","handleRespondRequest","requestId","status","handleRemoveMember","memberId","handleSaveSettings","formData","payload","loadGroupPosts","page","append","limit","fetchedPosts","newItemsCount","prevPosts","existingIds","post","merged","paginationData","baseTotal","nextTotal","nextLimit","nextPages","handlePostCreated","postData","mediaFile","result","existingIndex","item","updated","handleLoadMorePosts","nextPage","handlePostLike","postId","liked","likesCount","handlePostSave","saved","handlePostDelete","handleEditPost","closeEditModal","handleSaveEditPost","updatedData","feedAccessMessage","tagList","postsPreview","formatPreviewTime","date","renderHeroActions","Fragment","Loader2","Clock3","MailCheck","renderRequestsCard","Card","CardHeader","CardTitle","ShieldCheck","Badge","CardContent","skeleton","request","Avatar","AvatarImage","AvatarFallback","renderMembersList","variant","member","isSelf","canRemove","MainLayout","Loading","AlertCircle","coverUrl","avatarUrl","Users","Globe","Lock","Tag","Tabs","TabsList","tab","TabsTrigger","TabsContent","EmpowerUpCreatePost","SocialPost","CheckCircle2","EditPostModal"],"mappings":"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","x_google_ignoreList":[0,1]}