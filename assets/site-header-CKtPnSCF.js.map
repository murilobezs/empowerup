{"version":3,"file":"site-header-CKtPnSCF.js","sources":["../../node_modules/lucide-react/dist/esm/icons/credit-card.js","../../node_modules/lucide-react/dist/esm/icons/megaphone.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/user-plus.js","../../src/components/ui/sheet.jsx","../../src/utils/notificationUtils.js","../../src/components/NotificationCenter.jsx","../../src/components/site-header.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n];\nconst CreditCard = createLucideIcon(\"credit-card\", __iconNode);\n\nexport { __iconNode, CreditCard as default };\n//# sourceMappingURL=credit-card.js.map\n","/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m3 11 18-5v12L3 14v-3z\", key: \"n962bs\" }],\n  [\"path\", { d: \"M11.6 16.8a3 3 0 1 1-5.8-1.6\", key: \"1yl0tm\" }]\n];\nconst Megaphone = createLucideIcon(\"megaphone\", __iconNode);\n\nexport { __iconNode, Megaphone as default };\n//# sourceMappingURL=megaphone.js.map\n","/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 12h16\", key: \"1lakjw\" }],\n  [\"path\", { d: \"M4 18h16\", key: \"19g7jn\" }],\n  [\"path\", { d: \"M4 6h16\", key: \"1o0s65\" }]\n];\nconst Menu = createLucideIcon(\"menu\", __iconNode);\n\nexport { __iconNode, Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Settings = createLucideIcon(\"settings\", __iconNode);\n\nexport { __iconNode, Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"8\", y2: \"14\", key: \"1bvyxn\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserPlus = createLucideIcon(\"user-plus\", __iconNode);\n\nexport { __iconNode, UserPlus as default };\n//# sourceMappingURL=user-plus.js.map\n","import * as React from \"react\"\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst Sheet = SheetPrimitive.Root\r\n\r\nconst SheetTrigger = SheetPrimitive.Trigger\r\n\r\nconst SheetClose = SheetPrimitive.Close\r\n\r\nconst SheetPortal = SheetPrimitive.Portal\r\n\r\nconst SheetOverlay = React.forwardRef(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className,\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\r\n\r\nconst sheetVariants = cva(\r\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n  {\r\n    variants: {\r\n      side: {\r\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\r\n        bottom:\r\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\r\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\r\n        right:\r\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      side: \"right\",\r\n    },\r\n  },\r\n)\r\n\r\nconst SheetContent = React.forwardRef(({ side = \"right\", className, children, ...props }, ref) => (\r\n  <SheetPortal>\r\n    <SheetOverlay />\r\n    <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\r\n      {children}\r\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </SheetPrimitive.Close>\r\n    </SheetPrimitive.Content>\r\n  </SheetPortal>\r\n))\r\nSheetContent.displayName = SheetPrimitive.Content.displayName\r\n\r\nconst SheetHeader = ({ className, ...props }) => (\r\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\r\n)\r\nSheetHeader.displayName = \"SheetHeader\"\r\n\r\nconst SheetFooter = ({ className, ...props }) => (\r\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\r\n)\r\nSheetFooter.displayName = \"SheetFooter\"\r\n\r\nconst SheetTitle = React.forwardRef(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\r\n))\r\nSheetTitle.displayName = SheetPrimitive.Title.displayName\r\n\r\nconst SheetDescription = React.forwardRef(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n))\r\nSheetDescription.displayName = SheetPrimitive.Description.displayName\r\n\r\nexport {\r\n  Sheet,\r\n  SheetPortal,\r\n  SheetOverlay,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n}\r\n","const TYPE_ALIASES = {\r\n  like: 'like',\r\n  curtida: 'like',\r\n  curtidas: 'like',\r\n  comment: 'comment',\r\n  comentario: 'comment',\r\n  comentarios: 'comment',\r\n  reply: 'comment',\r\n  follow: 'follow',\r\n  seguidor: 'follow',\r\n  seguidores: 'follow',\r\n  save: 'save',\r\n  favorito: 'save',\r\n  favoritos: 'save',\r\n  bookmark: 'save',\r\n  message: 'message',\r\n  mensagem: 'message',\r\n  mensagens: 'message',\r\n  direct: 'message',\r\n  dm: 'message',\r\n  group: 'group',\r\n  grupos: 'group',\r\n  comunidade: 'group',\r\n  course: 'course',\r\n  curso: 'course',\r\n  cursos: 'course',\r\n  lesson: 'course',\r\n  system: 'system',\r\n  sistema: 'system',\r\n  announcement: 'system',\r\n  campaign: 'campaign',\r\n  campanha: 'campaign',\r\n  ads: 'campaign',\r\n  advertisement: 'campaign',\r\n};\r\n\r\nexport const normalizeNotificationType = (notification) => {\r\n  const rawType = (notification?.category || notification?.type || '').toString().toLowerCase();\r\n  return TYPE_ALIASES[rawType] || 'default';\r\n};\r\n\r\nexport const getNotificationActorName = (notification) => {\r\n  return (\r\n    notification?.from_user?.nome ||\r\n    notification?.from_user?.name ||\r\n    notification?.metadata?.actor_name ||\r\n    notification?.actor_name ||\r\n    null\r\n  );\r\n};\r\n\r\nexport const getNotificationMessage = (notification) => {\r\n  const normalized = normalizeNotificationType(notification);\r\n  const explicit = (notification?.message || notification?.title || '').trim();\r\n  const fallback = explicit || 'Nova notificação';\r\n\r\n  switch (normalized) {\r\n    case 'like':\r\n      return explicit || 'curtiu seu post';\r\n    case 'comment':\r\n      return explicit || 'comentou em seu post';\r\n    case 'follow':\r\n      return explicit || 'começou a seguir você';\r\n    case 'save':\r\n      return explicit || 'salvou seu post';\r\n    case 'message':\r\n      return explicit || 'enviou uma nova mensagem';\r\n    case 'group':\r\n      return notification?.message || 'Atualização em um dos seus grupos';\r\n    case 'course':\r\n      return notification?.message || 'Novo curso disponível para você';\r\n    case 'system':\r\n      return notification?.message || 'Atualização do sistema';\r\n    case 'campaign':\r\n      return notification?.message || 'Atualização na sua campanha';\r\n    default:\r\n      return fallback;\r\n  }\r\n};\r\n\r\nexport const getNotificationSubtitle = (notification) => {\r\n  if (notification?.metadata?.subtitle) {\r\n    return notification.metadata.subtitle;\r\n  }\r\n\r\n  if (notification?.post?.conteudo) {\r\n    return `\"${notification.post.conteudo}\"`;\r\n  }\r\n\r\n  if (notification?.metadata?.context) {\r\n    return notification.metadata.context;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport const getNotificationTargetUrl = (notification) => {\r\n  return (\r\n    notification?.metadata?.redirect_url ||\r\n    notification?.metadata?.url ||\r\n    notification?.url ||\r\n    null\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from './ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\r\nimport { Badge } from './ui/badge';\r\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\r\nimport config from '../config/config';\r\nimport {\r\n  Bell,\r\n  Heart,\r\n  MessageCircle,\r\n  UserPlus,\r\n  Bookmark,\r\n  Users,\r\n  Sparkles,\r\n  BookOpen,\r\n  Megaphone,\r\n  Check,\r\n} from 'lucide-react';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuTrigger,\r\n} from './ui/dropdown-menu';\r\nimport { useNotifications } from '../contexts/NotificationsContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { formatTimeAgo } from '../utils';\r\nimport {\r\n  normalizeNotificationType,\r\n  getNotificationActorName,\r\n  getNotificationMessage,\r\n  getNotificationSubtitle,\r\n  getNotificationTargetUrl,\r\n} from '../utils/notificationUtils';\r\n\r\nconst formatLastUpdated = (isoString) => {\r\n  if (!isoString) return null;\r\n  try {\r\n    const date = new Date(isoString);\r\n    if (Number.isNaN(date.getTime())) return null;\r\n    return formatTimeAgo(isoString);\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst ICON_RENDERERS = {\r\n  like: (className = 'h-4 w-4 text-red-500') => <Heart className={className} />,\r\n  comment: (className = 'h-4 w-4 text-blue-500') => <MessageCircle className={className} />,\r\n  follow: (className = 'h-4 w-4 text-green-500') => <UserPlus className={className} />,\r\n  save: (className = 'h-4 w-4 text-purple-500') => <Bookmark className={className} />,\r\n  message: (className = 'h-4 w-4 text-blue-500') => <MessageCircle className={className} />,\r\n  group: (className = 'h-4 w-4 text-emerald-500') => <Users className={className} />,\r\n  course: (className = 'h-4 w-4 text-amber-500') => <BookOpen className={className} />,\r\n  system: (className = 'h-4 w-4 text-coral') => <Sparkles className={className} />,\r\n  campaign: (className = 'h-4 w-4 text-orange-500') => <Megaphone className={className} />,\r\n  default: (className = 'h-4 w-4 text-gray-500') => <Bell className={className} />,\r\n};\r\n\r\nconst getNotificationIcon = (notification) => {\r\n  const key = normalizeNotificationType(notification);\r\n  const renderer = ICON_RENDERERS[key] || ICON_RENDERERS.default;\r\n  return renderer();\r\n};\r\n\r\nconst NotificationCenter = () => {\r\n  const { user } = useAuth();\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    loading,\r\n    error,\r\n    lastUpdatedAt,\r\n    refresh,\r\n    markAsRead,\r\n    markAllAsRead,\r\n  } = useNotifications();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isMarkingAll, setIsMarkingAll] = useState(false);\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const isRefreshingRef = useRef(false);\r\n\r\n  const handleRefresh = useCallback(async () => {\r\n    if (isRefreshingRef.current) {\r\n      return;\r\n    }\r\n\r\n    isRefreshingRef.current = true;\r\n    setIsRefreshing(true);\r\n\r\n    try {\r\n      await refresh();\r\n    } finally {\r\n      isRefreshingRef.current = false;\r\n      setIsRefreshing(false);\r\n    }\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      handleRefresh();\r\n    }\r\n  }, [isOpen, handleRefresh]);\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  const handleNotificationClick = async (notification) => {\r\n    if (!notification.is_read) {\r\n      await markAsRead(notification.id);\r\n    }\r\n\r\n    const targetUrl = getNotificationTargetUrl(notification);\r\n    if (targetUrl) {\r\n      window.location.href = targetUrl;\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    if (isMarkingAll || unreadCount === 0) return;\r\n    setIsMarkingAll(true);\r\n    try {\r\n      await markAllAsRead();\r\n    } finally {\r\n      setIsMarkingAll(false);\r\n    }\r\n  };\r\n\r\n  const showEmptyState = notifications.length === 0;\r\n\r\n  return (\r\n    <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          {unreadCount > 0 && (\r\n            <Badge className=\"absolute -top-1 -right-1 min-w-[1.25rem] h-5 rounded-full px-1 flex items-center justify-center bg-red-500 text-white text-xs\">\r\n              {unreadCount > 9 ? '9+' : unreadCount}\r\n            </Badge>\r\n          )}\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"w-80 p-0\">\r\n        <Card className=\"border-0 shadow-lg\">\r\n          <CardHeader className=\"pb-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"text-lg\">Notificações</CardTitle>\r\n              <div className=\"flex items-center gap-1\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8 text-xs\"\r\n                  onClick={handleRefresh}\r\n                  disabled={isRefreshing}\r\n                  aria-label=\"Atualizar notificações\"\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" className=\"h-4 w-4\" aria-hidden>\r\n                    <path\r\n                      d=\"M21 12a9 9 0 10-3.51 7.11\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"1.5\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                    />\r\n                    <path\r\n                      d=\"M21 12v7h-7\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"1.5\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                    />\r\n                  </svg>\r\n                </Button>\r\n                {unreadCount > 0 && (\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"text-xs\"\r\n                    onClick={handleMarkAllAsRead}\r\n                    disabled={isMarkingAll}\r\n                  >\r\n                    <Check className=\"h-3 w-3 mr-1\" />\r\n                    {isMarkingAll ? 'Carregando...' : 'Marcar todas como lidas'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {lastUpdatedAt && (\r\n              <p className=\"mt-1 text-xs text-muted-foreground\">\r\n                Atualizado {formatLastUpdated(lastUpdatedAt)}\r\n              </p>\r\n            )}\r\n          </CardHeader>\r\n          <CardContent className=\"p-0\">\r\n            <div className=\"max-h-96 overflow-y-auto\">\r\n              {error && (\r\n                <div className=\"px-4 py-2 text-xs text-red-600 bg-red-50/80 border-b border-red-100\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n              {loading ? (\r\n                <div className=\"flex items-center justify-center p-8\">\r\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-coral\"></div>\r\n                </div>\r\n              ) : !showEmptyState ? (\r\n                notifications.map((notification) => {\r\n                  const actorName = getNotificationActorName(notification);\r\n                  const subtitle = getNotificationSubtitle(notification);\r\n\r\n                  const actorUsername = notification.from_user?.username;\r\n                  \r\n                  return (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={notification.id}\r\n                      className={`w-full text-left p-4 border-b border-gray-100 transition-colors ${\r\n                        notification.is_read ? 'bg-white hover:bg-gray-50' : 'bg-blue-50 hover:bg-blue-100'\r\n                      }`}\r\n                      onClick={() => handleNotificationClick(notification)}\r\n                    >\r\n                      <div className=\"flex items-start space-x-3\">\r\n                        {actorUsername ? (\r\n                          <Link \r\n                            to={`/perfil/${actorUsername}`}\r\n                            onClick={(e) => e.stopPropagation()}\r\n                            className=\"flex-shrink-0\"\r\n                          >\r\n                            <Avatar className=\"w-10 h-10 hover:opacity-80 transition-opacity\">\r\n                              <AvatarImage\r\n                                src={notification.from_user?.avatar_url ?\r\n                                  config.getPublicUrl(notification.from_user.avatar_url) : ''\r\n                                }\r\n                              />\r\n                              <AvatarFallback className=\"bg-coral text-white\">\r\n                                {actorName ? actorName.charAt(0).toUpperCase() : 'N'}\r\n                              </AvatarFallback>\r\n                            </Avatar>\r\n                          </Link>\r\n                        ) : (\r\n                          <Avatar className=\"w-10 h-10\">\r\n                            <AvatarImage\r\n                              src={notification.from_user?.avatar_url ?\r\n                                config.getPublicUrl(notification.from_user.avatar_url) : ''\r\n                              }\r\n                            />\r\n                            <AvatarFallback className=\"bg-coral text-white\">\r\n                              {actorName ? actorName.charAt(0).toUpperCase() : 'N'}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                        )}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div className=\"flex items-center space-x-2 text-sm font-medium text-gray-700\">\r\n                              {getNotificationIcon(notification)}\r\n                              {!notification.is_read && <span className=\"text-blue-500\">•</span>}\r\n                            </div>\r\n                            <span className=\"text-xs text-gray-500\">\r\n                              {formatTimeAgo(notification.created_at)}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-sm mt-1 text-gray-700\">\r\n                            {actorName && actorUsername ? (\r\n                              <>\r\n                                <Link \r\n                                  to={`/perfil/${actorUsername}`}\r\n                                  onClick={(e) => e.stopPropagation()}\r\n                                  className=\"font-medium hover:underline\"\r\n                                >\r\n                                  {actorName}\r\n                                </Link>{' '}\r\n                                {getNotificationMessage(notification)}\r\n                              </>\r\n                            ) : actorName ? (\r\n                              <>\r\n                                <span className=\"font-medium\">{actorName}</span>{' '}\r\n                                {getNotificationMessage(notification)}\r\n                              </>\r\n                            ) : (\r\n                              getNotificationMessage(notification)\r\n                            )}\r\n                          </p>\r\n                          {subtitle && (\r\n                            <p className=\"text-xs text-gray-500 mt-1 truncate\">{subtitle}</p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  );\r\n                })\r\n              ) : (\r\n                <div className=\"p-8 text-center\">\r\n                  <Bell className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n                  <p className=\"text-gray-500 mb-4\">Nenhuma notificação ainda</p>\r\n                  <Button \r\n                    variant=\"outline\" \r\n                    size=\"sm\"\r\n                    onClick={() => window.location.href = '/notificacoes'}\r\n                  >\r\n                    Ver todas as notificações\r\n                  </Button>\r\n                </div>\r\n              )}\r\n              {notifications.length > 0 && (\r\n                <div className=\"p-4 border-t border-gray-100 bg-gray-50\">\r\n                  <Button \r\n                    variant=\"ghost\" \r\n                    size=\"sm\" \r\n                    className=\"w-full text-center text-coral hover:text-coral\"\r\n                    onClick={() => window.location.href = '/notificacoes'}\r\n                  >\r\n                    Ver todas as notificações\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n};\r\n\r\nexport default NotificationCenter;\r\n","import { useEffect, useRef, useState } from \"react\"\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\"\r\nimport config from '../config/config'\r\nimport { Button } from \"./ui/button\"\r\nimport { Sheet, SheetContent, SheetTrigger, SheetHeader, SheetTitle, SheetDescription } from \"./ui/sheet\"\r\nimport { \r\n\tMenu, \r\n\tMessageCircle, \r\n\tUser, \r\n\tUserPlus, \r\n\tHome,\r\n\tSearch,\r\n\tUsers,\r\n\tCalendar,\r\n\tCreditCard,\r\n\tMegaphone,\r\n\tBookOpen,\r\n\tBell,\r\n\tBookmark,\r\n\tSettings,\r\n\tLogOut,\r\n\tShoppingBag\r\n} from \"lucide-react\"\r\nimport { cn } from \"../lib/utils\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { useMessages } from \"../contexts/MessagesContext\"\r\nimport NotificationCenter from \"./NotificationCenter\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\"\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"./ui/dropdown-menu\"\r\nimport MobileBottomNav from \"./navigation/MobileBottomNav\"\r\n\r\nconst useSafeMessages = () => {\r\n\ttry {\r\n\t\treturn useMessages()\r\n\t} catch (error) {\r\n\t\tif (import.meta?.env?.DEV) {\r\n\t\t\tconsole.warn('SiteHeader: MessagesProvider ausente.', error)\r\n\t\t}\r\n\t\treturn { unreadTotal: 0 }\r\n\t}\r\n}\r\n\r\nconst navigation = [\r\n\t{ name: \"Início\", href: \"/\" },\r\n\t{ name: \"Marketplace\", href: \"https://marketplace.empowerup.com.br\" },\r\n\t{ name: \"Sobre\", href: \"/sobre\" },\r\n\t{ name: \"Contato\", href: \"/contato\" },\r\n]\r\n\r\nconst mobileMenuItems = [\r\n\t{ name: 'Início', href: '/comunidade', icon: Home },\r\n\t{ name: 'Explorar', href: '/explorar', icon: Search },\r\n\t{ name: 'Marketplace', href: 'https://marketplace.empowerup.com.br', icon: ShoppingBag, external: true },\r\n\t{ name: 'Grupos', href: '/grupos', icon: Users },\r\n\t{ name: 'Eventos', href: '/eventos', icon: Calendar },\r\n\t{ name: 'Planos', href: '/planos', icon: CreditCard },\r\n\t{ name: 'Campanhas', href: '/campanhas', icon: Megaphone },\r\n\t{ name: 'Cursos', href: '/cursos', icon: BookOpen },\r\n\t{ name: 'Notificações', href: '/notificacoes', icon: Bell },\r\n\t{ name: 'Mensagens', href: '/mensagens', icon: MessageCircle },\r\n\t{ name: 'Posts Salvos', href: '/posts-salvos', icon: Bookmark },\r\n\t{ name: 'Configurações', href: '/configuracoes', icon: Settings },\r\n]\r\n\r\nexport function SiteHeader() {\r\n\tconst location = useLocation()\r\n\tconst navigate = useNavigate()\r\n\tconst { user, logout } = useAuth()\r\n\tconst { unreadTotal } = useSafeMessages()\r\n\tconst [isOpen, setIsOpen] = useState(false)\r\n\tconst animatedContainerRef = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst node = animatedContainerRef.current\r\n\t\tif (!node) return undefined\r\n\r\n\t\tnode.style.setProperty('--animate-delay', '0ms')\r\n\r\n\t\tlet rafId\r\n\t\tif (typeof window !== 'undefined') {\r\n\t\t\trafId = window.requestAnimationFrame(() => {\r\n\t\t\t\tnode.classList.add('page-reveal-ready')\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tif (typeof window !== 'undefined' && rafId) {\r\n\t\t\t\twindow.cancelAnimationFrame(rafId)\r\n\t\t\t}\r\n\t\t\tnode.classList.remove('page-reveal-ready')\r\n\t\t\tnode.style.removeProperty('--animate-delay')\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst isAuthPage = location.pathname === '/login' || location.pathname === '/cadastro'\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t<header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n\t\t\t<div\r\n\t\t\t\tref={animatedContainerRef}\r\n\t\t\t\tdata-animate\r\n\t\t\t\tclassName=\"container flex h-16 items-center justify-between md:h-14\"\r\n\t\t\t>\r\n\t\t\t\t{/* Mobile Layout - Twitter/Instagram Style */}\r\n\t\t\t\t<div className=\"md:hidden flex items-center justify-between w-full\">\r\n\t\t\t\t\t{/* Left Side - Menu Hamburger (User Avatar) */}\r\n\t\t\t\t\t<Sheet open={isOpen} onOpenChange={setIsOpen}>\r\n\t\t\t\t\t\t<SheetTrigger asChild>\r\n\t\t\t\t\t\t\t<Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n\t\t\t\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t\t\t\t<Avatar className=\"h-8 w-8\">\r\n\t\t\t\t\t\t\t\t\t\t<AvatarImage src={user.avatar_url ? config.getPublicUrl(user.avatar_url) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"text-xs\">{user.nome?.charAt(0) || 'U'}</AvatarFallback>\r\n\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu className=\"h-6 w-6\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</SheetTrigger>\r\n\t\t\t\t\t\t<SheetContent side=\"left\" className=\"w-80 p-0\">\r\n\t\t\t\t\t\t\t<SheetHeader className=\"sr-only\">\r\n\t\t\t\t\t\t\t\t<SheetTitle>Menu de navegação</SheetTitle>\r\n\t\t\t\t\t\t\t\t<SheetDescription>\r\n\t\t\t\t\t\t\t\t\tAcesse todas as funcionalidades da plataforma\r\n\t\t\t\t\t\t\t\t</SheetDescription>\r\n\t\t\t\t\t\t\t</SheetHeader>\r\n\t\t\t\t\t\t\t<div className=\"flex h-full flex-col\">\r\n\t\t\t\t\t\t\t\t{/* Header do menu com perfil do usuário */}\r\n\t\t\t\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-r from-coral to-olive p-6\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar className=\"h-12 w-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarImage src={user.avatar_url ? config.getPublicUrl(user.avatar_url) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"text-lg\">{user.nome?.charAt(0) || 'U'}</AvatarFallback>\r\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"text-lg font-bold text-white\">{user.nome}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-white/80\">@{user.username || user.nome}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-r from-coral to-olive p-6\">\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"text-lg font-bold text-white\">Menu</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-white/80\">Navegue pela plataforma</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{/* Navegação principal */}\r\n\t\t\t\t\t\t\t\t<nav className=\"flex-1 overflow-y-auto p-4\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\r\n\t\t\t\t\t\t\t\t\t\t{user && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto=\"/perfil\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium transition-all hover:bg-gray-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsOpen(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<User className=\"h-5 w-5 text-coral\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tMeu Perfil\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"my-2 border-t border-gray-200\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{mobileMenuItems.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst Icon = item.icon;\r\n\t\t\t\t\t\t\t\t\t\t\tconst isActive = !item.external && (location.pathname === item.href);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (item.external) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={item.href}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium text-gray-700 transition-all hover:bg-gray-100 hover:text-coral\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsOpen(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"h-5 w-5\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={item.href}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium transition-all\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisActive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-coral text-white\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-700 hover:bg-gray-100 hover:text-coral\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsOpen(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"h-5 w-5\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlogout();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsOpen(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigate('/');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogOut className=\"mr-3 h-5 w-5\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\tSair\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-6 space-y-3 border-t pt-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tasChild\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsOpen(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<User className=\"mr-2 h-4 w-4\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEntrar\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tasChild\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start bg-coral hover:bg-coral/90\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsOpen(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/cadastro\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UserPlus className=\"mr-2 h-4 w-4\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCadastrar\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</SheetContent>\r\n\t\t\t\t\t</Sheet>\r\n\r\n\t\t\t\t\t{/* Center - Logo */}\r\n\t\t\t\t\t<Link to=\"/\" className=\"flex items-center\">\r\n\t\t\t\t\t\t<img src=\"/logo-sem-fundo.png\" alt=\"EmpowerUp\" className=\"h-14 w-auto\" />\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t{/* Right Side - Notifications (if logged in) */}\r\n\t\t\t\t\t{user && (\r\n\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\r\n\t\t\t\t\t\t\t<NotificationCenter />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{!user && (\r\n\t\t\t\t\t\t<div className=\"w-8\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Desktop Layout */}\r\n\t\t\t\t<div className=\"hidden md:flex items-center gap-4\">\r\n\t\t\t\t\t<Link to=\"/\" className=\"flex items-center\">\r\n\t\t\t\t\t\t<img src=\"/logo-sem-fundo.png\" alt=\"EmpowerUp\" className=\"h-14 w-auto lg:h-16 xl:h-20\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Desktop Navigation */}\r\n\t\t\t\t<nav className=\"hidden md:flex items-center space-x-6 text-sm font-medium\">\r\n\t\t\t\t\t{navigation.map((item) => (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\tto={item.href}\r\n\t\t\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\t\t\"transition-colors rounded-md px-3 py-2 hover:bg-[#87A05F] hover:text-white\",\r\n\t\t\t\t\t\t\t\tlocation.pathname === item.href\r\n\t\t\t\t\t\t\t\t\t? \"text-foreground\"\r\n\t\t\t\t\t\t\t\t\t: \"text-foreground/60\",\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{/* Comunidade link styled like other nav items */}\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto=\"/comunidade\"\r\n\t\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\t\"transition-colors rounded-md px-3 py-2 hover:bg-[#87A05F] hover:text-white\",\r\n\t\t\t\t\t\t\tlocation.pathname === '/comunidade' ? \"text-foreground\" : \"text-foreground/60\",\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\r\n\t\t\t\t\t\t\t<svg className=\"w-4 h-4 text-foreground/80\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden>\r\n\t\t\t\t\t\t\t\t<path d=\"M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\"></path>\r\n\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Comunidade</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t\t{/* Desktop Auth/User Section */}\r\n\t\t\t\t<div className=\"hidden md:flex items-center space-x-2\">\r\n\t\t\t\t\t{!user && !isAuthPage ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Button variant=\"ghost\" asChild className=\"hover:text-white\">\r\n\t\t\t\t\t\t\t\t<Link to=\"/login\">Entrar</Link>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button asChild className=\"bg-coral hover:bg-coral/90\">\r\n\t\t\t\t\t\t\t\t<Link to=\"/cadastro\">Cadastrar</Link>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : user ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\r\n\t\t\t\t\t\t\t\tsize=\"icon\"\r\n\t\t\t\t\t\t\t\tasChild\r\n\t\t\t\t\t\t\t\tclassName=\"relative\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to=\"/mensagens\" aria-label=\"Ir para mensagens\">\r\n\t\t\t\t\t\t\t\t\t<MessageCircle className=\"h-5 w-5\" />\r\n\t\t\t\t\t\t\t\t\t{unreadTotal > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"absolute -top-1 -right-1 min-w-[1.25rem] h-5 rounded-full px-1 flex items-center justify-center bg-red-500 text-white text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t{unreadTotal > 9 ? '9+' : unreadTotal}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<NotificationCenter />\r\n\t\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t<DropdownMenuTrigger className=\"flex items-center space-x-2 hover:opacity-80 transition-opacity\">\r\n\t\t\t\t\t\t\t\t\t<Avatar>\r\n\t\t\t\t\t\t\t\t\t\t<AvatarImage src={user.avatar_url ? config.getPublicUrl(user.avatar_url) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t<AvatarFallback>{user.nome?.charAt(0)}</AvatarFallback>\r\n\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:block text-sm font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t{user.nome}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</DropdownMenuTrigger>\r\n\t\t\t\t\t\t\t\t<DropdownMenuContent align=\"end\" className=\"w-56\">\r\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => navigate('/perfil')}>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar className=\"mr-2 h-4 w-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<AvatarImage src={user.avatar_url ? config.getPublicUrl(user.avatar_url) : ''} />\r\n\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"text-xs\">{user.nome?.charAt(0)}</AvatarFallback>\r\n\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\tMeu Perfil\r\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\r\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tlogout()\r\n\t\t\t\t\t\t\t\t\t\tnavigate('/')\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tSair\r\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\r\n\t\t\t\t\t\t\t\t</DropdownMenuContent>\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t\t<MobileBottomNav />\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":["__iconNode","CreditCard","createLucideIcon","Megaphone","Menu","Settings","UserPlus","Sheet","SheetPrimitive.Root","SheetTrigger","SheetPrimitive.Trigger","SheetPortal","SheetPrimitive.Portal","SheetOverlay","React.forwardRef","className","props","ref","jsx","SheetPrimitive.Overlay","cn","sheetVariants","cva","SheetContent","side","children","jsxs","SheetPrimitive.Content","SheetPrimitive.Close","X","SheetHeader","SheetTitle","SheetPrimitive.Title","SheetDescription","SheetPrimitive.Description","TYPE_ALIASES","normalizeNotificationType","notification","rawType","getNotificationActorName","getNotificationMessage","normalized","explicit","fallback","getNotificationSubtitle","getNotificationTargetUrl","formatLastUpdated","isoString","date","formatTimeAgo","ICON_RENDERERS","Heart","MessageCircle","Bookmark","Users","BookOpen","Sparkles","Bell","getNotificationIcon","key","NotificationCenter","user","useAuth","notifications","unreadCount","loading","error","lastUpdatedAt","refresh","markAsRead","markAllAsRead","useNotifications","isOpen","setIsOpen","useState","isMarkingAll","setIsMarkingAll","isRefreshing","setIsRefreshing","isRefreshingRef","useRef","handleRefresh","useCallback","useEffect","handleNotificationClick","targetUrl","handleMarkAllAsRead","showEmptyState","DropdownMenu","DropdownMenuTrigger","Button","Badge","DropdownMenuContent","Card","CardHeader","CardTitle","Check","CardContent","actorName","subtitle","actorUsername","Link","e","Avatar","AvatarImage","config","AvatarFallback","Fragment","useSafeMessages","useMessages","navigation","mobileMenuItems","Home","Search","ShoppingBag","Calendar","SiteHeader","location","useLocation","navigate","useNavigate","logout","unreadTotal","animatedContainerRef","node","rafId","isAuthPage","User","item","Icon","isActive","LogOut","DropdownMenuItem","MobileBottomNav"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}