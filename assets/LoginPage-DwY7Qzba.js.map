{"version":3,"file":"LoginPage-DwY7Qzba.js","sources":["../../src/pages/LoginPage.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport { SiteHeader } from \"../components/site-header\"\r\nimport { SiteFooter } from \"../components/site-footer\"\r\nimport { Button } from \"../components/ui/button\"\r\nimport { Input } from \"../components/ui/input\"\r\nimport { Label } from \"../components/ui/label\"\r\nimport { Checkbox } from \"../components/ui/checkbox\"\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"../components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../components/ui/tabs\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { useScrollReveal } from \"../hooks/useScrollReveal\"\r\nimport { StatusModal, FloatingPlusBackdrop } from \"../components/common\"\r\nimport { ROUTES } from \"../constants\"\r\n\r\nexport default function LoginPage() {\r\n  const { login } = useAuth()\r\n  const navigate = useNavigate()\r\n  const [formData, setFormData] = useState({\r\n    login: \"\",\r\n    senha: \"\",\r\n    lembrar: false,\r\n  })\r\n  const [showSenha, setShowSenha] = useState(false)\r\n  const initialModalState = {\r\n    open: false,\r\n    type: 'info',\r\n    title: '',\r\n    description: '',\r\n    confirmLabel: 'Entendi',\r\n    onConfirm: null,\r\n  }\r\n  const [modalState, setModalState] = useState(initialModalState)\r\n  const showModal = (config) => {\r\n    setModalState({\r\n      ...initialModalState,\r\n      open: true,\r\n      ...config,\r\n    })\r\n  }\r\n  const closeModal = () => {\r\n    setModalState((prev) => ({ ...prev, open: false, onConfirm: null }))\r\n  }\r\n  const handleModalConfirm = () => {\r\n    const confirmAction = modalState.onConfirm\r\n    closeModal()\r\n    confirmAction?.()\r\n  }\r\n  const loginRevealRef = useScrollReveal({ delay: 60, stagger: 140 })\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e, tipo) => {\r\n    e.preventDefault()\r\n    \r\n    try {\r\n      const result = await login({\r\n        login: formData.login,\r\n        senha: formData.senha\r\n      });\r\n      \r\n      if (result.success) {\r\n        showModal({\r\n          type: 'success',\r\n          title: 'Login realizado com sucesso! üéâ',\r\n          description: 'Bem-vinda de volta! Clique abaixo para acessar a comunidade.',\r\n          confirmLabel: 'Ir para a comunidade',\r\n          onConfirm: () => navigate('/comunidade')\r\n        })\r\n      } else {\r\n        showModal({\r\n          type: 'error',\r\n          title: 'N√£o foi poss√≠vel entrar',\r\n          description: result.message || 'Verifique suas credenciais e tente novamente.',\r\n          confirmLabel: 'Tentar novamente'\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro:', error);\r\n      showModal({\r\n        type: 'error',\r\n        title: 'Falha na conex√£o',\r\n        description: error?.message || 'N√£o foi poss√≠vel conectar com o servidor. Tente novamente em instantes.',\r\n        confirmLabel: 'Fechar'\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <SiteHeader />\r\n      <main className=\"relative isolate flex-1 flex items-center justify-center overflow-hidden py-12 bg-blush\">\r\n        <FloatingPlusBackdrop />\r\n        <div className=\"relative z-10 container px-4 md:px-6\">\r\n          <div ref={loginRevealRef} data-reveal className=\"mx-auto max-w-md space-y-6\">\r\n            <div data-reveal-child className=\"space-y-2 text-center\">\r\n              <h1 className=\"text-3xl font-bold\">Bem-vinda de volta</h1>\r\n              <p className=\"text-gray-700\">Entre na sua conta para acessar sua √°rea exclusiva</p>\r\n            </div>\r\n            <Tabs defaultValue=\"empreendedora\" className=\"w-full\">\r\n              <TabsList className=\"grid w-full grid-cols-1\">\r\n                <TabsTrigger value=\"empreendedora\">Empreendedora</TabsTrigger>\r\n              </TabsList>\r\n              <TabsContent value=\"empreendedora\">\r\n                <Card data-reveal-child>\r\n                  <CardHeader>\r\n                    <CardTitle>√Årea da Empreendedora</CardTitle>\r\n                    <CardDescription>\r\n                      Acesse sua conta para gerenciar seus produtos e conectar-se com outras empreendedoras.\r\n                    </CardDescription>\r\n                  </CardHeader>\r\n                  <form onSubmit={(e) => handleSubmit(e, \"empreendedora\")}>\r\n                    <CardContent className=\"space-y-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"login-empreendedora\">Email, Username ou Telefone</Label>\r\n                        <Input\r\n                          id=\"login-empreendedora\"\r\n                          name=\"login\"\r\n                          type=\"text\"\r\n                          placeholder=\"seu@email.com, @username ou telefone\"\r\n                          value={formData.login}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <Label htmlFor=\"senha-empreendedora\">Senha</Label>\r\n                          <Link to={ROUTES.FORGOT_PASSWORD} className=\"text-sm text-coral hover:underline\">\r\n                            Esqueceu a senha?\r\n                          </Link>\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                          <Input\r\n                            id=\"senha-empreendedora\"\r\n                            name=\"senha\"\r\n                            type={showSenha ? 'text' : 'password'}\r\n                            value={formData.senha}\r\n                            onChange={handleInputChange}\r\n                            className=\"pr-10\"\r\n                            required\r\n                          />\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"absolute right-3 top-3 text-sm text-gray-500 hover:text-gray-700\"\r\n                            onClick={() => setShowSenha(!showSenha)}\r\n                          >\r\n                            {showSenha ? 'Ocultar' : 'Mostrar'}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <Checkbox\r\n                          id=\"lembrar-empreendedora\"\r\n                          name=\"lembrar\"\r\n                          checked={formData.lembrar}\r\n                          onCheckedChange={(checked) => setFormData((prev) => ({ ...prev, lembrar: checked }))}\r\n                        />\r\n                        <Label htmlFor=\"lembrar-empreendedora\">Lembrar de mim</Label>\r\n                      </div>\r\n                    </CardContent>\r\n                    <CardFooter className=\"flex flex-col space-y-4\">\r\n                      <Button type=\"submit\" className=\"w-full bg-coral hover:bg-coral/90\">\r\n                        Entrar\r\n                      </Button>\r\n                      <div className=\"text-center text-sm\">\r\n                        Ainda n√£o tem uma conta?{\" \"}\r\n                        <Link to=\"/cadastro\" className=\"text-coral hover:underline\">\r\n                          Cadastre-se\r\n                        </Link>\r\n                      </div>\r\n                    </CardFooter>\r\n                  </form>\r\n                </Card>\r\n              </TabsContent>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <SiteFooter />\r\n      <StatusModal\r\n        open={modalState.open}\r\n        type={modalState.type}\r\n        title={modalState.title}\r\n        description={modalState.description}\r\n        confirmLabel={modalState.confirmLabel}\r\n        onConfirm={handleModalConfirm}\r\n        onOpenChange={(open) => {\r\n          if (!open) {\r\n            closeModal()\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":["LoginPage","login","useAuth","navigate","useNavigate","formData","setFormData","useState","showSenha","setShowSenha","initialModalState","modalState","setModalState","showModal","config","closeModal","prev","handleModalConfirm","confirmAction","loginRevealRef","useScrollReveal","handleInputChange","e","name","value","type","checked","handleSubmit","tipo","result","error","jsxs","jsx","SiteHeader","FloatingPlusBackdrop","Tabs","TabsList","TabsTrigger","TabsContent","Card","CardHeader","CardTitle","CardDescription","CardContent","Label","Input","Link","ROUTES","Checkbox","CardFooter","Button","SiteFooter","StatusModal","open"],"mappings":"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"}