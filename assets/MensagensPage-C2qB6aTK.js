import{c as se,u as ue,z as xe,r as u,a as te,j as e,A as ge,M as E,n as y,L as he,m as b}from"./index-DLqimMV8.js";import{A as N,a as w,b as _,C as ee}from"./index-EfjSmcDM.js";import{D as ae,b as re,c as oe,d as C}from"./dropdown-menu-7k7ytBg1.js";import{C as pe}from"./CommunityLeftSidebar-CgYDUEfw.js";import{A as fe}from"./arrow-left-BeWKRKPu.js";import{P as be}from"./phone-D29rjuL_.js";import{V as ve}from"./video-BK-m8ucD.js";import{E as je,S as ye}from"./send-COm1LQ5b.js";import{C as Ne}from"./clock-3-Wu6_FBaE.js";import"./calendar-BcaNxl4E.js";import"./trending-up-D6ou80w9.js";import"./bookmark-B2_N_nt6.js";import"./crown-BrBsF1Iu.js";import"./rocket-oRE_XYSN.js";import"./mail-D_LXhG2r.js";import"./user-BOjY7V17.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],O=se("check-check",we);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],Ce=se("dot",_e);function Me({user:c,logout:D}){const g=te();return e.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(he,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/logo-sem-fundo.png",alt:"EmpowerUp",className:"h-8 w-auto"})}),e.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-900",children:[e.jsx(E,{className:"w-6 h-6 text-coral"}),"Mensagens"]})]}),e.jsxs(ae,{children:[e.jsxs(re,{className:"flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsxs(N,{className:"w-8 h-8",children:[e.jsx(w,{src:c?.avatar_url?y.getPublicUrl(c.avatar_url):""}),e.jsx(_,{className:"bg-coral text-white text-sm font-medium",children:c?.nome?.charAt(0)})]}),e.jsx("span",{className:"font-medium text-gray-900 hidden sm:block",children:c?.nome})]}),e.jsxs(oe,{align:"end",className:"w-56 mt-2",children:[e.jsx(C,{onClick:()=>g("/perfil"),className:"cursor-pointer",children:"Meu Perfil"}),e.jsx(C,{onClick:()=>{D(),g("/")},className:"cursor-pointer text-red-600",children:"Sair"})]})]})]})})}function ze(){const{user:c,logout:D}=ue(),{refresh:g}=xe(),[v,F]=u.useState("all"),[h,M]=u.useState([]),[j,q]=u.useState(null),[S,U]=u.useState([]),[k,z]=u.useState(""),[ne,ie]=u.useState(!0),[R,le]=u.useState(""),[ce,$]=u.useState(!1),[V,I]=u.useState(!1),H=u.useRef(null),L=te(),A=u.useCallback(s=>{if(!s)return null;const r=s.participantes||[],a=s.outro_usuario||r.find(f=>f.id!==c?.id),t=s.ultima_mensagem??s.last_message??null,n=P(t,c?.id),d=n.timestamp||t?.enviada_em||s.ultima_mensagem_em||s.ultima_mensagem_data||s.timestamp||new Date().toISOString(),p=s.tipo==="grupo"?"group":"private",l=s.avatar_url||a?.avatar_url||s.imagem||null;return{id:s.id,nome:s.nome||a?.nome||"UsuÃ¡rio",tipo:p,ultima_mensagem:t,ultima_mensagem_preview:n.preview,timestamp:d,outro_usuario:a||null,conversa_existente:!0,avatar_url:l,unread_count:s.unread_count??0,participantes:r,isPotential:!1}},[c?.id]),P=(s,r)=>{if(!s)return{preview:"",timestamp:null,isMine:!1,raw:null};if(typeof s=="string")return{preview:s,timestamp:null,isMine:!1,raw:s};if(Array.isArray(s))return{preview:s.map(t=>P(t,r).preview).filter(Boolean).join(", "),timestamp:null,isMine:!1,raw:s};if(typeof s=="object"){const a=s.conteudo??s.texto??s.message??s.preview??"",t=typeof a=="string"?a:String(a??""),n=s.enviada_em??s.created_at??s.timestamp??s.data??null,d=s.autor?.nome??s.autor_nome??"",p=s.usuario_id??s.autor?.id??null,l=p&&r?Number(p)===Number(r):!!s.isMine;return{preview:l?`VocÃª: ${t}`:d?`${d.split(" ")[0]}: ${t}`:t,timestamp:n||null,isMine:l,raw:s}}return{preview:String(s),timestamp:null,isMine:!1,raw:s}},G=()=>{h.some(s=>s.isPotential)?$(!0):L("/explore")};u.useEffect(()=>{g()},[g,A,c?.id]),u.useEffect(()=>{(async()=>{try{console.log("ðŸ” Buscando conversas existentes...");const a=(await b.getConversations()).conversas||[];console.log("ðŸ“‹ Conversas existentes:",a),console.log("ðŸ” Buscando usuÃ¡rios que sigo...");let t=[];try{const o=await b.request("/usuarios/seguindo");console.log("ðŸ‘¥ Resposta completa da API /usuarios/seguindo:",o),Array.isArray(o)?t=o:o&&Array.isArray(o.data)||o&&o.success&&Array.isArray(o.data)?t=o.data:(console.log("âš ï¸ Estrutura inesperada, tentando fallback..."),t=o||[])}catch(o){console.log("âŒ Erro ao buscar usuÃ¡rios seguindo, tentando todos os usuÃ¡rios...",o);try{const i=await b.request("/usuarios");console.log("ðŸ‘¥ Fallback - Todos os usuÃ¡rios:",i),Array.isArray(i)?t=i:i&&Array.isArray(i.data)?t=i.data:t=i||[]}catch(i){console.error("âŒ Erro ao buscar todos os usuÃ¡rios:",i),t=[]}}console.log("ðŸ‘¥ UsuÃ¡rios que sigo (final):",t);const n=a.map(o=>o.outro_usuario?.id?o.outro_usuario.id:(o.participantes||[]).find(me=>me.id!==c?.id)?.id).filter(Boolean),d=t.filter(o=>{if(!o||!o.id)return console.log("âš ï¸ UsuÃ¡rio invÃ¡lido encontrado:",o),!1;if(a.length===0)return console.log("âœ… Sem conversas existentes - mostrando usuÃ¡rio:",o.nome),!0;const i=n.includes(o.id);return console.log(`${i?"âŒ":"âœ…"} UsuÃ¡rio ${o.nome} ${i?"JÃ tem":"NÃƒO tem"} conversa`),!i});console.log("ðŸ“Š EstatÃ­sticas DETALHADAS:",{conversasExistentes:a.length,usuariosSeguindo:t.length,usuariosComConversa:n,usuariosSemConversa:d.length,usuariosSemConversaDetalhes:d,logica:a.length===0?"MOSTRANDO TODOS (sem conversas)":"FILTRANDO (com conversas)"});const p=a.map(A).filter(Boolean),l=d.map(o=>({id:`potential_${o.id}`,nome:o.nome,tipo:"private",ultima_mensagem:"",timestamp:new Date().toISOString(),outro_usuario:o,conversa_existente:!1,avatar_url:o.avatar_url,isPotential:!0})),x=((await b.request("/grupos")).grupos||[]).map(o=>{const i=A({...o,tipo:"grupo"});return i?{...i,grupo:o}:null}).filter(Boolean),B=[...p,...l,...x].sort((o,i)=>new Date(i.timestamp)-new Date(o.timestamp));console.log("ðŸŽ¯ Resultado final:",{conversasExistentes:a.length,usuariosSeguindo:t.length,conversasFormatadas:p.length,conversasPotenciais:l.length,todasConversas:B.length,dados:B}),M(B),g()}catch(r){console.error("âŒ Erro geral ao buscar conversas:",r)}finally{ie(!1)}})()},[g]);const K=async s=>{try{const r=await b.startConversation(s);if(r.success){const a=r.conversa_id;q(a),I(!0);const t=await b.getConversationMessages(a);U(t.mensagens||[]),T(),await g(),(async()=>{const l=((await b.getConversations()).conversas||[]).map(A).filter(Boolean);M(f=>[...l,...f.filter(x=>x.tipo==="group"||x.isPotential&&x.outro_usuario?.id!==s)])})(),g()}}catch(r){console.error("Erro ao iniciar conversa:",r)}},Q=async s=>{try{q(s),I(!0);const r=await b.getConversationMessages(s);U(r.mensagens||[]),M(a=>a.map(t=>t.id===s?{...t,unread_count:0}:t)),T(),await g()}catch(r){console.error("Erro ao carregar mensagens:",r)}},J=async()=>{if(!(!k.trim()||!j))try{const s=await b.sendMessage(j,{conteudo:k});s.success&&(U(r=>[...r,s.mensagem]),z(""),T(),M(r=>r.map(a=>a.id===j?{...a,ultima_mensagem:s.mensagem,ultima_mensagem_preview:P(s.mensagem,c?.id).preview,timestamp:s.mensagem?.enviada_em||new Date().toISOString(),unread_count:0}:a).sort((a,t)=>new Date(t.timestamp)-new Date(a.timestamp))),g())}catch(s){console.error("Erro ao enviar mensagem:",s)}},T=()=>{setTimeout(()=>{H.current?.scrollIntoView({behavior:"smooth"})},100)},de=s=>{if(!s)return"";const r=new Date(s),a=new Date,t=(a-r)/(1e3*60*60);if(t<1){const n=Math.floor((a-r)/6e4);return n<=1?"agora":`${n}m`}else return t<24?`${Math.floor(t)}h`:r.toLocaleDateString("pt-BR",{day:"numeric",month:"short"})},W=s=>s?new Date(s).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",X=s=>{if(!s)return null;const r=Number(s.usuario_id??s.autor?.id??null),a=Number(c?.id??null),t=a&&r?r===a:!1,n=s.status||{};return{isMine:t,key:n.key||(t?"sent":""),label:n.label||"",timestamp:n.timestamp||null,isUnread:!!s.is_unread}},Y=(s,r="bubble")=>{if(!s)return null;const{isMine:a,key:t,label:n,timestamp:d,isUnread:p}=s,l=r==="bubble"?"w-4 h-4":"w-3 h-3",f=[];n&&f.push(n),d&&f.push(W(d));const x=f.length>0?f.join(" â€¢ "):void 0;if(a)switch(t){case"read":return e.jsx(O,{className:`${l} ${r==="bubble"?"text-white":"text-coral"}`,title:x});case"delivered":return e.jsx(O,{className:`${l} ${r==="bubble"?"text-white/90":"text-gray-400"}`,title:x});case"sent":return e.jsx(ee,{className:`${l} ${r==="bubble"?"text-white/90":"text-gray-400"}`,title:x});default:return e.jsx(Ne,{className:`${l} ${r==="bubble"?"text-white/70":"text-gray-400"}`,title:x||"Enviando"})}return p?e.jsx(Ce,{className:`${l} text-coral`,title:"Nova mensagem"}):t==="seen"?e.jsx(O,{className:`${l} text-gray-400`,title:x}):t==="received"?e.jsx(ee,{className:`${l} text-gray-400`,title:x}):null},Z=h.filter(s=>v==="groups"?s.tipo==="group":s.tipo==="private").filter(s=>R?s.nome.toLowerCase().includes(R.toLowerCase()):!0),m=h.find(s=>s.id===j);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-coral/5 to-olive/5 text-gray-800",children:[e.jsx(Me,{user:c,logout:D}),e.jsx("main",{className:"container mx-auto px-4 py-6 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx(pe,{active:"mensagens"}),e.jsx("section",{className:"lg:col-span-9",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-sm overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-[calc(100vh-240px)] md:h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Mensagens"}),e.jsx("button",{onClick:G,className:"hidden md:inline-flex items-center gap-2 px-4 py-2 bg-coral text-white text-sm font-medium rounded-full hover:bg-coral-dark transition-colors",children:"Nova mensagem"})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:`${V?"hidden md:flex":"flex"} md:w-80 w-full flex-col border-r border-gray-100 bg-white`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Buscar conversas...",className:"w-full pl-10 pr-4 py-3 bg-gray-50 rounded-full border-0 focus:bg-white focus:ring-2 focus:ring-coral outline-none transition-all",value:R,onChange:s=>le(s.target.value)})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-full p-1",children:[e.jsx("button",{className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-all ${v==="all"?"bg-white text-coral shadow-sm":"text-gray-600 hover:text-gray-900"}`,onClick:()=>F("all"),children:"Todas"}),e.jsx("button",{className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-all ${v==="groups"?"bg-white text-coral shadow-sm":"text-gray-600 hover:text-gray-900"}`,onClick:()=>F("groups"),children:"Grupos"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:ne?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-coral border-t-transparent"})}):Z.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[e.jsx(E,{className:"w-12 h-12 text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:v==="groups"?"Nenhuma conversa encontrada":h.filter(s=>s.isPotential).length>0?"Escolha alguÃ©m na lista para conversar":"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:v==="groups"?"VocÃª ainda nÃ£o participa de nenhum grupo":h.filter(s=>s.isPotential).length>0?`${h.filter(s=>s.isPotential).length} ${h.filter(s=>s.isPotential).length===1?"pessoa disponÃ­vel":"pessoas disponÃ­veis"} para conversar`:"Comece seguindo alguns usuÃ¡rios"}),h.filter(s=>s.isPotential).length===0&&v!=="groups"&&e.jsx("button",{onClick:()=>L("/explore"),className:"mt-4 px-4 py-2 bg-coral text-white rounded-full text-sm hover:bg-coral-dark transition-colors",children:"Explorar usuÃ¡rios"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:Z.map(s=>{const a=P(s.ultima_mensagem,c?.id).preview,t=X(s.ultima_mensagem),n=s.unread_count>0&&!t?.isMine?null:Y(t,"list");return e.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${j===s.id?"bg-coral/10 border-r-2 border-coral":""}`,onClick:()=>{s.tipo==="private"?s.conversa_existente?Q(s.id):K(s.outro_usuario.id):Q(s.id)},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(N,{className:"w-12 h-12",children:[e.jsx(w,{src:s.avatar_url?y.getPublicUrl(s.avatar_url):""}),e.jsx(_,{className:"bg-gradient-to-br from-coral to-coral-light text-white font-medium",children:s.nome.charAt(0).toUpperCase()})]}),s.tipo==="group"&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.nome}),e.jsx("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:de(s.timestamp)})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n,e.jsx("span",{className:`text-sm truncate flex-1 ${s.unread_count>0&&!s.isPotential?"font-semibold text-gray-900":"text-gray-600"}`,children:a||(s.isPotential?e.jsx("span",{className:"italic text-coral",children:"Iniciar conversa"}):e.jsx("span",{className:"italic",children:"Sem mensagens"}))}),s.unread_count>0&&!s.isPotential&&e.jsx("span",{className:"ml-auto inline-flex min-w-[20px] justify-center rounded-full bg-coral/10 px-2 py-0.5 text-xs font-semibold text-coral",children:s.unread_count>99?"99+":s.unread_count})]})]})]})},s.id)})})})]}),e.jsx("div",{className:`${V?"flex":"hidden md:flex"} flex-1 flex-col bg-white`,children:j&&m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"md:hidden p-2 hover:bg-gray-100 rounded-full",onClick:()=>I(!1),children:e.jsx(fe,{className:"w-5 h-5"})}),e.jsxs(N,{className:"w-10 h-10",children:[e.jsx(w,{src:m.avatar_url?y.getPublicUrl(m.avatar_url):""}),e.jsx(_,{className:"bg-gradient-to-br from-coral to-coral-light text-white font-medium",children:m.nome.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:m.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:m.tipo==="group"?"Grupo":"Online"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(be,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ve,{className:"w-5 h-5 text-gray-600"})}),e.jsxs(ae,{children:[e.jsx(re,{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(je,{className:"w-5 h-5 text-gray-600"})}),e.jsxs(oe,{children:[e.jsx(C,{children:"Ver perfil"}),e.jsx(C,{children:"Silenciar"}),e.jsx(C,{className:"text-red-600",children:"Bloquear"})]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:S.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-coral/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(E,{className:"w-8 h-8 text-coral"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:m.isPotential?"Inicie uma conversa":"Nenhuma mensagem ainda"}),e.jsx("p",{className:"text-gray-500 text-sm",children:m.isPotential?`Envie uma mensagem para ${m.nome}`:"Seja a primeira a enviar uma mensagem!"})]}):e.jsxs(e.Fragment,{children:[S.map((s,r)=>{const a=s.usuario_id===c?.id,t=!a&&(r===S.length-1||S[r+1]?.usuario_id!==s.usuario_id),n=X(s),d=Y(n,"bubble");return e.jsxs("div",{className:`flex gap-2 ${a?"justify-end":"justify-start"}`,children:[!a&&e.jsxs(N,{className:`w-8 h-8 ${t?"opacity-100":"opacity-0"}`,children:[e.jsx(w,{src:m.avatar_url?y.getPublicUrl(m.avatar_url):""}),e.jsx(_,{className:"bg-gray-300 text-gray-600 text-sm",children:m.nome.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:`flex flex-col max-w-xs lg:max-w-md ${a?"items-end":"items-start"}`,children:[e.jsx("div",{className:`px-4 py-2 rounded-2xl shadow-sm ${a?"bg-coral text-white rounded-br-md":"bg-white text-gray-900 border border-gray-200 rounded-bl-md"}`,children:e.jsx("p",{className:"text-sm leading-relaxed break-words",children:s.conteudo})}),e.jsxs("div",{className:`mt-1 flex items-center gap-1 px-1 text-xs ${a?"text-white/80":"text-gray-500"}`,children:[e.jsx("span",{children:W(s.enviada_em)}),d]})]})]},s.id)}),e.jsx("div",{ref:H})]})}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{placeholder:`Mensagem para ${m.nome}...`,className:"w-full px-4 py-3 bg-gray-50 rounded-2xl border-0 resize-none focus:bg-white focus:ring-2 focus:ring-coral outline-none transition-all max-h-32",value:k,onChange:s=>z(s.target.value),onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),J())},rows:1,style:{minHeight:"48px",height:"auto"}})}),e.jsx("button",{onClick:J,disabled:!k.trim(),className:"w-12 h-12 bg-coral hover:bg-coral-dark disabled:bg-gray-300 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors",children:e.jsx(ye,{className:"w-5 h-5 text-white"})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[e.jsx("div",{className:"w-24 h-24 bg-coral/10 rounded-full flex items-center justify-center mb-6",children:e.jsx(E,{className:"w-12 h-12 text-coral"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Suas Mensagens"}),e.jsx("p",{className:"text-gray-500 text-lg mb-6 max-w-sm",children:"Envie uma mensagem para comeÃ§ar uma conversa"}),e.jsx("button",{className:"px-6 py-3 bg-coral hover:bg-coral-dark text-white font-medium rounded-full transition-colors",onClick:G,children:"Nova mensagem"})]})})]})]})})})]})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-96 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Nova Mensagem"}),e.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Selecione um usuÃ¡rio para iniciar uma conversa"})]}),e.jsx("div",{className:"p-4 max-h-80 overflow-y-auto",children:h.filter(s=>s.isPotential).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"VocÃª ainda nÃ£o segue ninguÃ©m"}),e.jsx("button",{onClick:()=>{$(!1),L("/explore")},className:"mt-4 px-4 py-2 bg-coral text-white rounded-full text-sm hover:bg-coral-dark transition-colors",children:"Explorar usuÃ¡rios"})]}):e.jsx("div",{className:"space-y-2",children:h.filter(s=>s.isPotential).map(s=>e.jsx("div",{className:"p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",onClick:()=>{$(!1),K(s.outro_usuario.id)},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(N,{className:"w-10 h-10",children:[e.jsx(w,{src:s.avatar_url?y.getPublicUrl(s.avatar_url):""}),e.jsx(_,{className:"bg-gradient-to-br from-coral to-coral-light text-white font-medium",children:s.nome.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",s.outro_usuario.username]})]})]})},s.id))})})]})})]})}export{Me as MensagensHeader,ze as default};
//# sourceMappingURL=MensagensPage-C2qB6aTK.js.map
