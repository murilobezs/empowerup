{"version":3,"file":"ComunidadePage-NRf_JXpQ.js","sources":["../../node_modules/lucide-react/dist/esm/icons/graduation-cap.js","../../src/components/UsernameSetup.jsx","../../src/components/layout/CommunityRightSidebar.jsx","../../src/pages/ComunidadePage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.522.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z\",\n      key: \"j76jl0\"\n    }\n  ],\n  [\"path\", { d: \"M22 10v6\", key: \"1lu8f3\" }],\n  [\"path\", { d: \"M6 12.5V16a6 3 0 0 0 12 0v-3.5\", key: \"1r8lef\" }]\n];\nconst GraduationCap = createLucideIcon(\"graduation-cap\", __iconNode);\n\nexport { __iconNode, GraduationCap as default };\n//# sourceMappingURL=graduation-cap.js.map\n","import { useState, useEffect, useCallback } from \"react\"\r\nimport { Button } from \"./ui/button\"\r\nimport { Input } from \"./ui/input\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\"\r\nimport { Alert, AlertDescription } from \"./ui/alert\"\r\nimport { Check, X, Loader2 } from \"lucide-react\"\r\nimport config from \"../config/config\"\r\n\r\nexport default function UsernameSetup({ user, onUsernameSet }) {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [isChecking, setIsChecking] = useState(false)\r\n  const [isAvailable, setIsAvailable] = useState(null)\r\n  const [message, setMessage] = useState(\"\")\r\n  const [isSaving, setIsSaving] = useState(false)\r\n\r\n  const generateSuggestion = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(config.getApiUrl(`username.php?action=generate_username&nome=${encodeURIComponent(user.nome)}&email=${encodeURIComponent(user.email)}`))\r\n      const data = await response.json()\r\n      \r\n      if (data.success) {\r\n        setUsername(data.username)\r\n        checkUsernameAvailability(data.username)\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao gerar sugest√£o:', error)\r\n    }\r\n  }, [user.nome, user.email])\r\n\r\n  // Gerar sugest√£o de username\r\n  useEffect(() => {\r\n    if (user?.nome) {\r\n      generateSuggestion()\r\n    }\r\n  }, [user, generateSuggestion])\r\n\r\n  const checkUsernameAvailability = async (usernameToCheck) => {\r\n    if (!usernameToCheck || usernameToCheck.length < 3) {\r\n      setIsAvailable(null)\r\n      setMessage(\"\")\r\n      return\r\n    }\r\n\r\n    setIsChecking(true)\r\n    try {\r\n      const response = await fetch(config.getApiUrl(`username.php?action=check_username&username=${encodeURIComponent(usernameToCheck)}`))\r\n      const data = await response.json()\r\n      \r\n      setIsAvailable(data.available)\r\n      setMessage(data.message)\r\n    } catch (error) {\r\n      console.error('Erro ao verificar username:', error)\r\n      setIsAvailable(false)\r\n      setMessage(\"Erro ao verificar disponibilidade\")\r\n    }\r\n    setIsChecking(false)\r\n  }\r\n\r\n  const handleUsernameChange = (e) => {\r\n    const value = e.target.value.toLowerCase().replace(/[^a-z0-9_]/g, '')\r\n    setUsername(value)\r\n    \r\n    // Debounce da verifica√ß√£o\r\n    clearTimeout(window.usernameTimeout)\r\n    window.usernameTimeout = setTimeout(() => {\r\n      checkUsernameAvailability(value)\r\n    }, 500)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    if (!isAvailable || !username) return\r\n\r\n    setIsSaving(true)\r\n    try {\r\n      const response = await fetch(config.getApiUrl('username.php'), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          action: 'set_username',\r\n          user_id: user.id,\r\n          username: username\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n      \r\n      if (data.success) {\r\n        onUsernameSet(username)\r\n      } else {\r\n        setMessage(data.message)\r\n        setIsAvailable(false)\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao salvar username:', error)\r\n      setMessage(\"Erro ao salvar username\")\r\n    }\r\n    setIsSaving(false)\r\n  }\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-md mx-auto\">\r\n      <CardHeader>\r\n        <CardTitle className=\"text-center\">Escolha seu username</CardTitle>\r\n        <p className=\"text-sm text-gray-600 text-center\">\r\n          Seu username ser√° usado para identificar seus posts, como @{username || 'seu_username'}\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium\">Username</label>\r\n          <div className=\"relative\">\r\n            <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">@</div>\r\n            <Input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={handleUsernameChange}\r\n              placeholder=\"seu_username\"\r\n              className=\"pl-8\"\r\n              maxLength={20}\r\n            />\r\n            {isChecking && (\r\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                <Loader2 className=\"h-4 w-4 animate-spin text-gray-400\" />\r\n              </div>\r\n            )}\r\n            {!isChecking && isAvailable === true && (\r\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                <Check className=\"h-4 w-4 text-green-500\" />\r\n              </div>\r\n            )}\r\n            {!isChecking && isAvailable === false && username.length >= 3 && (\r\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                <X className=\"h-4 w-4 text-red-500\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {message && (\r\n            <Alert className={isAvailable ? \"border-green-200 bg-green-50\" : \"border-red-200 bg-red-50\"}>\r\n              <AlertDescription className={isAvailable ? \"text-green-700\" : \"text-red-700\"}>\r\n                {message}\r\n              </AlertDescription>\r\n            </Alert>\r\n          )}\r\n          \r\n          <div className=\"text-xs text-gray-500\">\r\n            Use apenas letras, n√∫meros e underscore (_). 3-20 caracteres.\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex space-x-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={generateSuggestion}\r\n            className=\"flex-1\"\r\n          >\r\n            Nova sugest√£o\r\n          </Button>\r\n          <Button\r\n            onClick={handleSave}\r\n            disabled={!isAvailable || isSaving}\r\n            className=\"flex-1 bg-coral hover:bg-coral/90\"\r\n          >\r\n            {isSaving ? (\r\n              <>\r\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                Salvando...\r\n              </>\r\n            ) : (\r\n              'Confirmar'\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","import { useMemo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TrendingUp, Hash, Calendar, MapPin, Users, ChevronRight } from \"lucide-react\";\r\nimport SearchComponent from \"../SearchComponent\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nexport default function CommunityRightSidebar({\r\n  trending = [],\r\n  events = [],\r\n  groups = [],\r\n  className,\r\n  showSearch = true\r\n}) {\r\n  const topTrending = useMemo(() => trending.slice(0, 5), [trending]);\r\n  const upcomingEvents = useMemo(() => events.slice(0, 3), [events]);\r\n  const activeGroups = useMemo(() => groups.slice(0, 4), [groups]);\r\n\r\n  return (\r\n    <aside className={cn(\"hidden lg:block lg:col-span-3 space-y-4 lg:space-y-6\", className)}>\r\n      {showSearch && <SearchComponent />}\r\n\r\n      <Card className=\"shadow-sm border-0 bg-white/80 backdrop-blur-sm\">\r\n        <CardHeader className=\"pb-2 sm:pb-3\">\r\n          <CardTitle className=\"text-base sm:text-lg flex items-center font-bold\">\r\n            <TrendingUp className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-coral\" />\r\n            Trending\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"space-y-2 sm:space-y-3\">\r\n            {topTrending.length > 0 ? (\r\n              topTrending.map((trend, index) => (\r\n                <div\r\n                  key={trend.id ?? index}\r\n                  className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors\"\r\n                >\r\n                  <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0\">\r\n                    <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-coral/10 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                      <Hash className=\"h-3 w-3 sm:h-5 sm:w-5 text-coral\" />\r\n                    </div>\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <div className=\"font-semibold text-xs sm:text-sm truncate\">#{trend.tag ?? trend.nome ?? \"tendencia\"}</div>\r\n                      {trend.count && (\r\n                        <div className=\"text-xs text-gray-500\">{trend.count} posts</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <TrendingUp className=\"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0\" />\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"text-center text-gray-500 py-4\">\r\n                <Hash className=\"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 opacity-50\" />\r\n                <p className=\"text-xs sm:text-sm\">Nenhuma hashtag em alta ainda</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"shadow-sm border-0 bg-white/80 backdrop-blur-sm\">\r\n        <CardHeader className=\"pb-2 sm:pb-3\">\r\n          <CardTitle className=\"text-base sm:text-lg flex items-center font-bold\">\r\n            <Calendar className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-coral\" />\r\n            Pr√≥ximos Eventos\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"space-y-3 sm:space-y-4\">\r\n            {upcomingEvents.map((event) => (\r\n              <div key={event.id} className=\"border-l-4 border-coral pl-3 hover:bg-gray-50 rounded-r-lg transition-colors\">\r\n                <h4 className=\"font-semibold text-xs sm:text-sm\">{event.titulo ?? event.nome}</h4>\r\n                {event.data_evento && (\r\n                  <div className=\"flex items-center text-xs text-gray-500 mt-1\">\r\n                    <Calendar className=\"h-3 w-3 mr-1\" />\r\n                    {new Date(event.data_evento).toLocaleDateString(\"pt-BR\")}\r\n                  </div>\r\n                )}\r\n                {event.localizacao && (\r\n                  <div className=\"flex items-center text-xs text-gray-500 mt-1\">\r\n                    <MapPin className=\"h-3 w-3 mr-1\" />\r\n                    <span className=\"truncate\">{event.localizacao}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {upcomingEvents.length === 0 && (\r\n              <p className=\"text-xs sm:text-sm text-gray-500 text-center py-4\">\r\n                Nenhum evento programado\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"mt-3 text-right\">\r\n            <Link to=\"/eventos\" className=\"text-xs font-semibold text-coral hover:underline\">\r\n              Abrir agenda completa\r\n            </Link>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"shadow-sm border-0 bg-white/80 backdrop-blur-sm\">\r\n        <CardHeader className=\"pb-2 sm:pb-3\">\r\n          <CardTitle className=\"text-base sm:text-lg flex items-center font-bold\">\r\n            <Users className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-olive\" />\r\n            Grupos Ativos\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"space-y-2 sm:space-y-3\">\r\n            {activeGroups.map((group) => (\r\n              <div key={group.id} className=\"flex items-center space-x-2 sm:space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors\">\r\n                <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-olive/10 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                  <Users className=\"h-3 w-3 sm:h-5 sm:w-5 text-olive\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"font-semibold text-xs sm:text-sm truncate\">{group.nome}</div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {group.membros_count || 0} membros\r\n                  </div>\r\n                </div>\r\n                <ChevronRight className=\"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0\" />\r\n              </div>\r\n            ))}\r\n            {activeGroups.length === 0 && (\r\n              <p className=\"text-xs sm:text-sm text-gray-500 text-center py-4\">\r\n                Nenhum grupo ativo\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"mt-3 text-right\">\r\n            <Link to=\"/grupos\" className=\"text-xs font-semibold text-olive hover:underline\">\r\n              Ver todos os grupos\r\n            </Link>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </aside>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card'\r\nimport { Button } from '../components/ui/button'\r\nimport { \r\n  MessageCircle, \r\n  Users, \r\n  Calendar,\r\n  ChevronRight,\r\n  Filter,\r\n  Sparkles,\r\n  TrendingUp,\r\n  Hash,\r\n  Home,\r\n  Bell,\r\n  Bookmark,\r\n  UserPlus,\r\n  CheckCircle, \r\n  X,\r\n  Heart,\r\n  GraduationCap,\r\n  Award,\r\n  Megaphone,\r\n  BookOpen\r\n} from 'lucide-react'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '../components/ui/dialog'\r\nimport UsernameSetup from '../components/UsernameSetup'\r\nimport { useToast } from '../components/ui/toast'\r\nimport SocialPost from '../components/SocialPost'\r\nimport EmpowerUpCreatePost from '../components/EmpowerUpCreatePost'\r\nimport SearchComponent from '../components/SearchComponent'\r\nimport EditPostModal from '../components/EditPostModal'\r\nimport config from '../config/config'\r\nimport apiService from '../services/api'\r\nimport { SiteHeader } from '../components/site-header'\r\nimport CommunityLeftSidebar from '../components/layout/CommunityLeftSidebar'\r\nimport CommunityRightSidebar from '../components/layout/CommunityRightSidebar'\r\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { useNotifications } from '../contexts/NotificationsContext'\r\nimport { Badge } from '../components/ui/badge'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select'\r\nimport { formatTimeAgo } from '../utils'\r\nimport {\r\n  normalizeNotificationType,\r\n  getNotificationActorName,\r\n  getNotificationMessage,\r\n  getNotificationSubtitle,\r\n  getNotificationTargetUrl,\r\n} from '../utils/notificationUtils'\r\nimport { Loading } from '../components/common'\r\n\r\nconst COMMUNITY_TAB_VALUES = ['posts', 'seguindo', 'grupos', 'notificacoes']\r\n\r\nconst isAuthorFollowed = (post = {}) => {\r\n  const rawValue = post?.isFollowed ?? post?.autor_seguido ?? post?.autorSeguido ?? post?.following ?? post?.seguindo\r\n\r\n  if (typeof rawValue === 'boolean') {\r\n    return rawValue\r\n  }\r\n\r\n  if (typeof rawValue === 'number') {\r\n    return Number(rawValue) > 0\r\n  }\r\n\r\n  if (typeof rawValue === 'string') {\r\n    const normalized = rawValue.trim().toLowerCase()\r\n    return normalized === '1' || normalized === 'true' || normalized === 'sim'\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nexport default function ComunidadePage() {\r\n  const [posts, setPosts] = useState([])\r\n  const [groups, setGroups] = useState([])\r\n  const [groupPosts, setGroupPosts] = useState([])\r\n  const [events, setEvents] = useState([])\r\n  const [trending, setTrending] = useState([])\r\n  const [selectedFilter, setSelectedFilter] = useState(\"todos\")\r\n  const [loading, setLoading] = useState(true)\r\n  const [showBanner, setShowBanner] = useState(true)\r\n  const [bannerVisible, setBannerVisible] = useState(false)\r\n  const [successModal, setSuccessModal] = useState({ visible: false, message: '' }) // Novo estado para o modal\r\n  const [editingPost, setEditingPost] = useState(null)\r\n  const [showEditModal, setShowEditModal] = useState(false)\r\n  const [showCreatePostModal, setShowCreatePostModal] = useState(false)\r\n  \r\n  const { user, updateUser } = useAuth()\r\n  const { addToast } = useToast()\r\n  const navigate = useNavigate()\r\n  const bannerStorageKey = useMemo(() => (\r\n    user?.id ? `empowerup_banner_hidden_${user.id}` : 'empowerup_banner_hidden'\r\n  ), [user?.id])\r\n  const {\r\n    notifications,\r\n    unreadCount,\r\n    markAsRead: markNotificationAsRead,\r\n    markAllAsRead: markAllNotificationsAsRead,\r\n    refresh: refreshNotifications\r\n  } = useNotifications()\r\n  const [searchParams, setSearchParams] = useSearchParams()\r\n  const [activeTab, setActiveTab] = useState(() => {\r\n    const tabParam = searchParams.get('tab')\r\n    return tabParam && COMMUNITY_TAB_VALUES.includes(tabParam) ? tabParam : 'posts'\r\n  })\r\n  const successTimeoutRef = useRef(null)\r\n\r\n  const removeComposeParam = useCallback(() => {\r\n    const composeParam = searchParams.get('compose')\r\n    if (!composeParam) {\r\n      return\r\n    }\r\n\r\n    const updated = new URLSearchParams(searchParams)\r\n    updated.delete('compose')\r\n    setSearchParams(updated, { replace: true })\r\n  }, [searchParams, setSearchParams])\r\n\r\n  const closeCreatePostModal = useCallback(() => {\r\n    setShowCreatePostModal(false)\r\n    removeComposeParam()\r\n  }, [removeComposeParam])\r\n\r\n  const refreshGroups = useCallback(async () => {\r\n    try {\r\n      const data = await apiService.listGroups({ limit: 12 })\r\n      if (data?.success) {\r\n        setGroups(data.groups || data.grupos || [])\r\n      } else {\r\n        setGroups([])\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar grupos:', error)\r\n      setGroups([])\r\n    }\r\n  }, [setGroups, user?.id])\r\n\r\n  const refreshEvents = useCallback(async () => {\r\n    try {\r\n      const data = await apiService.getEvents({ status: 'ativo', futuro: 'true', limit: 12 })\r\n      if (data?.success) {\r\n        setEvents(data.events || data.eventos || [])\r\n      } else {\r\n        setEvents([])\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar eventos:', error)\r\n      setEvents([])\r\n    }\r\n  }, [setEvents, user?.id])\r\n\r\n  useEffect(() => {\r\n    const tabParam = searchParams.get('tab')\r\n\r\n    if (tabParam === 'grupos') {\r\n      navigate('/grupos', { replace: true })\r\n      return\r\n    }\r\n\r\n    if (tabParam === 'eventos') {\r\n      navigate('/eventos', { replace: true })\r\n      return\r\n    }\r\n\r\n    const normalized = tabParam && COMMUNITY_TAB_VALUES.includes(tabParam) ? tabParam : 'posts'\r\n    if (normalized !== activeTab) {\r\n      setActiveTab(normalized)\r\n    }\r\n  }, [searchParams, activeTab, navigate])\r\n\r\n  useEffect(() => {\r\n    const composeParam = searchParams.get('compose')\r\n\r\n    if (composeParam === '1') {\r\n      if (!user) {\r\n        addToast('Fa√ßa login para criar um post', 'warning')\r\n        removeComposeParam()\r\n        return\r\n      }\r\n\r\n      setShowCreatePostModal(true)\r\n    }\r\n  }, [searchParams, user, addToast, removeComposeParam])\r\n\r\n  useEffect(() => {\r\n    if (!showCreatePostModal) {\r\n      removeComposeParam()\r\n    }\r\n  }, [showCreatePostModal, removeComposeParam])\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return\r\n    try {\r\n      const stored = window.localStorage.getItem(bannerStorageKey)\r\n      if (stored === '1') {\r\n        setShowBanner(false)\r\n        setBannerVisible(false)\r\n      } else {\r\n        setShowBanner(true)\r\n      }\r\n    } catch (error) {\r\n      console.warn('N√£o foi poss√≠vel verificar o estado do banner:', error)\r\n    }\r\n  }, [bannerStorageKey])\r\n\r\n  useEffect(() => {\r\n    if (showBanner) {\r\n      const t = setTimeout(() => setBannerVisible(true), 50)\r\n      return () => clearTimeout(t)\r\n    }\r\n  }, [showBanner])\r\n\r\n  const closeBanner = () => {\r\n    if (typeof document !== 'undefined') {\r\n      const active = document.activeElement\r\n      if (active && typeof active.blur === 'function') {\r\n        active.blur()\r\n      }\r\n    }\r\n    setBannerVisible(false)\r\n    setTimeout(() => setShowBanner(false), 220)\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        window.localStorage.setItem(bannerStorageKey, '1')\r\n      } catch (error) {\r\n        console.warn('N√£o foi poss√≠vel salvar prefer√™ncia do banner:', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleTabChange = (value) => {\r\n    setActiveTab(value)\r\n    const params = new URLSearchParams(searchParams)\r\n    if (value === 'posts') {\r\n      params.delete('tab')\r\n    } else {\r\n      params.set('tab', value)\r\n    }\r\n    setSearchParams(params, { replace: true })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'notificacoes') {\r\n      refreshNotifications()\r\n    }\r\n  }, [activeTab, refreshNotifications])\r\n\r\n  useEffect(() => {\r\n    const handleCreatePost = () => {\r\n      setShowCreatePostModal(true)\r\n    }\r\n\r\n    window.addEventListener('openCreatePost', handleCreatePost)\r\n    return () => window.removeEventListener('openCreatePost', handleCreatePost)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const result = await apiService.getPosts()\r\n\r\n        if (result.success && Array.isArray(result.posts)) {\r\n          setPosts(result.posts)\r\n        } else {\r\n          setPosts([])\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar posts:', error)\r\n      }\r\n    }\r\n\r\n    const fetchTrending = async () => {\r\n      try {\r\n        const response = await fetch(`${config.API_BASE_URL}/trending/`)\r\n        if (response.ok) {\r\n          const data = await response.json()\r\n          setTrending(data.trending || [])\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar trending:', error)\r\n      }\r\n    }\r\n\r\n    const fetchGroupPosts = async () => {\r\n      if (!user) {\r\n        setGroupPosts([])\r\n        return\r\n      }\r\n      \r\n      try {\r\n        const result = await apiService.getMyGroupsPosts()\r\n        if (result.success && Array.isArray(result.posts)) {\r\n          setGroupPosts(result.posts)\r\n        } else {\r\n          setGroupPosts([])\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar posts dos grupos:', error)\r\n        setGroupPosts([])\r\n      }\r\n    }\r\n\r\n    let isMounted = true\r\n    const MIN_LOADER_DURATION = 2300\r\n\r\n    const loadData = async () => {\r\n      setLoading(true)\r\n      const getNow = () => (typeof performance !== 'undefined' && performance.now ? performance.now() : Date.now())\r\n      const startedAt = getNow()\r\n\r\n      try {\r\n        await Promise.allSettled([\r\n          fetchPosts(),\r\n          refreshGroups(),\r\n          refreshEvents(),\r\n          fetchTrending(),\r\n          fetchGroupPosts()\r\n        ])\r\n      } catch (error) {\r\n        console.error('Erro ao carregar dados da comunidade:', error)\r\n      }\r\n\r\n      const elapsed = getNow() - startedAt\r\n      const remaining = MIN_LOADER_DURATION - elapsed\r\n\r\n      if (remaining > 0) {\r\n        await new Promise((resolve) => setTimeout(resolve, remaining))\r\n      }\r\n\r\n      if (isMounted) {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    loadData()\r\n\r\n    return () => {\r\n      isMounted = false\r\n    }\r\n  }, [user, refreshGroups, refreshEvents])\r\n\r\n  const [showUsernameModal, setShowUsernameModal] = useState(false)\r\n  useEffect(() => {\r\n    if (user && !user.username) {\r\n      setShowUsernameModal(true)\r\n    }\r\n  }, [user])\r\n\r\n  const handleNewPost = async (postData, mediaFile) => {\r\n    try {\r\n      if (!user?.id) {\r\n        addToast('Voc√™ precisa estar logada para postar', 'error')\r\n        return { success: false, message: 'Usu√°ria n√£o logada' }\r\n      }\r\n\r\n      const formData = new FormData()\r\n      formData.append('conteudo', postData.conteudo)\r\n      formData.append('categoria', postData.categoria)\r\n      formData.append('tags', JSON.stringify(postData.tags))\r\n\r\n      if (mediaFile) {\r\n        if (mediaFile.type.startsWith('image/')) {\r\n          formData.append('image', mediaFile)\r\n        } else if (mediaFile.type.startsWith('video/')) {\r\n          formData.append('video', mediaFile)\r\n        }\r\n      }\r\n\r\n      const userData = JSON.parse(localStorage.getItem('empowerup_user') || '{}')\r\n\r\n      const response = await fetch(`${config.API_BASE_URL}/posts`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': userData.token ? `Bearer ${userData.token}` : ''\r\n        },\r\n        body: formData\r\n      })\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success) {\r\n        setPosts(prevPosts => [result.post, ...prevPosts])\r\n        setSuccessModal({ visible: true, message: 'Post realizado com sucesso' })\r\n        if (successTimeoutRef.current) clearTimeout(successTimeoutRef.current)\r\n        successTimeoutRef.current = setTimeout(() => setSuccessModal({ visible: false, message: '' }), 4000)\r\n        if (showCreatePostModal) {\r\n          closeCreatePostModal()\r\n        }\r\n        return { success: true, post: result.post }\r\n      } else {\r\n        addToast('Erro ao criar post: ' + result.message, 'error')\r\n        return { success: false, message: result.message }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao criar post:', error)\r\n      addToast('Erro ao publicar post: ' + error.message, 'error')\r\n      return { success: false, message: error.message }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (successTimeoutRef.current) clearTimeout(successTimeoutRef.current)\r\n    }\r\n  }, [])\r\n\r\n  const handleDeletePost = async (postId) => {\r\n    if (!window.confirm('Tem certeza que deseja deletar este post?')) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${config.API_BASE_URL}/posts/postagens.php?id=${postId}`, {\r\n        method: 'DELETE',\r\n      })\r\n\r\n      if (response.ok) {\r\n        setPosts(prevPosts => prevPosts.filter(post => post.id !== postId))\r\n        addToast('Post deletado com sucesso! ‚úÖ', 'success')\r\n      } else {\r\n        throw new Error('Erro ao deletar post')\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao deletar post:', error)\r\n      addToast('Erro ao deletar post', 'error')\r\n    }\r\n  }\r\n\r\n  const handleLike = async (postId, liked, likesCount) => {\r\n    if (!user) {\r\n      addToast('Fa√ßa login para curtir posts', 'warning')\r\n      return\r\n    }\r\n\r\n    // Atualizar o post na lista com os novos valores\r\n    setPosts(prevPosts => \r\n      prevPosts.map(post => \r\n        post.id === postId \r\n          ? { \r\n              ...post, \r\n              likes: likesCount,\r\n              user_liked: liked,\r\n              isLiked: liked\r\n            }\r\n          : post\r\n      )\r\n    )\r\n    addToast(liked ? 'Post curtido! ‚ù§Ô∏è' : 'Like removido', 'success')\r\n  }\r\n\r\n  // Handle save functionality\r\n  const handleSave = async (postId, saved) => {\r\n    if (!user) {\r\n      addToast('Fa√ßa login para salvar posts', 'warning')\r\n      return\r\n    }\r\n\r\n    // Atualizar o post na lista com os novos valores\r\n    setPosts(prevPosts => \r\n      prevPosts.map(post => \r\n        post.id === postId \r\n          ? { \r\n              ...post, \r\n              user_saved: saved,\r\n              isSaved: saved\r\n            }\r\n          : post\r\n      )\r\n    )\r\n    addToast(saved ? 'Post salvo!' : 'Post removido dos salvos', 'success')\r\n  }\r\n\r\n  // Handle follow functionality\r\n  const handleFollow = async (userId, following, followersCount) => {\r\n    if (!user) {\r\n      addToast('Fa√ßa login para seguir usu√°rios', 'warning')\r\n      return\r\n    }\r\n\r\n    // Atualizar todos os posts deste usu√°rio na lista\r\n    setPosts(prevPosts => \r\n      prevPosts.map(post => \r\n        post.user_id === userId \r\n          ? { \r\n              ...post, \r\n              isFollowed: following,\r\n              followers_count: followersCount\r\n            }\r\n          : post\r\n      )\r\n    )\r\n    addToast(following ? 'Agora voc√™ est√° seguindo este usu√°rio!' : 'Voc√™ parou de seguir este usu√°rio', 'success')\r\n  }\r\n\r\n  // Handle comment functionality\r\n  const handleComment = async (postId, commentPayload, parentId = null) => {\r\n    if (!user) {\r\n      addToast('Fa√ßa login para comentar', 'warning')\r\n      return\r\n    }\r\n\r\n    // Quando o componente filho j√° tratou o envio (payload vazio ou objeto),\r\n    // apenas atualizamos os contadores locais e evitamos chamadas duplicadas √† API.\r\n    if (!commentPayload || (typeof commentPayload === 'object' && !Array.isArray(commentPayload))) {\r\n      setPosts(prevPosts => \r\n        prevPosts.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                comentarios: (post.comentarios || 0) + 1\r\n              }\r\n            : post\r\n        )\r\n      )\r\n      addToast('Coment√°rio adicionado! üí¨', 'success')\r\n      return\r\n    }\r\n\r\n    const commentText = typeof commentPayload === 'string' ? commentPayload : ''\r\n\r\n    if (!commentText.trim()) {\r\n      addToast('Digite um coment√°rio antes de enviar.', 'warning')\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${config.API_BASE_URL}/comments/posts/${postId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.token}`\r\n        },\r\n        body: JSON.stringify({\r\n          conteudo: commentText,\r\n          parent_id: parentId\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n      if (data.success) {\r\n        addToast('Coment√°rio adicionado! üí¨', 'success')\r\n        setPosts(prevPosts => \r\n          prevPosts.map(post => \r\n            post.id === postId \r\n              ? { \r\n                  ...post, \r\n                  comentarios: (post.comentarios || 0) + 1\r\n                }\r\n              : post\r\n          )\r\n        )\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao comentar:', error)\r\n      addToast('Erro ao adicionar coment√°rio', 'error')\r\n    }\r\n  }\r\n\r\n  // Handle share functionality\r\n  const handleShare = async (postId) => {\r\n    try {\r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: 'EmpowerUp - Comunidade',\r\n          text: 'Confira este post incr√≠vel!',\r\n          url: window.location.href,\r\n        })\r\n      } else {\r\n        await navigator.clipboard.writeText(window.location.href)\r\n        addToast('Link copiado para a √°rea de transfer√™ncia! üìã', 'success')\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao compartilhar:', error)\r\n    }\r\n  }\r\n\r\n  const handleUpdatePost = (post) => {\r\n    // Abrir modal de edi√ß√£o\r\n    setEditingPost(post)\r\n    setShowEditModal(true)\r\n  }\r\n\r\n  const handleSaveEditPost = async (postId, updatedData) => {\r\n    try {\r\n      const response = await fetch(`${config.API_BASE_URL}/posts/${postId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${user.token}`\r\n        },\r\n        body: JSON.stringify(updatedData)\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (data.success) {\r\n        // Atualizar post na lista\r\n        setPosts(prevPosts => \r\n          prevPosts.map(p => p.id === postId ? { ...p, ...data.post } : p)\r\n        )\r\n        addToast('Post atualizado com sucesso!', 'success')\r\n      } else {\r\n        throw new Error(data.message || 'Erro ao atualizar post')\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao atualizar post:', error)\r\n      addToast('Erro ao atualizar post. Tente novamente.', 'error')\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const matchesCategoryFilter = useCallback((post) => {\r\n    if (!post) return false\r\n    if (selectedFilter === 'todos') return true\r\n    const category = (post.categoria || post.category || '')\r\n    return category.toLowerCase() === selectedFilter.toLowerCase()\r\n  }, [selectedFilter])\r\n\r\n  const filteredPosts = useMemo(() => posts.filter(matchesCategoryFilter), [posts, matchesCategoryFilter])\r\n\r\n  const filteredFollowingPosts = useMemo(\r\n    () => posts.filter((post) => isAuthorFollowed(post) && matchesCategoryFilter(post)),\r\n    [posts, matchesCategoryFilter]\r\n  )\r\n\r\n  const filters = [\r\n    { label: \"Todos\", value: \"todos\" },\r\n    { label: \"Artesanato\", value: \"artesanato\" },\r\n    { label: \"Culin√°ria\", value: \"culinaria\" },\r\n    { label: \"Moda\", value: \"moda\" },\r\n    { label: \"Beleza\", value: \"beleza\" },\r\n    { label: \"Tecnologia\", value: \"tecnologia\" },\r\n    { label: \"Neg√≥cios\", value: \"negocios\" },\r\n    { label: \"Sa√∫de\", value: \"saude\" },\r\n    { label: \"Educa√ß√£o\", value: \"educacao\" },\r\n  ]\r\n\r\n  const renderCategoryFilter = () => (\r\n    <div className=\"mb-3 sm:mb-4\">\r\n      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n        <div className=\"flex items-center gap-2 text-sm font-semibold text-gray-700\">\r\n          <Filter className=\"h-4 w-4 text-gray-500\" />\r\n          <span>Filtrar por categoria</span>\r\n        </div>\r\n        <div className=\"w-full sm:w-64\">\r\n          <Select value={selectedFilter} onValueChange={setSelectedFilter}>\r\n            <SelectTrigger className=\"w-full border-sage/30 focus:border-coral focus:ring-coral/40\">\r\n              <SelectValue placeholder=\"Selecione uma categoria\" />\r\n            </SelectTrigger>\r\n            <SelectContent className=\"max-h-64\">\r\n              {filters.map((filter) => (\r\n                <SelectItem key={filter.value} value={filter.value}>\r\n                  {filter.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const renderPostList = (postList, emptyState = {}) => {\r\n    const {\r\n      icon: EmptyIcon = MessageCircle,\r\n      title = 'Nenhum post encontrado',\r\n      description = 'Seja a primeira a compartilhar algo inspirador!',\r\n      action = null,\r\n    } = emptyState\r\n\r\n    return (\r\n      <div className=\"space-y-4 sm:space-y-6\">\r\n        {postList.map((post) => (\r\n          <SocialPost\r\n            key={post.id}\r\n            post={post}\r\n            currentUser={user}\r\n            onLike={handleLike}\r\n            onComment={handleComment}\r\n            onShare={handleShare}\r\n            onDelete={handleDeletePost}\r\n            onUpdate={handleUpdatePost}\r\n            onSave={handleSave}\r\n            onFollow={handleFollow}\r\n            showSaveButton={true}\r\n            isSaved={post.user_saved || post.isSaved || false}\r\n            showGroupBadge={post.grupo_nome ? true : false}\r\n            groupName={post.grupo_nome}\r\n          />\r\n        ))}\r\n\r\n        {postList.length === 0 && (\r\n          <Card className=\"shadow-sm\">\r\n            <CardContent className=\"p-8 sm:p-12 text-center\">\r\n              {EmptyIcon && (\r\n                <EmptyIcon className=\"mx-auto mb-3 h-10 w-10 text-gray-400 sm:mb-4 sm:h-12 sm:w-12\" />\r\n              )}\r\n              <h3 className=\"mb-2 text-base font-semibold text-gray-900 sm:text-lg\">{title}</h3>\r\n              <p className=\"text-sm text-gray-500\">{description}</p>\r\n              {action && <div className=\"mt-4 flex justify-center\">{action}</div>}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderCreatePostSection = () => {\r\n    if (user) {\r\n      return (\r\n        <div className=\"hidden md:block\">\r\n          <EmpowerUpCreatePost\r\n            user={user}\r\n            onPostCreated={handleNewPost}\r\n            className=\"mb-4 sm:mb-6\"\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Card className=\"shadow-sm\">\r\n        <CardContent className=\"p-4 text-center sm:p-6\">\r\n          <p className=\"mb-4 text-gray-600\">Fa√ßa login para participar da comunidade</p>\r\n          <Button className=\"bg-coral hover:bg-coral/90\">\r\n            Fazer Login\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const quickLinks = [\r\n    {\r\n      id: 'groups',\r\n      to: '/grupos',\r\n      title: 'Comunidade em grupos',\r\n      description: 'Acesse os grupos tem√°ticos completos para interagir com outras empreendedoras.',\r\n      icon: Users,\r\n      accent: 'bg-emerald-100 text-emerald-600',\r\n      cta: 'Ir para grupos'\r\n    },\r\n    {\r\n      id: 'events',\r\n      to: '/eventos',\r\n      title: 'Agenda de eventos',\r\n      description: 'Confira workshops, mentorias e encontros presenciais ou online.',\r\n      icon: Calendar,\r\n      accent: 'bg-violet-100 text-violet-600',\r\n      cta: 'Ver agenda completa'\r\n    },\r\n    {\r\n      id: 'courses',\r\n      to: '/cursos',\r\n      title: 'Cursos EmpowerUp',\r\n      description: 'Domine novas habilidades com conte√∫dos feitos para microempreendedoras.',\r\n      icon: GraduationCap,\r\n      accent: 'bg-sky-100 text-sky-600',\r\n      cta: 'Come√ßar agora'\r\n    },\r\n    {\r\n      id: 'plans',\r\n      to: '/planos',\r\n      title: 'Planos e Assinaturas',\r\n      description: 'Desbloqueie benef√≠cios exclusivos, mentorias e ferramentas premium.',\r\n      icon: Award,\r\n      accent: 'bg-amber-100 text-amber-600',\r\n      cta: 'Ver benef√≠cios'\r\n    },\r\n    {\r\n      id: 'campaigns',\r\n      to: '/campanhas',\r\n      title: 'Campanhas de An√∫ncios',\r\n      description: 'Impulsione seu neg√≥cio e alcance novas clientes com campanhas guiadas.',\r\n      icon: Megaphone,\r\n      accent: 'bg-rose-100 text-rose-600',\r\n      cta: 'Criar campanha'\r\n    }\r\n  ]\r\n\r\n  const [hiddenQuickLinks, setHiddenQuickLinks] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return\r\n    window.localStorage.removeItem('empowerup_hidden_quick_links')\r\n  }, [])\r\n\r\n  const visibleQuickLinks = quickLinks.filter((item) => !hiddenQuickLinks.includes(item.id))\r\n\r\n  const handleDismissQuickLink = (event, id) => {\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    setHiddenQuickLinks((prev) => (prev.includes(id) ? prev : [...prev, id]))\r\n  }\r\n\r\n  const renderNotificationIcon = (notification) => {\r\n    const type = normalizeNotificationType(notification)\r\n\r\n    switch (type) {\r\n      case 'like':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\r\n            <Heart className=\"h-5 w-5 text-red-500\" />\r\n          </div>\r\n        )\r\n      case 'comment':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n            <MessageCircle className=\"h-5 w-5 text-blue-500\" />\r\n          </div>\r\n        )\r\n      case 'follow':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center\">\r\n            <UserPlus className=\"h-5 w-5 text-emerald-500\" />\r\n          </div>\r\n        )\r\n      case 'save':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center\">\r\n            <Bookmark className=\"h-5 w-5 text-purple-500\" />\r\n          </div>\r\n        )\r\n      case 'message':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center\">\r\n            <MessageCircle className=\"h-5 w-5 text-sky-500\" />\r\n          </div>\r\n        )\r\n      case 'group':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center\">\r\n            <Users className=\"h-5 w-5 text-amber-500\" />\r\n          </div>\r\n        )\r\n      case 'course':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center\">\r\n            <BookOpen className=\"h-5 w-5 text-indigo-500\" />\r\n          </div>\r\n        )\r\n      case 'system':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center\">\r\n            <Sparkles className=\"h-5 w-5 text-rose-500\" />\r\n          </div>\r\n        )\r\n      case 'campaign':\r\n        return (\r\n          <div className=\"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center\">\r\n            <Megaphone className=\"h-5 w-5 text-orange-500\" />\r\n          </div>\r\n        )\r\n      default:\r\n        return (\r\n          <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center\">\r\n            <Bell className=\"h-5 w-5 text-gray-500\" />\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  const handleNotificationClick = async (notification) => {\r\n    if (!notification?.id) return\r\n\r\n    if (!notification.is_read) {\r\n      await markNotificationAsRead(notification.id)\r\n    }\r\n\r\n    const targetUrl = getNotificationTargetUrl(notification)\r\n    if (targetUrl) {\r\n      window.location.href = targetUrl\r\n    }\r\n  }\r\n\r\n  const handleMarkAllNotifications = async () => {\r\n    const success = await markAllNotificationsAsRead()\r\n    if (success) {\r\n      refreshNotifications()\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-b from-coral/5 to-olive/5\">\r\n        <Loading size=\"lg\" text=\"Carregando a comunidade...\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-coral/5 to-olive/5 text-gray-800\">\r\n      {/* Modal de Sucesso personalizado */}\r\n      {successModal.visible && (\r\n        <div className=\"fixed top-5 right-5 z-[70]\">\r\n          <div className=\"w-80 bg-white rounded-lg shadow-lg ring-1 ring-black/5 overflow-hidden\">\r\n            <div className=\"flex items-start gap-3 p-3\">\r\n              <div className=\"flex-shrink-0 mt-1\">\r\n                <CheckCircle className=\"h-6 w-6 text-emerald-500\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"text-sm font-medium text-gray-900\">{successModal.message}</div>\r\n                <div className=\"text-xs text-gray-500\">Seu post foi publicado e aparece na comunidade.</div>\r\n              </div>\r\n              <button aria-label=\"Fechar\" onClick={() => { if (successTimeoutRef.current) clearTimeout(successTimeoutRef.current); setSuccessModal({ visible: false, message: '' }) }} className=\"text-gray-400 hover:text-gray-600 focus:outline-none\">\r\n                <X className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"h-1 bg-emerald-100\">\r\n              <div className=\"h-full bg-emerald-500 animate-progress\" style={{ animationDuration: '4s' }} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Platform header */}\r\n      <SiteHeader />\r\n\r\n  <main className=\"container mx-auto max-w-7xl px-3 sm:px-4 pb-20 md:pb-16 pt-4 sm:pt-6\">\r\n        {/* Banner - accessible and dismissible with entrance/exit animation */}\r\n        {showBanner && (\r\n          <div role=\"region\" aria-label=\"Banner da Comunidade\" className=\"mb-4 sm:mb-6\">\r\n            <div\r\n              className={`relative bg-white rounded-xl shadow-md p-3 sm:p-4 md:p-5 flex items-start gap-3 sm:gap-4 transform transition-all duration-300 ease-out ${bannerVisible ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 -translate-y-2 scale-98 pointer-events-none'}`}\r\n              data-state={bannerVisible ? 'open' : 'closing'}\r\n            >\r\n              <div className=\"flex-shrink-0\">\r\n                <Sparkles className=\"h-6 w-6 sm:h-8 sm:w-8 text-coral\" aria-hidden=\"true\" />\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h2 className=\"text-base sm:text-lg font-bold text-gray-900\">Comunidade EmpowerUp</h2>\r\n                <p className=\"text-sm text-gray-600 leading-relaxed\">Conecte-se, compartilhe e cres√ßa com outras empreendedoras ‚Äî participe de grupos, eventos e troque experi√™ncias.</p>\r\n                <div className=\"mt-3 flex flex-wrap items-center gap-2 sm:gap-3\">\r\n                  <Button className=\"bg-olive hover:bg-olive/90 transition-transform transform hover:-translate-y-0.5\" size=\"sm\" aria-label=\"Saiba mais sobre a comunidade\">Saiba mais</Button>\r\n                  <Button variant=\"outline\" size=\"sm\" aria-label=\"Minimizar banner\" onClick={() => closeBanner()}>Minimizar</Button>\r\n                </div>\r\n              </div>\r\n              <button\r\n                aria-label=\"Fechar banner\"\r\n                className=\"absolute right-2 top-2 sm:right-3 sm:top-3 flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-coral transition-colors\"\r\n                onClick={() => closeBanner()}\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6\">\r\n          {/* Left Sidebar - mimic Twitter: hidden on small screens */}\r\n          <CommunityLeftSidebar active={activeTab === 'notificacoes' ? 'notificacoes' : 'comunidade'} />\r\n\r\n          {/* Main column */}\r\n          <section className=\"lg:col-span-6\">\r\n            <div className=\"bg-transparent\">\r\n              <div className=\"space-y-4 mb-4 sm:mb-6\">\r\n                <div className=\"px-1\">\r\n                  <h2 className=\"text-lg sm:text-xl font-bold text-gray-900\">Tudo para crescer seu neg√≥cio em um s√≥ lugar</h2>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">Acesse cursos, planos e campanhas diretamente daqui da comunidade.</p>\r\n                </div>\r\n                <div className=\"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\r\n                  {visibleQuickLinks.length > 0 ? (\r\n                    visibleQuickLinks.map((item) => (\r\n                      <Link key={item.id} to={item.to} className=\"group focus:outline-none focus-visible:ring-2 focus-visible:ring-coral rounded-xl\">\r\n                        <Card className=\"relative h-full flex flex-col transition-transform duration-200 transition-colors group-hover:-translate-y-1 group-hover:shadow-lg group-hover:bg-olive group-hover:border-olive/40\">\r\n                          <button\r\n                            type=\"button\"\r\n                            aria-label={`Fechar card ${item.title}`}\r\n                            className=\"absolute right-2 top-2 sm:right-3 sm:top-3 inline-flex h-6 w-6 sm:h-7 sm:w-7 items-center justify-center rounded-full bg-white/80 text-gray-400 transition hover:bg-white hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-coral\"\r\n                            onClick={(event) => handleDismissQuickLink(event, item.id)}\r\n                          >\r\n                            <X className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n                          </button>\r\n                          <CardHeader className=\"flex flex-row items-start gap-2 sm:gap-3 space-y-0 pb-3 sm:pb-4 pr-8 sm:pr-10 transition-colors\">\r\n                            <div className={`p-1.5 sm:p-2 rounded-lg transition-colors ${item.accent} group-hover:bg-white/20 group-hover:text-white`}>\r\n                              <item.icon className=\"h-5 w-5 sm:h-6 sm:w-6\" aria-hidden=\"true\" />\r\n                            </div>\r\n                            <div className=\"flex flex-col min-w-0 gap-1 transition-colors\">\r\n                              <CardTitle className=\"text-sm sm:text-base text-gray-900 leading-tight break-words transition-colors group-hover:text-white\">{item.title}</CardTitle>\r\n                              <p className=\"text-xs sm:text-sm text-gray-600 leading-snug break-words whitespace-normal transition-colors group-hover:text-white/90\">{item.description}</p>\r\n                            </div>\r\n                          </CardHeader>\r\n                          <CardContent className=\"pt-0 mt-auto transition-colors px-4 pb-3 sm:pb-4\">\r\n                            <Button variant=\"ghost\" className=\"px-0 text-coral transition-colors hover:text-olive group-hover:text-white group-hover:hover:text-white text-sm\">{item.cta} <ChevronRight className=\"inline h-3 w-3 sm:h-4 sm:w-4 ml-1\" /></Button>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </Link>\r\n                    ))\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Create Post Section - Sempre vis√≠vel */}\r\n              <div className=\"mb-4 sm:mb-6\">\r\n                {renderCreatePostSection()}\r\n              </div>\r\n\r\n              <Tabs value={activeTab} onValueChange={handleTabChange} className=\"w-full\">\r\n                <TabsList className=\"mb-3 sm:mb-4 grid w-full grid-cols-3 gap-1 rounded-xl bg-gray-100 p-1 shadow-sm\" role=\"tablist\">\r\n                  <TabsTrigger \r\n                    value=\"posts\" \r\n                    className=\"rounded-lg px-3 py-2 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:shadow-sm sm:px-4 sm:py-2.5 sm:text-base\" \r\n                    role=\"tab\"\r\n                  >\r\n                    Posts\r\n                  </TabsTrigger>\r\n                  <TabsTrigger \r\n                    value=\"seguindo\" \r\n                    className=\"rounded-lg px-3 py-2 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:shadow-sm sm:px-4 sm:py-2.5 sm:text-base\" \r\n                    role=\"tab\"\r\n                  >\r\n                    Seguindo\r\n                  </TabsTrigger>\r\n                  <TabsTrigger \r\n                    value=\"grupos\" \r\n                    className=\"rounded-lg px-3 py-2 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:shadow-sm sm:px-4 sm:py-2.5 sm:text-base\" \r\n                    role=\"tab\"\r\n                  >\r\n                    Grupos\r\n                  </TabsTrigger>\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"posts\" className=\"mt-0\">\r\n                  <div className=\"space-y-4 sm:space-y-6\">\r\n                    {renderCategoryFilter()}\r\n                    {renderPostList(filteredPosts, {\r\n                      title: 'Nenhum post encontrado',\r\n                      description:\r\n                        selectedFilter === 'todos'\r\n                          ? 'Seja a primeira a compartilhar algo inspirador!'\r\n                          : 'Nenhum post encontrado para esta categoria.',\r\n                    })}\r\n                  </div>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"seguindo\" className=\"mt-0\">\r\n                  <div className=\"space-y-4 sm:space-y-6\">\r\n                    {renderCategoryFilter()}\r\n                    {renderPostList(filteredFollowingPosts, {\r\n                      icon: UserPlus,\r\n                      title:\r\n                        selectedFilter === 'todos'\r\n                          ? 'Ainda n√£o h√° posts de quem voc√™ segue'\r\n                          : 'Ainda n√£o h√° posts nesta categoria',\r\n                      description:\r\n                        selectedFilter === 'todos'\r\n                          ? 'Comece a seguir outras empreendedoras para acompanhar as novidades por aqui.'\r\n                          : 'As empreendedoras que voc√™ segue ainda n√£o compartilharam nessa categoria.',\r\n                      action: user ? (\r\n                        <Button variant=\"outline\" asChild>\r\n                          <Link to=\"/explorar\">Descobrir empreendedoras</Link>\r\n                        </Button>\r\n                      ) : null,\r\n                    })}\r\n                  </div>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"grupos\" className=\"mt-0\">\r\n                  <div className=\"space-y-4 sm:space-y-6\">\r\n                    {renderCategoryFilter()}\r\n                    {renderPostList(groupPosts, {\r\n                      icon: Users,\r\n                      title: 'Nenhum post dos seus grupos',\r\n                      description: 'Entre em grupos para ver os posts das empreendedoras que fazem parte das mesmas comunidades que voc√™!',\r\n                      action: user ? (\r\n                        <Button variant=\"outline\" asChild>\r\n                          <Link to=\"/grupos\">Explorar grupos</Link>\r\n                        </Button>\r\n                      ) : null,\r\n                    })}\r\n                  </div>\r\n                </TabsContent>\r\n\r\n                {/* Conte√∫dos de eventos foram movidos para p√°gina dedicada */}\r\n\r\n                {/* Notifica√ß√µes */}\r\n                {user && (\r\n                  <TabsContent value=\"notificacoes\" className=\"mt-0\">\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Notifica√ß√µes</h3>\r\n                        {unreadCount > 0 && (\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={handleMarkAllNotifications}\r\n                            className=\"text-sm text-coral hover:text-coral\"\r\n                          >\r\n                            Marcar todas como lidas\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n\r\n                      {notifications.length > 0 ? (\r\n                        notifications.map((notification) => {\r\n                          const actorName = getNotificationActorName(notification) || 'Usu√°rio'\r\n                          const message = getNotificationMessage(notification)\r\n                          const subtitle = getNotificationSubtitle(notification)\r\n                          const actorUsername = notification.from_user?.username\r\n\r\n                          return (\r\n                            <Card\r\n                              key={notification.id || `${notification.type}-${notification.created_at}`}\r\n                              className={`shadow-sm cursor-pointer transition-colors ${\r\n                                !notification.is_read ? 'bg-blue-50 border-blue-200' : 'bg-white'\r\n                              }`}\r\n                              onClick={() => handleNotificationClick(notification)}\r\n                            >\r\n                              <CardContent className=\"p-4\">\r\n                                <div className=\"flex items-start space-x-3\">\r\n                                  <div className=\"flex-shrink-0\">\r\n                                    {renderNotificationIcon(notification)}\r\n                                  </div>\r\n                                  <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"text-sm text-gray-900\">\r\n                                      {actorName && actorUsername ? (\r\n                                        <>\r\n                                          <Link \r\n                                            to={`/perfil/${actorUsername}`}\r\n                                            onClick={(e) => e.stopPropagation()}\r\n                                            className=\"font-medium hover:underline\"\r\n                                          >\r\n                                            {actorName}\r\n                                          </Link>{' '}\r\n                                          <span className=\"text-gray-700\">{message}</span>\r\n                                        </>\r\n                                      ) : actorName ? (\r\n                                        <>\r\n                                          <span className=\"font-medium\">{actorName}</span>{' '}\r\n                                          <span className=\"text-gray-700\">{message}</span>\r\n                                        </>\r\n                                      ) : (\r\n                                        <span className=\"text-gray-700\">{message}</span>\r\n                                      )}\r\n                                    </p>\r\n                                    {subtitle && (\r\n                                      <p className=\"text-xs text-gray-500 mt-1 truncate\">{subtitle}</p>\r\n                                    )}\r\n                                    <p className=\"text-xs text-gray-500 mt-2\">\r\n                                      {formatTimeAgo(notification.created_at)}\r\n                                    </p>\r\n                                  </div>\r\n                                  {!notification.is_read && (\r\n                                    <div className=\"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0\"></div>\r\n                                  )}\r\n                                </div>\r\n                              </CardContent>\r\n                            </Card>\r\n                          )\r\n                        })\r\n                      ) : (\r\n                        <Card className=\"shadow-sm\">\r\n                          <CardContent className=\"p-12 text-center\">\r\n                            <div className=\"text-gray-500\">\r\n                              <Bell className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\r\n                              <h3 className=\"text-lg font-medium mb-2\">Nenhuma notifica√ß√£o</h3>\r\n                              <p className=\"text-sm\">Suas notifica√ß√µes aparecer√£o aqui</p>\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                      )}\r\n                    </div>\r\n                  </TabsContent>\r\n                )}\r\n              </Tabs>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Right column - search, trending, events, groups */}\r\n          <CommunityRightSidebar trending={trending} events={events} groups={groups} />\r\n        </div>\r\n      </main>\r\n\r\n      {/* Modals */}\r\n      {showUsernameModal && (\r\n        <Dialog open={showUsernameModal} onOpenChange={setShowUsernameModal}>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>Configurar Nome de Usu√°rio</DialogTitle>\r\n              <DialogDescription>\r\n                Complete seu perfil configurando um nome de usu√°rio √∫nico.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            {/* Modal for initial username setup */}\r\n            <UsernameSetup\r\n              user={user}\r\n              onUsernameSet={(username) => {\r\n                updateUser({ username });\r\n                setShowUsernameModal(false);\r\n              }}\r\n            />\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n\r\n      <Dialog\r\n        open={showCreatePostModal}\r\n        onOpenChange={(open) => (open ? setShowCreatePostModal(true) : closeCreatePostModal())}\r\n      >\r\n        <DialogContent className=\"max-h-[90vh] w-[calc(100vw-3rem)] max-w-full overflow-y-auto overflow-x-hidden rounded-none p-0 sm:w-full sm:max-w-[640px] sm:rounded-lg sm:p-6\">\r\n          <DialogHeader className=\"px-4 pt-6 pr-10 sm:px-0 sm:pt-0 sm:pr-0\">\r\n            <DialogTitle className=\"text-base font-semibold leading-snug text-gray-900 sm:text-lg\">\r\n              Compartilhe algo com a comunidade\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-xs text-muted-foreground sm:text-sm\">\r\n              Crie uma nova publica√ß√£o para compartilhar com a comunidade.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"px-4 pb-6 sm:px-0\">\r\n            {user ? (\r\n              <EmpowerUpCreatePost\r\n                user={user}\r\n                onPostCreated={handleNewPost}\r\n                className=\"border-0 shadow-none\"\r\n              />\r\n            ) : (\r\n              <Card className=\"shadow-sm\">\r\n                <CardContent className=\"p-6 text-center\">\r\n                  <p className=\"mb-4 text-gray-600\">Fa√ßa login para publicar na comunidade</p>\r\n                  <Button asChild className=\"bg-coral hover:bg-coral/90\">\r\n                    <Link to=\"/login\">Fazer login</Link>\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Modal de Edi√ß√£o de Post */}\r\n      <EditPostModal\r\n        isOpen={showEditModal}\r\n        onClose={() => {\r\n          setShowEditModal(false)\r\n          setEditingPost(null)\r\n        }}\r\n        post={editingPost}\r\n        onSave={handleSaveEditPost}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":["__iconNode","GraduationCap","createLucideIcon","UsernameSetup","user","onUsernameSet","username","setUsername","useState","isChecking","setIsChecking","isAvailable","setIsAvailable","message","setMessage","isSaving","setIsSaving","generateSuggestion","useCallback","data","config","checkUsernameAvailability","error","useEffect","usernameToCheck","handleUsernameChange","e","value","handleSave","jsxs","Card","CardHeader","jsx","CardTitle","CardContent","Input","Loader2","Check","X","Alert","AlertDescription","Button","Fragment","CommunityRightSidebar","trending","events","groups","className","showSearch","topTrending","useMemo","upcomingEvents","activeGroups","cn","SearchComponent","TrendingUp","trend","index","Hash","Calendar","event","MapPin","Link","Users","group","ChevronRight","COMMUNITY_TAB_VALUES","isAuthorFollowed","post","rawValue","normalized","ComunidadePage","posts","setPosts","setGroups","groupPosts","setGroupPosts","setEvents","setTrending","selectedFilter","setSelectedFilter","loading","setLoading","showBanner","setShowBanner","bannerVisible","setBannerVisible","successModal","setSuccessModal","editingPost","setEditingPost","showEditModal","setShowEditModal","showCreatePostModal","setShowCreatePostModal","updateUser","useAuth","addToast","useToast","navigate","useNavigate","bannerStorageKey","notifications","unreadCount","markNotificationAsRead","markAllNotificationsAsRead","refreshNotifications","useNotifications","searchParams","setSearchParams","useSearchParams","activeTab","setActiveTab","tabParam","successTimeoutRef","useRef","removeComposeParam","updated","closeCreatePostModal","refreshGroups","apiService","refreshEvents","t","closeBanner","active","handleTabChange","params","handleCreatePost","fetchPosts","result","fetchTrending","response","fetchGroupPosts","isMounted","MIN_LOADER_DURATION","getNow","startedAt","elapsed","remaining","resolve","showUsernameModal","setShowUsernameModal","handleNewPost","postData","mediaFile","formData","userData","prevPosts","handleDeletePost","postId","handleLike","liked","likesCount","saved","handleFollow","userId","following","followersCount","handleComment","commentPayload","parentId","commentText","handleShare","handleUpdatePost","handleSaveEditPost","updatedData","p","matchesCategoryFilter","filteredPosts","filteredFollowingPosts","filters","renderCategoryFilter","Filter","Select","SelectTrigger","SelectValue","SelectContent","filter","SelectItem","renderPostList","postList","emptyState","EmptyIcon","MessageCircle","title","description","action","SocialPost","renderCreatePostSection","EmpowerUpCreatePost","quickLinks","Award","Megaphone","hiddenQuickLinks","setHiddenQuickLinks","visibleQuickLinks","item","handleDismissQuickLink","id","prev","renderNotificationIcon","notification","normalizeNotificationType","Heart","UserPlus","Bookmark","BookOpen","Sparkles","Bell","handleNotificationClick","targetUrl","getNotificationTargetUrl","handleMarkAllNotifications","Loading","CheckCircle","SiteHeader","CommunityLeftSidebar","Tabs","TabsList","TabsTrigger","TabsContent","actorName","getNotificationActorName","getNotificationMessage","subtitle","getNotificationSubtitle","actorUsername","formatTimeAgo","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","open","EditPostModal"],"mappings":"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","x_google_ignoreList":[0]}