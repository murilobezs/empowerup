import{c as ye,u as _e,r,m as v,j as e,O as we,D as Ce,J as Se,B as u,K as Ae,q as Ee,s as Pe,t as ke,v as Te,L as me,i as De}from"./index-DLqimMV8.js";import{a as Fe}from"./index-iG6a_0Cv.js";import{C as z,b as q,a as U}from"./card-CY9-ve7w.js";import{B as xe}from"./badge-CME7s750.js";import{I as d}from"./input-FZRWGTRd.js";import{L as c}from"./label-DBxNtR5w.js";import{T as Le}from"./textarea-Dc95vB93.js";import{S as B,a as $,b as V,c as I,d as G}from"./select-d49l-vTK.js";import{u as Oe}from"./toast-7vBxPuBc.js";import{M as Re}from"./site-header-CKtPnSCF.js";import{L as b}from"./loader-circle-ClwSyFO1.js";import{C as Me}from"./chart-column-D_csKldJ.js";import{R as ze}from"./rocket-oRE_XYSN.js";import{C as H}from"./index-EfjSmcDM.js";import{C as ue}from"./calendar-BcaNxl4E.js";import{A as qe}from"./arrow-right-9NKBOYty.js";import{C as Ue}from"./circle-play-DfHv_aMX.js";import{R as Be}from"./refresh-cw-BzSKEN6A.js";import{T as $e}from"./trash-2-CP23ljvT.js";import{S as Ve}from"./shield-Dd8xFKSO.js";import"./site-footer-btaBgloE.js";import"./crown-BrBsF1Iu.js";import"./map-pin-XNZDTA2K.js";import"./index-CFq4vo7_.js";import"./chevron-up-DKadsFnq.js";import"./circle-alert-Bp1UBQ88.js";import"./dropdown-menu-7k7ytBg1.js";import"./index-BgaOpAAA.js";import"./bookmark-B2_N_nt6.js";import"./heart-D1UYKJAB.js";import"./user-BOjY7V17.js";import"./log-out-Cu_b7vs0.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Ge=ye("circle-pause",Ie),he={rascunho:"Rascunho",ativo:"Ativa",pausado:"Pausada",encerrado:"Encerrada"},He={rascunho:"bg-amber-100 text-amber-700",ativo:"bg-emerald-100 text-emerald-700",pausado:"bg-blue-100 text-blue-700",encerrado:"bg-gray-200 text-gray-600"},pe=[{value:"alcance",label:"Alcance"},{value:"cliques",label:"Cliques"},{value:"conversao",label:"Conversões"},{value:"engajamento",label:"Engajamento"}],Je=[{value:"all",label:"Todas"},{value:"ativo",label:"Ativas"},{value:"pausado",label:"Pausadas"},{value:"rascunho",label:"Rascunhos"},{value:"encerrado",label:"Encerradas"}],J={titulo:"",objetivo:"alcance",status:"rascunho",orcamento_total:"",orcamento_diario:"",data_inicio:"",data_fim:""},K={interests:"",location:"",ageMin:"",ageMax:"",description:""},A=3,Sa=()=>{const{addToast:n}=Oe(),{user:E}=_e(),[N,y]=r.useState([]),[g,_]=r.useState(null),[X,Q]=r.useState(!0),[W,P]=r.useState(""),[Y,Z]=r.useState(""),[m,ge]=r.useState("all"),[k,ee]=r.useState(!1),[T,ae]=r.useState(!1),[i,x]=r.useState(J),[l,p]=r.useState(K),[w,C]=r.useState([]),[je,se]=r.useState(!1),[S,D]=r.useState(""),[h,F]=r.useState([]),[j,re]=r.useState(0),[te,ie]=r.useState(0),le=r.useCallback(async()=>{if(!E?.id){C([]);return}se(!0);try{const a=await v.getPosts({user_id:E.id,limit:40});a?.success?C(a.posts||[]):C([])}catch(a){console.error("Erro ao carregar posts disponíveis para campanha:",a),C([])}finally{se(!1)}},[E?.id]),oe=!!g?.subscription?.anuncios_promovidos,ne=r.useMemo(()=>{if(!S.trim())return w;const a=S.trim().toLowerCase();return w.filter(s=>(s.conteudo||"").toString().toLowerCase().includes(a)||`#${s.id}`.includes(a))},[w,S]),fe=r.useCallback(a=>{F(s=>s.includes(a)?s.filter(t=>t!==a):s.length>=A?(n(`Selecione no máximo ${A} posts por campanha`,"warning"),s):[...s,a])},[n]),ce=r.useCallback(a=>{ee(a),a||(x(J),p(K),F([]),D(""))},[]);r.useEffect(()=>{k&&(le(),D(""))},[k,le]);const L=r.useCallback(async a=>{Q(!0),P(""),Z("");try{const s=await v.listAdCampaigns(a?{status:a}:{});s?.success?(y(s.campaigns||[]),s.ad_usage&&_(s.ad_usage)):P(s?.message||"Não foi possível carregar as campanhas.")}catch(s){console.error("Erro ao carregar campanhas:",s),s?.status===403?(Z(s?.data?.message||"Seu plano atual não permite gerenciar campanhas promovidas."),s?.data?.ad_usage&&_(s.data.ad_usage)):P(s?.message||"Erro inesperado ao carregar campanhas.")}finally{Q(!1)}},[]);r.useEffect(()=>{L(m==="all"?void 0:m)},[L,m]);const ve=async()=>{if(!i.titulo.trim()){n("Defina um título para a campanha","warning");return}if(h.length===0){n("Selecione ao menos um post para promover","warning");return}ae(!0);try{const a={titulo:i.titulo.trim(),objetivo:i.objetivo,status:i.status,data_inicio:i.data_inicio||void 0,data_fim:i.data_fim||void 0,orcamento_total:i.orcamento_total?Number(i.orcamento_total):void 0,orcamento_diario:i.orcamento_diario?Number(i.orcamento_diario):void 0},s={};if(l.interests.trim()&&(s.interesses=l.interests.split(",").map(o=>o.trim()).filter(Boolean)),l.location.trim()&&(s.localizacao=l.location.trim()),l.ageMin||l.ageMax){const o={};l.ageMin&&(o.min=Number(l.ageMin)),l.ageMax&&(o.max=Number(l.ageMax)),s.faixa_etaria=o}l.description.trim()&&(s.descricao=l.description.trim()),Object.keys(s).length>0&&(a.publico_alvo=s),h.length===1?a.post_id=h[0]:h.length>1&&(a.post_ids=h);const t=await v.createAdCampaign(a);t?.success?(n("Campanha criada com sucesso!","success"),x(J),p(K),F([]),ee(!1),y(o=>[t.campaign,...o]),t.ad_usage?_(t.ad_usage):L(m==="all"?void 0:m)):n(t?.message||"Não foi possível criar a campanha.","error")}catch(a){console.error("Erro ao criar campanha:",a),n(a?.message||"Erro inesperado ao criar campanha.","error")}finally{ae(!1)}},O=async(a,s)=>{if(!a)return;let t=a.status;s==="activate"?t="ativo":s==="pause"?t="pausado":s==="finish"&&(t="encerrado"),re(a.id);try{const o=await v.updateAdCampaign(a.id,{status:t});o?.success?(n("Status atualizado.","success"),y(R=>R.map(M=>M.id===a.id?{...M,status:t}:M))):n(o?.message||"Não foi possível atualizar o status.","error")}catch(o){console.error("Erro ao atualizar status da campanha:",o),n(o?.message||"Erro ao atualizar o status da campanha.","error")}finally{re(0)}},be=async a=>{if(!(!a||!window.confirm("Tem certeza que deseja excluir esta campanha? Esta ação não pode ser desfeita."))){ie(a.id);try{const t=await v.deleteAdCampaign(a.id);t?.success?(n("Campanha excluída com sucesso.","success"),y(o=>o.filter(R=>R.id!==a.id)),t.ad_usage&&_(t.ad_usage)):n(t?.message||"Não foi possível excluir a campanha.","error")}catch(t){console.error("Erro ao excluir campanha:",t),n(t?.message||"Erro ao excluir campanha.","error")}finally{ie(0)}}},de=r.useMemo(()=>m==="all"?N:N.filter(a=>a.status===m),[N,m]),f=r.useMemo(()=>{if(!g)return null;const a=g.limit??null,s=g.used??0;return{limit:a,used:s,remaining:a!==null?Math.max(0,a-s):null,subscriptionName:g.subscription?.plan_nome??null}},[g]),Ne=()=>e.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-10 text-center shadow-sm",children:[e.jsx(Ve,{className:"mx-auto h-12 w-12 text-amber-500"}),e.jsx("h2",{className:"mt-6 text-2xl font-semibold text-gray-900",children:"Recurso exclusivo das assinaturas premium"}),e.jsx("p",{className:"mt-3 text-sm text-gray-600",children:Y||"Atualize seu plano para desbloquear a criação de campanhas promovidas e destacar seus conteúdos no feed."}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(u,{asChild:!0,className:"bg-coral hover:bg-coral/90",children:e.jsx(me,{to:"/planos",children:"Conhecer planos"})})})]});return e.jsx(Fe,{title:"Campanhas Promovidas",subtitle:"Gerencie anúncios impulsionados, acompanhe resultados e destaque sua marca para a comunidade EmpowerUp.",breadcrumbs:[{label:"Início",href:"/"},{label:"Campanhas promovidas"}],children:e.jsxs("div",{className:"space-y-10",children:[W&&e.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:[e.jsx(we,{className:"mr-2 inline-block h-4 w-4"})," ",W]}),Y?Ne():e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr,1fr] lg:items-start",children:[e.jsxs(z,{className:"border border-gray-200 shadow-sm",children:[e.jsxs(q,{children:[e.jsxs("div",{className:"flex items-center gap-3 text-coral",children:[e.jsx(Re,{className:"h-6 w-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Painel de campanhas"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crie, ative e acompanhe campanhas promovidas para impulsionar seus posts mais importantes."})]}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Campanhas cadastradas"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:X?"—":N.length})]}),e.jsxs(Ce,{open:k,onOpenChange:ce,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(u,{className:"bg-coral hover:bg-coral/90",disabled:!oe,children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"})," Nova campanha"]})}),e.jsxs(Ee,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs(Pe,{children:[e.jsx(ke,{children:"Criar campanha promovida"}),e.jsx(Te,{children:"Preencha os dados principais da sua campanha. Você poderá editar posteriormente."})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"titulo",children:"Título da campanha"}),e.jsx(d,{id:"titulo",placeholder:"Ex.: Lançamento da nova coleção",value:i.titulo,onChange:a=>x(s=>({...s,titulo:a.target.value}))})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Objetivo"}),e.jsxs(B,{value:i.objetivo,onValueChange:a=>x(s=>({...s,objetivo:a})),children:[e.jsx($,{children:e.jsx(V,{placeholder:"Selecione um objetivo"})}),e.jsx(I,{children:pe.map(a=>e.jsx(G,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Status inicial"}),e.jsxs(B,{value:i.status,onValueChange:a=>x(s=>({...s,status:a})),children:[e.jsx($,{children:e.jsx(V,{})}),e.jsx(I,{children:["rascunho","ativo","pausado"].map(a=>e.jsx(G,{value:a,children:he[a]},a))})]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"data_inicio",children:"Início"}),e.jsx(d,{id:"data_inicio",type:"datetime-local",value:i.data_inicio,onChange:a=>x(s=>({...s,data_inicio:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"data_fim",children:"Término (opcional)"}),e.jsx(d,{id:"data_fim",type:"datetime-local",value:i.data_fim,onChange:a=>x(s=>({...s,data_fim:a.target.value}))})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"orcamento_total",children:"Orçamento total (R$)"}),e.jsx(d,{id:"orcamento_total",type:"number",min:"0",step:"0.01",placeholder:"Opcional",value:i.orcamento_total,onChange:a=>x(s=>({...s,orcamento_total:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"orcamento_diario",children:"Orçamento diário (R$)"}),e.jsx(d,{id:"orcamento_diario",type:"number",min:"0",step:"0.01",placeholder:"Opcional",value:i.orcamento_diario,onChange:a=>x(s=>({...s,orcamento_diario:a.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3 rounded-xl border border-gray-200 bg-gray-50 p-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Público ideal"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Descreva quem deve ver seus anúncios. Use linguagem natural e nós traduzimos para a segmentação correta."})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience_interests",children:"Interesses principais"}),e.jsx(d,{id:"audience_interests",placeholder:"Ex.: moda, marketing digital, wellness",value:l.interests,onChange:a=>p(s=>({...s,interests:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience_location",children:"Localização (opcional)"}),e.jsx(d,{id:"audience_location",placeholder:"Cidade, estado ou país",value:l.location,onChange:a=>p(s=>({...s,location:a.target.value}))})]})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience_age_min",children:"Idade mínima"}),e.jsx(d,{id:"audience_age_min",type:"number",min:"0",placeholder:"Opcional",value:l.ageMin,onChange:a=>p(s=>({...s,ageMin:a.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience_age_max",children:"Idade máxima"}),e.jsx(d,{id:"audience_age_max",type:"number",min:"0",placeholder:"Opcional",value:l.ageMax,onChange:a=>p(s=>({...s,ageMax:a.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience_description",children:"Observações sobre o público"}),e.jsx(Le,{id:"audience_description",rows:3,placeholder:"Ex.: Empreendedoras que estão lançando produtos digitais e querem aumentar o alcance do perfil.",value:l.description,onChange:a=>p(s=>({...s,description:a.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3 rounded-xl border border-gray-200 bg-white p-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Escolha os posts promovidos"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Selecione até ",A," posts para aparecerem como patrocinados no feed."]})]}),e.jsx(d,{placeholder:"Buscar pelo conteúdo ou ID",value:S,onChange:a=>D(a.target.value),className:"max-w-sm"})]}),e.jsx("div",{className:"max-h-64 space-y-3 overflow-y-auto pr-1",children:je?Array.from({length:3}).map((a,s)=>e.jsx("div",{className:"h-16 animate-pulse rounded-xl bg-gray-100"},s)):ne.length===0?e.jsx("p",{className:"text-xs text-gray-500",children:w.length===0?"Crie um post na comunidade para promovê-lo aqui.":"Nenhum post corresponde à busca. Tente outros termos."}):ne.map(a=>{const s=h.includes(a.id);return e.jsxs("label",{className:`flex cursor-pointer items-start gap-3 rounded-xl border p-3 transition hover:border-coral ${s?"border-coral bg-coral/5":"border-gray-200 bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 text-coral",checked:s,onChange:()=>fe(a.id)}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:a.conteudo||"Post sem descrição"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["ID #",a.id]}),a.timeAgo&&e.jsxs("span",{children:["• ",a.timeAgo]}),a.categoria&&e.jsxs("span",{children:["• ",a.categoria]})]}),a.imagem_url&&e.jsx("img",{src:a.imagem_url,alt:"Prévia do post",className:"mt-2 h-20 w-full rounded-lg object-cover"})]})]},a.id)})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Selecionados: ",h.length,"/",A]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(u,{variant:"outline",onClick:()=>ce(!1),disabled:T,children:"Cancelar"}),e.jsx(u,{className:"bg-coral hover:bg-coral/90",onClick:ve,disabled:T||!i.titulo.trim()||h.length===0,children:T?e.jsx(b,{className:"h-4 w-4 animate-spin"}):"Criar campanha"})]})]})]})]})]}),f&&e.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4 text-sm text-blue-900",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"})," Limite semanal de campanhas ativas"]}),e.jsx("span",{className:"font-semibold",children:f.limit!==null?`${f.used}/${f.limit}`:"Uso ilimitado"})]}),f.limit!==null&&e.jsxs("p",{className:"mt-2 text-xs",children:["Restam ",f.remaining," campanhas nesta semana. Limite reinicia toda segunda-feira."]})]})]})]}),e.jsxs(z,{className:"border border-gray-200 shadow-sm",children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-2 text-coral",children:[e.jsx(ze,{className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Como as campanhas ajudam"})]})}),e.jsxs(U,{className:"space-y-4 text-sm text-gray-600",children:[e.jsx("p",{children:"As campanhas promovidas destacam seus principais conteúdos no feed da comunidade, alcançando novas clientes e gerando resultados mensuráveis."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:"Ative e pause campanhas a qualquer momento conforme sua estratégia."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:"Direcione o público certo definindo interesses e localização."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(H,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:"Monitore orçamento e resultados sem sair da plataforma."})]})]}),e.jsx(u,{asChild:!0,variant:"outline",size:"sm",className:"w-full",children:e.jsx(me,{to:"/planos",children:oe?"Gerenciar plano":"Assine para liberar campanhas"})})]})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Suas campanhas"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Visualize o status, orçamento e posts promovidos."})]}),e.jsxs("div",{className:"w-full max-w-xs",children:[e.jsx(c,{className:"mb-1 block text-xs uppercase tracking-wide text-gray-500",children:"Filtrar por status"}),e.jsxs(B,{value:m,onValueChange:ge,children:[e.jsx($,{children:e.jsx(V,{})}),e.jsx(I,{children:Je.map(a=>e.jsx(G,{value:a.value,children:a.label},a.value))})]})]})]}),X?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((a,s)=>e.jsxs("div",{className:"rounded-3xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"h-5 w-48 animate-pulse rounded bg-gray-200"}),e.jsx("div",{className:"mt-3 h-4 w-64 animate-pulse rounded bg-gray-100"}),e.jsx("div",{className:"mt-6 grid gap-3 md:grid-cols-3",children:Array.from({length:3}).map((t,o)=>e.jsx("div",{className:"h-16 animate-pulse rounded bg-gray-100"},o))})]},s))}):de.length===0?e.jsx("div",{className:"rounded-3xl border border-dashed border-gray-200 bg-white p-8 text-center text-sm text-gray-500",children:"Nenhuma campanha encontrada para o filtro selecionado."}):e.jsx("div",{className:"space-y-5",children:de.map(a=>e.jsxs(z,{className:"border border-gray-200 shadow-sm",children:[e.jsxs(q,{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.titulo}),e.jsx(xe,{className:De("uppercase",He[a.status]||"bg-gray-200 text-gray-600"),children:he[a.status]||a.status}),e.jsxs(xe,{variant:"outline",className:"border-coral text-coral",children:["Objetivo: ",pe.find(s=>s.value===a.objetivo)?.label||a.objetivo]})]}),a.plan_nome&&e.jsxs("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:["Vinculada ao plano ",a.plan_nome]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ue,{className:"h-3.5 w-3.5"}),"Início: ",a.data_inicio?new Date(a.data_inicio).toLocaleDateString("pt-BR"):"—"]}),a.data_fim&&e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ue,{className:"h-3.5 w-3.5"}),"Fim: ",new Date(a.data_fim).toLocaleDateString("pt-BR")]})]})]}),e.jsxs(U,{className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 text-sm text-gray-600",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Orçamento total"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.orcamento_total?`R$ ${a.orcamento_total.toFixed(2)}`:"Não definido"})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 text-sm text-gray-600",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Orçamento diário"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.orcamento_diario?`R$ ${a.orcamento_diario.toFixed(2)}`:"Não definido"})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 text-sm text-gray-600",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Posts promovidos"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:a.posts?.length||0})]})]}),a.posts?.length?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Posts vinculados"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:a.posts.map(s=>e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm text-gray-600",children:[e.jsx("p",{className:"line-clamp-2 text-gray-700",children:s.post?.conteudo||"Post sem descrição"}),s.post?.imagem_url&&e.jsx("img",{src:s.post.imagem_url,alt:"Preview do post",className:"mt-3 h-32 w-full rounded-lg object-cover"}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["ID #",s.post_id]}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-coral",children:[e.jsx(qe,{className:"h-3.5 w-3.5"})," Feed"]})]})]},s.id))})]}):e.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-white p-4 text-sm text-gray-500",children:"Nenhum post promovido nesta campanha ainda."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[(a.status==="rascunho"||a.status==="pausado")&&e.jsx(u,{size:"sm",className:"bg-emerald-500 hover:bg-emerald-500/90",onClick:()=>O(a,"activate"),disabled:j===a.id,children:j===a.id?e.jsx(b,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"})," Ativar campanha"]})}),a.status==="ativo"&&e.jsx(u,{size:"sm",variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50",onClick:()=>O(a,"pause"),disabled:j===a.id,children:j===a.id?e.jsx(b,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"})," Pausar"]})}),a.status!=="encerrado"&&e.jsx(u,{size:"sm",variant:"outline",className:"border-gray-200 text-gray-700 hover:bg-gray-100",onClick:()=>O(a,"finish"),disabled:j===a.id,children:j===a.id?e.jsx(b,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"mr-2 h-4 w-4"})," Encerrar"]})}),e.jsx(u,{size:"sm",variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50",onClick:()=>be(a),disabled:te===a.id,children:te===a.id?e.jsx(b,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"mr-2 h-4 w-4"})," Excluir"]})})]})]})]},a.id))})]})]})]})})};export{Sa as default};
//# sourceMappingURL=AdCampaignsPage-D-NcCOo3.js.map
