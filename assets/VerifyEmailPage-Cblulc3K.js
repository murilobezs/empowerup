import{k as h,r as l,a as v,u as g,C as j,l as N,j as e,F as w,B as u,R as n,m as y}from"./index-DLqimMV8.js";import{S as b}from"./site-header-CKtPnSCF.js";import{S}from"./site-footer-btaBgloE.js";import{L as C}from"./loader-circle-ClwSyFO1.js";import"./card-CY9-ve7w.js";import"./badge-CME7s750.js";import"./index-EfjSmcDM.js";import"./dropdown-menu-7k7ytBg1.js";import"./index-BgaOpAAA.js";import"./bookmark-B2_N_nt6.js";import"./heart-D1UYKJAB.js";import"./calendar-BcaNxl4E.js";import"./user-BOjY7V17.js";import"./log-out-Cu_b7vs0.js";import"./input-FZRWGTRd.js";const p={success:{title:"Conta confirmada com sucesso!",description:"Seu email foi verificado e sua conta está ativa. Você já pode explorar toda a comunidade EmpowerUp sem limitações.",icon:N,iconClass:"text-emerald-500"},error:{title:"Não foi possível verificar o email",description:"O link pode ter expirado ou já ter sido utilizado. Solicite um novo link pelo app ou tente novamente mais tarde.",icon:j,iconClass:"text-red-500"}};function D(){const[f]=h(),s=f.get("token")||"",[r,t]=l.useState(s?"loading":"error"),[m,o]=l.useState(s?"Confirmando sua conta...":"Token de verificação não encontrado."),d=v(),{user:x}=g();l.useEffect(()=>{let c=!0;return(async()=>{if(!s){t("error"),o("Link de verificação inválido. Solicite um novo link pelo app.");return}try{const a=await y.verifyEmail(s);if(!c)return;a?.success?(t("success"),o(a.message||"Email verificado com sucesso!")):(t("error"),o(a?.message||"Não foi possível verificar seu email."))}catch(a){if(!c)return;t("error"),o(a?.message||"Ocorreu um erro ao verificar seu email.")}})(),()=>{c=!1}},[s]);const i=l.useMemo(()=>p[r]??p.error,[r]);return e.jsxs("div",{className:"flex min-h-screen flex-col bg-blush",children:[e.jsx(b,{}),e.jsxs("main",{className:"relative isolate flex-1 overflow-hidden",children:[e.jsx(w,{className:"opacity-60"}),e.jsx("div",{className:"relative z-10 mx-auto flex w-full max-w-3xl flex-1 items-center px-4 py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"mx-auto max-w-2xl rounded-3xl bg-white/90 p-8 shadow-2xl shadow-coral/10 backdrop-blur",children:r==="loading"?e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center",children:[e.jsx(C,{className:"h-14 w-14 animate-spin text-coral","aria-hidden":"true"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Estamos confirmando seu email..."}),e.jsx("p",{className:"text-base text-muted-foreground",children:"Isso leva apenas alguns segundos. Obrigada por esperar! ✨"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center",children:[e.jsx("div",{className:`flex h-20 w-20 items-center justify-center rounded-full bg-white shadow-inner ${i.iconClass}`,children:e.jsx(i.icon,{className:"h-10 w-10","aria-hidden":"true"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.title}),e.jsx("p",{className:"text-base text-muted-foreground",children:i.description}),m&&e.jsx("p",{className:"text-sm font-medium text-gray-600",children:m})]}),e.jsxs("div",{className:"mt-4 flex w-full flex-col gap-3 sm:flex-row sm:justify-center",children:[e.jsx(u,{className:"flex-1 bg-coral text-white hover:bg-coral/90",onClick:()=>d(x?n.FEED:n.LOGIN),children:x?"Ir para a comunidade":"Fazer login"}),r==="error"&&e.jsx(u,{variant:"outline",className:"flex-1",onClick:()=>d(n.REGISTER),children:"Criar nova conta"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Se precisar de ajuda, fale com a gente pelo email "," ",e.jsx("a",{href:"mailto:suporte@empowerup.com.br",className:"font-medium text-coral underline offset-2",children:"suporte@empowerup.com.br"}),"."]})]})})})})]}),e.jsx(S,{})]})}export{D as default};
//# sourceMappingURL=VerifyEmailPage-Cblulc3K.js.map
