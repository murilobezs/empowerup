import{c as me,r,Q as f,j as e,B as p,K as Ye,D as Fe,q as Te,s as Pe,t as De,v as Ae,a as us,M as Se,A as Ee}from"./index-DLqimMV8.js";import{C,b as k,c as S,a as E,d as T}from"./card-CY9-ve7w.js";import{T as gs,a as js,b as K,c as W}from"./tabs-CjUoFsGL.js";import{B as u}from"./badge-CME7s750.js";import{I as g}from"./input-FZRWGTRd.js";import{L as c}from"./label-DBxNtR5w.js";import{T as L}from"./textarea-Dc95vB93.js";import{U as ee,A as ps,a as vs,b as fs}from"./index-EfjSmcDM.js";import{S as J,a as X,b as Y,c as Z,d as y}from"./select-d49l-vTK.js";import{S as m}from"./skeleton-DqM98hae.js";import{S as Me}from"./switch-qz8-JLqm.js";import{C as Le}from"./calendar-BcaNxl4E.js";import{M as Ns}from"./map-pin-XNZDTA2K.js";import{D as bs}from"./dollar-sign-BnLyqKvq.js";import{A as ws}from"./award-CNN5yJ-Z.js";import{E as ys}from"./eye-CIh_YUdx.js";import{T as ce}from"./trash-2-CP23ljvT.js";import{C as _s}from"./circle-alert-Bp1UBQ88.js";import{H as Cs}from"./heart-D1UYKJAB.js";import{S as ks}from"./shield-Dd8xFKSO.js";import{L as Ss}from"./log-out-Cu_b7vs0.js";import{C as Es}from"./chart-column-D_csKldJ.js";import{A as Ms}from"./arrow-up-right-gebzYLSU.js";import"./index-CFq4vo7_.js";import"./chevron-up-DKadsFnq.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ts=me("arrow-down-right",Fs);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],de=me("pen",Ps);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],As=me("refresh-ccw",Ds);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Ze=me("users-round",Ls),zs=()=>{const[z,M]=r.useState([]),[xe,P]=r.useState(!0),[he,b]=r.useState(!1),[I,_]=r.useState(null),[ue,F]=r.useState(!1),[q,ge]=r.useState([]),[o,d]=r.useState({titulo:"",descricao:"",tipo:"workshop",data_evento:"",data_fim:"",local:"",endereco:"",capacidade_maxima:50,valor:0,eh_gratuito:!0,instrutor_nome:"",instrutor_bio:"",instrutor_foto:"",requisitos:"",material_necessario:"",certificado:!1,imagem_url:"",link_online:"",eh_online:!1}),[w,D]=r.useState({}),$=a=>a?(a.includes("T")?a:a.replace(" ","T")).slice(0,16):"",se=a=>{if(!a)return null;const n=a.includes("T")?a.replace("T"," "):a;return n.length===16?`${n}:00`:n},G=a=>{switch(a){case"confirmada":return"bg-green-100 text-green-800";case"lista_espera":case"pendente":return"bg-yellow-100 text-yellow-800";case"cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=a=>{switch(a){case"confirmada":return"Confirmada";case"lista_espera":return"Lista de Espera";case"pendente":return"Pendente";case"cancelada":return"Cancelada";default:return"Desconhecido"}};r.useEffect(()=>{N()},[]);const N=async()=>{try{P(!0);const a=await f.getEvents();M(a?.eventos||a?.events||[])}catch(a){console.error("Erro ao buscar eventos:",a)}finally{P(!1)}},ae=()=>{_(null),d({titulo:"",descricao:"",tipo:"workshop",data_evento:"",data_fim:"",local:"",endereco:"",capacidade_maxima:50,valor:0,eh_gratuito:!0,instrutor_nome:"",instrutor_bio:"",instrutor_foto:"",requisitos:"",material_necessario:"",certificado:!1,imagem_url:"",link_online:"",eh_online:!1}),D({}),b(!0)},R=a=>{_(a),d({titulo:a.titulo||"",descricao:a.descricao||"",tipo:a.tipo||"workshop",data_evento:$(a.data_evento),data_fim:$(a.data_fim),local:a.local||"",endereco:a.endereco||"",capacidade_maxima:a.capacidade_maxima||50,valor:Number(a.valor)||0,eh_gratuito:!!a.eh_gratuito,instrutor_nome:a.instrutor_nome||"",instrutor_bio:a.instrutor_bio||"",instrutor_foto:a.instrutor_foto||"",requisitos:a.requisitos||"",material_necessario:a.material_necessario||"",certificado:!!a.certificado,imagem_url:a.imagem_url||"",link_online:a.link_online||"",eh_online:!!a.eh_online}),D({}),b(!0)},O=async a=>{a.preventDefault();const n={};if(o.titulo.trim()||(n.titulo="Título é obrigatório"),o.data_evento||(n.data_evento="Data do evento é obrigatória"),o.tipo||(n.tipo="Tipo de evento é obrigatório"),Object.keys(n).length>0){D(n);return}try{const v={...o,data_evento:se(o.data_evento),data_fim:se(o.data_fim),capacidade_maxima:Number(o.capacidade_maxima)||0,valor:o.eh_gratuito?0:Number(o.valor)||0};I?await f.updateEvent(I.id,v):await f.createEvent(v),await N(),b(!1),_(null),D({})}catch(v){console.error("Erro ao salvar evento:",v),D({submit:v.message||"Erro ao salvar evento. Tente novamente."})}},je=async a=>{try{const n=await f.getEventSubscriptions(a.id);ge(n?.inscricoes||[]),F(!0)}catch(n){console.error("Erro ao buscar inscrições:",n)}},B=async a=>{if(window.confirm("Tem certeza que deseja excluir este evento?"))try{await f.deleteEvent(a),await N()}catch(n){console.error("Erro ao excluir evento:",n),alert(n.message||"Erro ao excluir evento.")}},pe=a=>{if(!a)return"Data não definida";const n=a.includes("T")?a:a.replace(" ","T"),v=new Date(n);return Number.isNaN(v.getTime())?a:v.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},V=a=>{const n=new Date,v=new Date(a.data_evento);return a.status==="cancelado"?"bg-red-100 text-red-800":a.status==="finalizado"?"bg-gray-100 text-gray-800":v<n?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"},ve=a=>{const n=new Date,v=new Date(a.data_evento);return a.status==="cancelado"?"Cancelado":a.status==="finalizado"?"Finalizado":v<n?"Expirado":"Ativo"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Eventos"}),e.jsx("p",{className:"text-gray-600",children:"Crie e gerencie workshops, palestras e cursos"})]}),e.jsxs(p,{onClick:ae,className:"bg-coral hover:bg-coral/90",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Novo Evento"]})]}),e.jsxs(C,{children:[e.jsx(k,{children:e.jsx(S,{children:"Eventos Cadastrados"})}),e.jsx(E,{children:xe?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>e.jsx("div",{className:"animate-pulse bg-gray-100 h-20 rounded"},a))}):z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(a=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.titulo}),e.jsx(u,{className:V(a),children:ve(a)}),e.jsx(u,{variant:"outline",children:a.tipo.charAt(0).toUpperCase()+a.tipo.slice(1)})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:a.descricao}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),pe(a.data_evento)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),a.eh_online?"Online":a.local||"Local a definir"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),a.inscricoes_confirmadas,"/",a.capacidade_maxima," inscritas"]}),a.instrutor_nome&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Instrutor: ",a.instrutor_nome]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),a.eh_gratuito?"Gratuito":`R$ ${a.valor?.toFixed(2)}`]}),a.certificado&&e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Oferece certificado"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>je(a),title:"Ver inscrições",children:e.jsx(ys,{className:"w-4 h-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>R(a),title:"Editar evento",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>B(a.id),title:"Excluir evento",className:"text-red-600 hover:text-red-700",children:e.jsx(ce,{className:"w-4 h-4"})})]})]})},a.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum evento cadastrado"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro evento para começar"}),e.jsxs(p,{onClick:ae,className:"bg-coral hover:bg-coral/90",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Criar Evento"]})]})})]}),e.jsx(Fe,{open:he,onOpenChange:b,children:e.jsxs(Te,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Pe,{children:[e.jsx(De,{children:I?"Editar Evento":"Criar Novo Evento"}),e.jsx(Ae,{children:I?"Faça as alterações necessárias no evento selecionado.":"Preencha os dados para criar um novo evento na plataforma."})]}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"titulo",children:"Título do Evento *"}),e.jsx(g,{id:"titulo",value:o.titulo,onChange:a=>d({...o,titulo:a.target.value}),placeholder:"Nome do evento",className:w.titulo?"border-red-500":""}),w.titulo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.titulo})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"tipo",children:"Tipo de Evento *"}),e.jsxs(J,{value:o.tipo,onValueChange:a=>d({...o,tipo:a}),children:[e.jsx(X,{className:w.tipo?"border-red-500":"",children:e.jsx(Y,{})}),e.jsxs(Z,{children:[e.jsx(y,{value:"workshop",children:"Workshop"}),e.jsx(y,{value:"palestra",children:"Palestra"}),e.jsx(y,{value:"curso",children:"Curso"}),e.jsx(y,{value:"meetup",children:"Meetup"}),e.jsx(y,{value:"networking",children:"Networking"})]})]}),w.tipo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.tipo})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"capacidade_maxima",children:"Capacidade Máxima"}),e.jsx(g,{id:"capacidade_maxima",type:"number",min:"1",value:o.capacidade_maxima,onChange:a=>d({...o,capacidade_maxima:parseInt(a.target.value)||0})})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"descricao",children:"Descrição"}),e.jsx(L,{id:"descricao",value:o.descricao,onChange:a=>d({...o,descricao:a.target.value}),placeholder:"Descreva o evento, objetivos e o que será abordado",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"data_evento",children:"Data e Hora de Início *"}),e.jsx(g,{id:"data_evento",type:"datetime-local",value:o.data_evento,onChange:a=>d({...o,data_evento:a.target.value}),className:w.data_evento?"border-red-500":""}),w.data_evento&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.data_evento})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"data_fim",children:"Data e Hora de Término"}),e.jsx(g,{id:"data_fim",type:"datetime-local",value:o.data_fim,onChange:a=>d({...o,data_fim:a.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{id:"eh_online",checked:o.eh_online,onCheckedChange:a=>d({...o,eh_online:a})}),e.jsx(c,{htmlFor:"eh_online",children:"Evento online"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"local",children:"Local"}),e.jsx(g,{id:"local",value:o.local,onChange:a=>d({...o,local:a.target.value}),placeholder:"Nome do local ou 'Online'"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"link_online",children:"Link Online"}),e.jsx(g,{id:"link_online",value:o.link_online,onChange:a=>d({...o,link_online:a.target.value}),placeholder:"https://meet.google.com/..."})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"endereco",children:"Endereço Completo"}),e.jsx(L,{id:"endereco",value:o.endereco,onChange:a=>d({...o,endereco:a.target.value}),placeholder:"Rua, número, bairro, cidade - CEP"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Informações do Instrutor"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"instrutor_nome",children:"Nome do Instrutor"}),e.jsx(g,{id:"instrutor_nome",value:o.instrutor_nome,onChange:a=>d({...o,instrutor_nome:a.target.value}),placeholder:"Nome completo"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"instrutor_foto",children:"URL da Foto"}),e.jsx(g,{id:"instrutor_foto",value:o.instrutor_foto,onChange:a=>d({...o,instrutor_foto:a.target.value}),placeholder:"https://..."})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"instrutor_bio",children:"Biografia do Instrutor"}),e.jsx(L,{id:"instrutor_bio",value:o.instrutor_bio,onChange:a=>d({...o,instrutor_bio:a.target.value}),placeholder:"Experiência, formação e especialidades"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{id:"eh_gratuito",checked:o.eh_gratuito,onCheckedChange:a=>d(n=>({...n,eh_gratuito:a,valor:a?0:n.valor}))}),e.jsx(c,{htmlFor:"eh_gratuito",children:"Evento gratuito"})]}),!o.eh_gratuito&&e.jsxs("div",{className:"w-full md:w-48",children:[e.jsx(c,{htmlFor:"valor",children:"Valor (R$)"}),e.jsx(g,{id:"valor",type:"number",step:"0.01",min:"0",value:o.valor,onChange:a=>d({...o,valor:parseFloat(a.target.value)||0})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{id:"certificado",checked:o.certificado,onCheckedChange:a=>d({...o,certificado:a})}),e.jsx(c,{htmlFor:"certificado",children:"Oferece certificado de participação"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"requisitos",children:"Requisitos"}),e.jsx(L,{id:"requisitos",value:o.requisitos,onChange:a=>d({...o,requisitos:a.target.value}),placeholder:"Conhecimentos prévios necessários"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"material_necessario",children:"Material Necessário"}),e.jsx(L,{id:"material_necessario",value:o.material_necessario,onChange:a=>d({...o,material_necessario:a.target.value}),placeholder:"Materiais que os participantes devem trazer"})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"imagem_url",children:"URL da Imagem do Evento"}),e.jsx(g,{id:"imagem_url",value:o.imagem_url,onChange:a=>d({...o,imagem_url:a.target.value}),placeholder:"https://..."})]}),w.submit&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 flex items-center",children:[e.jsx(_s,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("span",{className:"text-red-700",children:w.submit})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(p,{type:"submit",className:"bg-coral hover:bg-coral/90",children:I?"Salvar Alterações":"Criar Evento"})]})]})]})}),e.jsx(Fe,{open:ue,onOpenChange:F,children:e.jsxs(Te,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(Pe,{children:[e.jsx(De,{children:"Inscrições do Evento"}),e.jsx(Ae,{children:"Lista de todas as inscrições recebidas para este evento."})]}),e.jsx("div",{className:"space-y-4",children:q.length>0?e.jsx("div",{className:"space-y-3",children:q.map((a,n)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:a.nome||a.nome_completo||"Participante"}),a.telefone&&e.jsx("p",{className:"text-sm text-gray-600",children:a.telefone}),a.email&&e.jsx("p",{className:"text-sm text-gray-600",children:a.email}),a.observacoes&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.observacoes})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(u,{className:G(a.status),children:i(a.status)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.created_at?new Date((a.created_at||a.data_inscricao||"").replace(" ","T")).toLocaleString("pt-BR"):"Data não informada"})]})]})},a.id||n))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ee,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma inscrição ainda"}),e.jsx("p",{className:"text-gray-500",children:"As inscrições aparecerão aqui quando os usuários se cadastrarem"})]})})]})})]})},na=()=>{const z=us(),[M,xe]=r.useState({}),[P,he]=r.useState([]),[b,I]=r.useState([]),[_,ue]=r.useState([]),[F,q]=r.useState(!0),[ge,o]=r.useState(!0),[d,w]=r.useState(!0),[D,$]=r.useState(!0),[se,G]=r.useState("overview"),[i,N]=r.useState(null),[ae,R]=r.useState(!1),[O,je]=r.useState(""),[B,pe]=r.useState("all"),[V,ve]=r.useState(""),[a,n]=r.useState("all"),[v,es]=r.useState("likes"),[fe,ss]=r.useState(""),[te,as]=r.useState("all"),[ze,ts]=r.useState(null),[A,Ie]=r.useState(null),[U,Ue]=r.useState(!0),x=s=>{const t=Number(s)||0;return new Intl.NumberFormat("pt-BR").format(t)},Ge=s=>{const t=Number(s)||0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)},rs=s=>s?new Date(s).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"}):"--",os=(s="")=>{const t=s.trim().split(" ").filter(Boolean);return t.length?t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0]}${t[t.length-1][0]}`.toUpperCase():"EU"},Re=s=>{if(s==null)return null;const t=s>=0?"up":"down",l=`${s>=0?"+":"-"}${x(Math.abs(s))} nos últimos 30 dias`;return{direction:t,label:l}},re=r.useCallback((s={})=>{const t=s.metricas||{},l=s.autor||{};return{id:s.id,conteudo:s.conteudo||"",categoria:s.categoria||"Geral",created_at:s.created_at||null,autor:l.nome||l.username||s.autor||"Autor desconhecido",autorInfo:l,likes:t.likes??s.likes??0,comentarios:t.comentarios??s.comentarios??0,compartilhamentos:t.compartilhamentos??s.compartilhamentos??0,salvos:t.salvos??s.salvos??0,is_promovido:s.is_promovido??!1,promocao_status:s.promocao_status??null}},[]),oe=r.useCallback(async()=>{q(!0);try{const s=await f.getDashboard(),t=s?.totals||{},l=s?.growth||{},j=l.engajamento30d||{},ne={total_likes:t.likes??j.likes??0,total_comentarios:t.comentarios??j.comentarios??0,total_compartilhamentos:t.compartilhamentos??j.compartilhamentos??0};xe({totals:t,growth:l,trends:s?.trends||{},topPosts:(s?.topPosts||[]).map(re),topCreators:s?.topCreators||[],contentMix:s?.contentMix||[],recentActivity:s?.recentActivity||[],systemHealth:s?.systemHealth||{},engagement:ne,recentEngagement:j}),ts(new Date().toISOString())}catch(s){console.error("Erro ao buscar estatísticas:",s)}finally{q(!1)}},[re]),Ne=r.useCallback(async()=>{o(!0);try{const t=(await f.getUsers({limit:50,order:"engagement"}))?.users||[];he(t.map(l=>({...l,nome:l?.nome||l?.username||"Usuário"})))}catch(s){console.error("Erro ao buscar usuários:",s)}finally{o(!1)}},[]),ie=r.useCallback(async()=>{w(!0);try{const s=await f.getPosts({limit:50});I((s?.posts||[]).map(re))}catch(s){console.error("Erro ao buscar posts:",s)}finally{w(!1)}},[re]),Be=r.useCallback(async()=>{$(!0);try{const s=await f.getGroups({limit:50});ue(s?.grupos||[])}catch(s){console.error("Erro ao buscar grupos:",s)}finally{$(!1)}},[]),qe=r.useCallback(async()=>{Ue(!0);try{const s=await f.getMonetization();Ie(s||null)}catch(s){console.error("Erro ao buscar monetização:",s),Ie(null)}finally{Ue(!1)}},[]),be=r.useCallback(async()=>{await Promise.all([oe(),Ne(),ie(),Be(),qe()])},[oe,Ne,ie,Be,qe]);r.useEffect(()=>{let s=!0;return(async()=>{if(!f.isAuthenticated()){z("/admin/login");return}try{await f.validateSession()}catch(l){console.warn("Sessão administrativa inválida:",l),z("/admin/login");return}s&&be()})(),()=>{s=!1}},[z,be]);const is=()=>{f.logout(),z("/admin/login")},we=async(s,t)=>{if(window.confirm("Tem certeza que deseja excluir?"))try{s==="posts"?(await f.deletePost(t),await Promise.all([ie(),oe()]),alert("Post removido com sucesso!")):alert("Remoção disponível apenas para posts no momento.")}catch(l){console.error("Erro ao excluir:",l),alert(l.message||"Erro ao excluir item")}},ye=(s,t)=>{if(t==="grupos"){alert("Edição de grupos estará disponível em breve.");return}N({...s,type:t}),R(!0)},ls=async()=>{if(i)try{if(i.type==="usuarios"){const s={nome:i.nome,email:i.email,telefone:i.telefone,bio:i.bio,tipo:i.tipo,verified:i.verified};await f.updateUser(i.id,s),await Ne()}else if(i.type==="posts"){const s={conteudo:i.conteudo,categoria:i.categoria,is_promovido:i.is_promovido,promocao_status:i.promocao_status};await f.updatePost(i.id,s),await ie()}else{alert("Edição disponível apenas para usuários e posts no momento.");return}await oe(),R(!1),N(null),alert("Item atualizado com sucesso!")}catch(s){console.error("Erro ao atualizar:",s),alert(s.message||"Erro ao atualizar item")}},h=M?.totals||{},le=M?.engagement||{},H=r.useMemo(()=>(le.total_likes||0)+(le.total_comentarios||0)+(le.total_compartilhamentos||0),[le]),ns=r.useMemo(()=>{const s=h.posts||0;return s?(H/s).toFixed(1):0},[h,H]),_e=r.useMemo(()=>{const s=h.posts||0;if(!s)return 0;const t=h.postsNovos30d||0;return Math.min(100,Math.round(t/s*100))},[h]),Q=r.useMemo(()=>_.filter(s=>s?.ativo===1||s?.ativo==="1"||s?.ativo===!0).length,[_]),cs=r.useMemo(()=>[{title:"Total de Usuários",value:h.usuarios,icon:ee,trend:Re(h.usuariosNovos30d),accent:"from-coral to-rose-400"},{title:"Total de Posts",value:h.posts,icon:Se,trend:Re(h.postsNovos30d),accent:"from-sage to-emerald-400"},{title:"Total de Grupos",value:h.grupos,icon:Ze,trend:null,accent:"from-indigo-400 to-purple-500"},{title:"Interações Totais",value:H,icon:Cs,trend:null,accent:"from-orange-400 to-red-500"}],[h,H]),ds=r.useMemo(()=>{const s=new Set;return P.forEach(t=>{t?.tipo&&s.add(t.tipo)}),Array.from(s)},[P]),$e=r.useMemo(()=>{const s=O.trim().toLowerCase();return P.filter(t=>{const l=s?(t?.nome||"").toLowerCase().includes(s)||(t?.email||"").toLowerCase().includes(s):!0,j=B==="all"?!0:t?.tipo===B;return l&&j})},[P,O,B]),Oe=r.useMemo(()=>[...$e].sort((s,t)=>(s?.nome||"").localeCompare(t?.nome||"","pt-BR")),[$e]),ms=r.useMemo(()=>{const s=new Set;return b.forEach(t=>{t?.categoria&&s.add(t.categoria)}),Array.from(s)},[b]),Ve=r.useMemo(()=>{const s=V.trim().toLowerCase();return b.filter(t=>{const l=s?(t?.conteudo||"").toLowerCase().includes(s)||(t?.autor||"").toLowerCase().includes(s)||(t?.categoria||"").toLowerCase().includes(s):!0,j=a==="all"?!0:t?.categoria===a;return l&&j})},[b,V,a]),He=r.useMemo(()=>{const s=[...Ve];return v==="likes"?s.sort((t,l)=>(l?.likes||0)-(t?.likes||0)):v==="comentarios"&&s.sort((t,l)=>(l?.comentarios||0)-(t?.comentarios||0)),s},[Ve,v]),Qe=r.useMemo(()=>{const s=fe.trim().toLowerCase();return _.filter(t=>{const l=s?(t?.nome||"").toLowerCase().includes(s)||(t?.descricao||"").toLowerCase().includes(s):!0,j=t?.ativo===1||t?.ativo==="1"||t?.ativo===!0;return l&&(te==="all"?!0:te==="active"?j:!j)})},[_,fe,te]),Ke=r.useMemo(()=>[...Qe].sort((s,t)=>(t?.membros||0)-(s?.membros||0)),[Qe]),We=r.useMemo(()=>[...M?.topPosts&&M.topPosts.length?M.topPosts:b].sort((t,l)=>(l?.likes||0)-(t?.likes||0)).slice(0,3),[M,b]),Je=r.useMemo(()=>[..._].sort((s,t)=>(t?.membros||0)-(s?.membros||0)).slice(0,3),[_]),Ce=r.useMemo(()=>{const s=h.grupos||0;return s?Math.round(Q/s*100):0},[h,Q]),xs=r.useMemo(()=>[{label:"Novos usuários",value:h.usuariosNovos30d||0,caption:"Últimos 30 dias",progress:h.usuarios?Math.min(100,Math.round((h.usuariosNovos30d||0)/h.usuarios*100)):0},{label:"Novos posts",value:h.postsNovos30d||0,caption:`${_e}% da base total`,progress:_e},{label:"Grupos ativos",value:Q,caption:`${Ce}% ativos`,progress:Ce}],[h,_e,Q,Ce]),hs=({title:s,value:t,icon:l,trend:j,accent:ne,loading:Xe})=>e.jsxs(C,{className:"relative overflow-hidden border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsx("div",{className:`absolute inset-x-0 top-0 h-1 bg-gradient-to-r ${ne}`}),e.jsx(k,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsx("div",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Xe?e.jsx(m,{className:"h-8 w-24"}):x(t)})]}),e.jsx("div",{className:"rounded-full bg-coral/10 p-2 text-coral",children:e.jsx(l,{className:"h-5 w-5"})})]})}),e.jsx(E,{className:"pt-0",children:Xe?e.jsx(m,{className:"mt-3 h-3 w-24"}):j&&e.jsxs("div",{className:`mt-3 flex items-center text-xs font-semibold ${j.direction==="up"?"text-emerald-600":"text-red-500"}`,children:[j.direction==="up"?e.jsx(Ms,{className:"mr-1 h-4 w-4"}):e.jsx(Ts,{className:"mr-1 h-4 w-4"}),j.label]})})]}),ke=({title:s,description:t,icon:l,onClick:j})=>e.jsxs(p,{variant:"ghost",onClick:j,className:"group flex w-full items-center justify-between rounded-xl border border-dashed border-coral/40 bg-white/70 px-4 py-3 text-left transition hover:border-coral hover:bg-white",children:[e.jsxs("span",{className:"text-left",children:[e.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:s}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t})]}),e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-coral/10 text-coral transition group-hover:bg-coral group-hover:text-white",children:e.jsx(l,{className:"h-5 w-5"})})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cream-light via-white to-sage/20",children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8",children:[e.jsxs("header",{className:"flex flex-col gap-4 border-b border-cream-dark/40 pb-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-coral",children:[e.jsx(ks,{className:"h-5 w-5"}),"Central de Administração"]}),e.jsx("h1",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Painel EmpowerUp"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-muted-foreground",children:"Acompanhe métricas, modere a comunidade e mantenha os eventos sempre atualizados."})]}),e.jsxs("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{variant:"outline",onClick:be,className:"flex items-center gap-2 border-coral/40 text-coral hover:bg-coral hover:text-white",children:[e.jsx(As,{className:"h-4 w-4"}),"Atualizar dados"]}),e.jsxs(p,{variant:"outline",onClick:is,className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-4 w-4"}),"Sair"]})]}),ze&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Última atualização: ",rs(ze)]})]})]}),e.jsxs(gs,{value:se,onValueChange:G,className:"mt-6 w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-5 rounded-full bg-white/80 p-1 shadow-inner",children:[e.jsx(K,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-coral",children:"Visão Geral"}),e.jsx(K,{value:"usuarios",className:"data-[state=active]:bg-white data-[state=active]:text-coral",children:"Usuários"}),e.jsx(K,{value:"posts",className:"data-[state=active]:bg-white data-[state=active]:text-coral",children:"Posts"}),e.jsx(K,{value:"grupos",className:"data-[state=active]:bg-white data-[state=active]:text-coral",children:"Grupos"}),e.jsx(K,{value:"eventos",className:"data-[state=active]:bg-white data-[state=active]:text-coral",children:"Eventos"})]}),e.jsxs(W,{value:"overview",className:"space-y-6 pt-6",children:[e.jsx("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:cs.map(s=>e.jsx(hs,{title:s.title,value:s.value||0,icon:s.icon,trend:s.trend,accent:s.accent,loading:F},s.title))}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(C,{className:"lg:col-span-2 border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Insights da Comunidade"}),e.jsx(T,{children:"Acompanhe a evolução recente da base e do conteúdo."})]}),e.jsx(u,{variant:"secondary",className:"bg-coral/10 text-coral",children:"Últimos 30 dias"})]})}),e.jsx(E,{className:"space-y-6",children:xs.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:s.label}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.caption})]}),e.jsx("span",{className:"text-2xl font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-7 w-16"}):x(s.value)})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:F?e.jsx(m,{className:"h-2 w-1/2"}):e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-coral to-rose-400",style:{width:`${Math.min(100,s.progress||0)}%`}})})]},s.label))})]}),e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{children:[e.jsx(S,{children:"Ações rápidas"}),e.jsx(T,{children:"Otimize sua rotina administrativa com acessos diretos."})]}),e.jsxs(E,{className:"space-y-3",children:[e.jsx(ke,{title:"Gerenciar usuários",description:"Ative, suspenda e visualize perfis detalhados.",icon:ee,onClick:()=>G("usuarios")}),e.jsx(ke,{title:"Moderar posts",description:"Revise conteúdo com maior engajamento e denúncias.",icon:Se,onClick:()=>G("posts")}),e.jsx(ke,{title:"Eventos e cursos",description:"Programe workshops e acompanhe inscrições.",icon:Le,onClick:()=>G("eventos")})]})]})]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{children:"Top Posts"}),e.jsxs(u,{variant:"secondary",className:"bg-sage/20 text-sage-dark",children:[b.length," ativos"]})]}),e.jsx(T,{children:"Conteúdo mais engajado da plataforma."})]}),e.jsx(E,{className:"space-y-3",children:d?[1,2,3].map(s=>e.jsx(m,{className:"h-16 w-full"},s)):We.length?We.map(s=>e.jsxs("div",{className:"rounded-xl border border-transparent bg-white/70 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.autor||"Autor desconhecido"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:s.conteudo})]}),e.jsx(u,{variant:"secondary",className:"bg-coral/10 text-coral",children:s.categoria||"Geral"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3 text-xs font-semibold text-muted-foreground",children:[e.jsxs("span",{children:[x(s.likes)," likes"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[x(s.comentarios)," comentários"]})]})]},s.id)):e.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Nenhum post disponível no momento."})})]}),e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{children:"Destaques de grupos"}),e.jsxs(u,{variant:"secondary",className:"bg-olive/10 text-olive-dark",children:[_.length," comunidades"]})]}),e.jsx(T,{children:"Grupos com maior engajamento de membros."})]}),e.jsx(E,{className:"space-y-3",children:D?[1,2,3].map(s=>e.jsx(m,{className:"h-16 w-full"},s)):Je.length?Je.map(s=>{const t=s?.ativo===1||s?.ativo==="1"||s?.ativo===!0;return e.jsxs("div",{className:"rounded-xl border border-transparent bg-white/70 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.nome}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:s.descricao})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(u,{variant:"info",children:s.categoria||"Geral"}),e.jsx(u,{variant:t?"success":"warning",children:t?"Ativo":"Pausado"})]})]}),e.jsxs("div",{className:"mt-3 text-xs font-semibold text-muted-foreground",children:[x(s.membros)," membros"]})]},s.id)}):e.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Nenhum grupo disponível no momento."})})]}),e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{children:[e.jsx(S,{children:"Panorama de engajamento"}),e.jsx(T,{children:"Números consolidados de interações."})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Interações totais"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Likes + comentários + compartilhamentos"})]}),e.jsx("span",{className:"text-2xl font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-7 w-16"}):x(H)})]}),e.jsxs("div",{className:"rounded-xl bg-muted/60 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-gray-900",children:[e.jsx(Es,{className:"h-5 w-5 text-coral"}),"Média por post"]}),e.jsx("div",{className:"mt-2 text-3xl font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-8 w-20"}):x(ns)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Interações em média por publicação."})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Likes"}),e.jsx("span",{className:"font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-5 w-12"}):x(M?.engagement?.total_likes||0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Comentários"}),e.jsx("span",{className:"font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-5 w-12"}):x(M?.engagement?.total_comentarios||0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Compartilhamentos"}),e.jsx("span",{className:"font-semibold text-gray-900",children:F?e.jsx(m,{className:"h-5 w-12"}):x(M?.engagement?.total_compartilhamentos||0)})]})]})]})]})]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Receitas e assinaturas"}),e.jsx(T,{children:"Resumo financeiro dos produtos premium."})]}),e.jsx(u,{variant:"secondary",className:"bg-sage/20 text-sage-dark",children:"Atualizado automaticamente"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl bg-muted/60 p-4",children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Receita total"}),e.jsx("div",{className:"mt-2 text-2xl font-semibold text-gray-900",children:U?e.jsx(m,{className:"h-8 w-24"}):Ge(A?.receitaTotal)})]}),e.jsxs("div",{className:"rounded-xl bg-muted/60 p-4",children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Últimos 30 dias"}),e.jsx("div",{className:"mt-2 text-2xl font-semibold text-gray-900",children:U?e.jsx(m,{className:"h-8 w-24"}):Ge(A?.receita30d)})]}),e.jsxs("div",{className:"rounded-xl bg-muted/60 p-4",children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Assinaturas ativas"}),e.jsx("div",{className:"mt-2 text-2xl font-semibold text-gray-900",children:U?e.jsx(m,{className:"h-8 w-16"}):x(A?.assinaturasAtivas||0)})]})]})})]}),e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{children:[e.jsx(S,{children:"Portfólio premium"}),e.jsx(T,{children:"Visão rápida de cursos e campanhas ativas."})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-dashed border-olive/40 bg-olive/10 p-3 text-center",children:[e.jsx("span",{className:"text-xs uppercase text-olive-dark",children:"Cursos"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-olive-dark",children:U?e.jsx(m,{className:"mx-auto h-6 w-10"}):x(A?.cursosPublicados||0)})]}),e.jsxs("div",{className:"rounded-xl border border-dashed border-coral/40 bg-coral/10 p-3 text-center",children:[e.jsx("span",{className:"text-xs uppercase text-coral",children:"Matrículas"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-coral",children:U?e.jsx(m,{className:"mx-auto h-6 w-10"}):x(A?.matriculas||0)})]}),e.jsxs("div",{className:"rounded-xl border border-dashed border-indigo-400/40 bg-indigo-50 p-3 text-center",children:[e.jsx("span",{className:"text-xs uppercase text-indigo-600",children:"Campanhas"}),e.jsx("div",{className:"mt-1 text-xl font-semibold text-indigo-600",children:U?e.jsx(m,{className:"mx-auto h-6 w-10"}):x(A?.campanhasAtivas||0)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Planos favoritos"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ranking de planos com mais assinaturas ativas."}),e.jsx("div",{className:"mt-3 space-y-2",children:U?[1,2,3].map(s=>e.jsx(m,{className:"h-10 w-full"},s)):A?.topPlanos?.length?A.topPlanos.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/60 px-3 py-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:s.nome||"Plano"}),e.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:s.slug})]}),e.jsxs(u,{variant:"secondary",className:"bg-coral/10 text-coral",children:[x(s.assinaturas||0)," assinaturas"]})]},s.slug||s.nome)):e.jsx("div",{className:"rounded-lg border border-dashed border-muted-foreground/30 p-4 text-center text-xs text-muted-foreground",children:"Nenhum plano com dados suficientes."})})]})]})]})]})]}),e.jsx(W,{value:"usuarios",className:"space-y-4",children:e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Gerenciar usuários"}),e.jsx(T,{children:"Visualize, edite informações e mantenha a comunidade saudável."})]}),e.jsxs(u,{variant:"secondary",className:"bg-sage/20 text-sage-dark",children:[P.length," usuários"]})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"relative w-full lg:max-w-sm",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(g,{value:O,onChange:s=>je(s.target.value),placeholder:"Buscar por nome ou e-mail",className:"pl-9"})]}),e.jsxs(J,{value:B,onValueChange:pe,children:[e.jsx(X,{className:"w-full lg:w-56",children:e.jsx(Y,{placeholder:"Filtrar por tipo"})}),e.jsxs(Z,{children:[e.jsx(y,{value:"all",children:"Todos os tipos"}),ds.map(s=>e.jsx(y,{value:s,children:s},s))]})]})]})]}),e.jsx(E,{className:"p-0",children:ge?e.jsx("div",{className:"space-y-3 p-6",children:[1,2,3,4].map(s=>e.jsx(m,{className:"h-20 w-full"},s))}):Oe.length?e.jsx("div",{className:"divide-y",children:Oe.map(s=>e.jsxs("div",{className:"flex flex-col gap-4 p-6 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ps,{children:s.avatar_url?e.jsx(vs,{src:s.avatar_url,alt:s.nome}):e.jsx(fs,{children:os(s.nome)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[s.tipo&&e.jsx(u,{variant:"info",children:s.tipo}),s.telefone&&e.jsx(u,{variant:"outline",children:s.telefone})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>ye(s,"usuarios"),children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>we("usuarios",s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]},s.id))}):e.jsx("div",{className:"py-12 text-center text-sm text-muted-foreground",children:"Nenhum usuário encontrado com os filtros aplicados."})})]})}),e.jsx(W,{value:"posts",className:"space-y-4",children:e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Gerenciar posts"}),e.jsx(T,{children:"Analise engajamento e mantenha o feed em alta qualidade."})]}),e.jsxs(u,{variant:"secondary",className:"bg-coral/10 text-coral",children:[b.length," publicações"]})]}),e.jsxs("div",{className:"grid gap-3 lg:grid-cols-3",children:[e.jsxs("div",{className:"relative col-span-1 lg:col-span-1",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(g,{value:V,onChange:s=>ve(s.target.value),placeholder:"Buscar por autor ou conteúdo",className:"pl-9"})]}),e.jsxs(J,{value:a,onValueChange:n,children:[e.jsx(X,{className:"w-full",children:e.jsx(Y,{placeholder:"Filtrar categoria"})}),e.jsxs(Z,{children:[e.jsx(y,{value:"all",children:"Todas as categorias"}),ms.map(s=>e.jsx(y,{value:s,children:s},s))]})]}),e.jsxs(J,{value:v,onValueChange:es,children:[e.jsx(X,{className:"w-full",children:e.jsx(Y,{placeholder:"Ordenar por"})}),e.jsxs(Z,{children:[e.jsx(y,{value:"likes",children:"Maior número de likes"}),e.jsx(y,{value:"comentarios",children:"Mais comentados"})]})]})]})]}),e.jsx(E,{className:"p-0",children:d?e.jsx("div",{className:"space-y-3 p-6",children:[1,2,3,4].map(s=>e.jsx(m,{className:"h-24 w-full"},s))}):He.length?e.jsx("div",{className:"divide-y",children:He.map(s=>e.jsxs("div",{className:"flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-4",children:[e.jsx("div",{className:"hidden rounded-full bg-sage/40 p-2 text-sage-dark sm:block",children:e.jsx(Se,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.autor}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-3",children:s.conteudo}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs font-semibold text-muted-foreground",children:[s.categoria&&e.jsx(u,{variant:"secondary",className:"bg-coral/10 text-coral",children:s.categoria}),e.jsxs("span",{children:[x(s.likes)," likes"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[x(s.comentarios)," comentários"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>ye(s,"posts"),children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>we("posts",s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]},s.id))}):e.jsx("div",{className:"py-12 text-center text-sm text-muted-foreground",children:"Nenhum post encontrado com os filtros aplicados."})})]})}),e.jsx(W,{value:"grupos",className:"space-y-4",children:e.jsxs(C,{className:"border-none bg-white/80 shadow-lg ring-1 ring-black/5",children:[e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Gerenciar grupos"}),e.jsx(T,{children:"Fortaleça comunidades acompanhando saúde e participação."})]}),e.jsxs(u,{variant:"secondary",className:"bg-olive/10 text-olive-dark",children:[_.length," grupos"]})]}),e.jsxs("div",{className:"grid gap-3 lg:grid-cols-3",children:[e.jsxs("div",{className:"relative col-span-1 lg:col-span-1",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(g,{value:fe,onChange:s=>ss(s.target.value),placeholder:"Buscar por nome ou descrição",className:"pl-9"})]}),e.jsxs(J,{value:te,onValueChange:as,children:[e.jsx(X,{className:"w-full",children:e.jsx(Y,{placeholder:"Status"})}),e.jsxs(Z,{children:[e.jsx(y,{value:"all",children:"Todos os status"}),e.jsx(y,{value:"active",children:"Somente ativos"}),e.jsx(y,{value:"inactive",children:"Somente pausados"})]})]}),e.jsxs("div",{className:"rounded-xl bg-muted/60 px-4 py-3 text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:Q}),e.jsx("span",{className:"text-muted-foreground",children:" grupos ativos agora"})]})]})]}),e.jsx(E,{className:"p-0",children:D?e.jsx("div",{className:"space-y-3 p-6",children:[1,2,3,4].map(s=>e.jsx(m,{className:"h-24 w-full"},s))}):Ke.length?e.jsx("div",{className:"divide-y",children:Ke.map(s=>{const t=s?.ativo===1||s?.ativo==="1"||s?.ativo===!0;return e.jsxs("div",{className:"flex flex-col gap-4 p-6 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-4",children:[e.jsx("div",{className:"hidden rounded-full bg-olive/20 p-2 text-olive-dark sm:block",children:e.jsx(Ze,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.nome}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-3",children:s.descricao}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs font-semibold text-muted-foreground",children:[s.categoria&&e.jsx(u,{variant:"secondary",className:"bg-olive/10 text-olive-dark",children:s.categoria}),e.jsxs("span",{children:[x(s.membros)," membros"]}),e.jsx("span",{children:"•"}),e.jsx(u,{variant:t?"success":"warning",children:t?"Ativo":"Pausado"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>ye(s,"grupos"),children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>we("grupos",s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]},s.id)})}):e.jsx("div",{className:"py-12 text-center text-sm text-muted-foreground",children:"Nenhum grupo encontrado com os filtros aplicados."})})]})}),e.jsx(W,{value:"eventos",className:"space-y-4",children:e.jsx(zs,{})})]})]}),e.jsx(Fe,{open:ae,onOpenChange:R,children:e.jsxs(Te,{className:"sm:max-w-[425px]",children:[e.jsxs(Pe,{children:[e.jsxs(De,{children:["Editar ",i?.type==="usuarios"?"usuário":i?.type==="posts"?"post":"grupo"]}),e.jsx(Ae,{children:"Atualize as informações e confirme para salvar suas alterações."})]}),e.jsx("div",{className:"space-y-4",children:i&&e.jsxs(e.Fragment,{children:[i.type==="usuarios"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"nome",children:"Nome"}),e.jsx(g,{id:"nome",value:i.nome||"",onChange:s=>N({...i,nome:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(g,{id:"email",type:"email",value:i.email||"",onChange:s=>N({...i,email:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"telefone",children:"Telefone"}),e.jsx(g,{id:"telefone",value:i.telefone||"",onChange:s=>N({...i,telefone:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"bio",children:"Bio"}),e.jsx(L,{id:"bio",value:i.bio||"",onChange:s=>N({...i,bio:s.target.value})})]})]}),i.type==="posts"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"conteudo",children:"Conteúdo"}),e.jsx(L,{id:"conteudo",value:i.conteudo||"",onChange:s=>N({...i,conteudo:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"categoria",children:"Categoria"}),e.jsx(g,{id:"categoria",value:i.categoria||"",onChange:s=>N({...i,categoria:s.target.value})})]})]}),i.type==="grupos"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"nome",children:"Nome"}),e.jsx(g,{id:"nome",value:i.nome||"",onChange:s=>N({...i,nome:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"descricao",children:"Descrição"}),e.jsx(L,{id:"descricao",value:i.descricao||"",onChange:s=>N({...i,descricao:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"categoria",children:"Categoria"}),e.jsx(g,{id:"categoria",value:i.categoria||"",onChange:s=>N({...i,categoria:s.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{variant:"outline",onClick:()=>R(!1),children:"Cancelar"}),e.jsx(p,{onClick:ls,children:"Salvar"})]})]})})]})})]})};export{na as default};
//# sourceMappingURL=AdminDashboard-BLDtQ3t3.js.map
