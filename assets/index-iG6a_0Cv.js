import{c as y,j as e,i as u,r,n as C}from"./index-DLqimMV8.js";import{S as P}from"./site-header-CKtPnSCF.js";import{S as R}from"./site-footer-btaBgloE.js";import{B as A}from"./badge-CME7s750.js";import{L as S}from"./loader-circle-ClwSyFO1.js";import{C as B}from"./crown-BrBsF1Iu.js";import{M as F}from"./map-pin-XNZDTA2K.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],E=y("camera",H);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$=y("earth",V),D=t=>!t||typeof t!="string"?null:/^https?:\/\//i.test(t)||t.startsWith("data:")?t:C.getPublicUrl(t),_=({children:t,className:a="",showHeader:l=!0,showFooter:n=!0,fullHeight:o=!1})=>e.jsxs("div",{className:u("min-h-screen flex flex-col bg-gray-50",o&&"h-screen",a),children:[l&&e.jsx(P,{}),e.jsx("main",{className:u("flex-1 pb-20 md:pb-0",!l&&"pt-0"),children:t}),n&&e.jsx(R,{})]}),O=({children:t,user:a,coverImage:l,tabs:n,activeTab:o,onTabChange:g,canEditCover:c=!1,onCoverSelect:d,isCoverUploading:h=!1,infoActions:j=null})=>{const b=r.useRef(null),f=r.useMemo(()=>s=>D(s),[]),v=r.useMemo(()=>{const s=[l,a?.cover_image,a?.cover_url,a?.capa,a?.capa_url];for(const i of s){const p=f(i);if(p)return p}return null},[l,f,a?.capa,a?.capa_url,a?.cover_image,a?.cover_url]),w=r.useMemo(()=>{const s=[a?.foto_perfil,a?.avatar_full_url,a?.avatar_url];for(const i of s){const p=f(i);if(p)return p}return null},[f,a?.avatar_full_url,a?.avatar_url,a?.foto_perfil]),m=r.useMemo(()=>{if(!a?.website)return null;const s=a.website.trim();return s?/^https?:\/\//i.test(s)?s:`https://${s}`:null},[a?.website]),k=r.useMemo(()=>{if(!m)return null;try{const s=new URL(m),i=s.pathname&&s.pathname!=="/"?s.pathname:"";return s.hostname.replace(/^www\./i,"")+i}catch{return a?.website}},[m,a?.website]),x=r.useMemo(()=>a?.is_premium?!0:a?.subscription?.plan_slug?a.subscription.plan_slug==="plano-premium":!1,[a?.is_premium,a?.subscription?.plan_slug]),M=r.useMemo(()=>x?a?.subscription?.plan_nome||"Assinante Premium":null,[x,a?.subscription?.plan_nome]),N=r.useMemo(()=>{if(!x||!a?.subscription?.expires_at)return null;try{return new Date(a.subscription.expires_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}catch(s){return console.warn("Failed to format premium expiry date",s),null}},[x,a?.subscription?.expires_at]),L=()=>{c&&b.current?.click()},z=s=>{const i=s.target.files?.[0];i&&d&&d(i),s.target.value=""};return e.jsxs(_,{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative h-48 md:h-64 bg-gray-200 overflow-hidden",children:[v?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:v,alt:"Capa do perfil",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/35 via-black/10 to-transparent"})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gray-100",children:e.jsx("span",{className:"text-lg font-medium",children:"Adicione uma capa incrível ✨"})}),c&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",accept:"image/*",ref:b,onChange:z,className:"hidden"}),e.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:e.jsxs("button",{type:"button",onClick:L,disabled:h,className:u("inline-flex items-center gap-2 rounded-full bg-black/55 px-4 py-2 text-sm font-medium text-white backdrop-blur transition-colors hover:bg-black/70",h&&"cursor-wait opacity-80"),children:[h?e.jsx(S,{className:"h-4 w-4 animate-spin"}):e.jsx(E,{className:"h-4 w-4"}),h?"Atualizando...":"Alterar capa"]})})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 sm:gap-6",children:[e.jsx("div",{className:"sm:self-end",children:e.jsx("div",{className:"relative -mt-16 sm:-mt-20 w-28 h-28 sm:w-32 sm:h-32 rounded-full border-4 border-white bg-white shadow-lg overflow-hidden z-20",children:w?e.jsx("img",{src:w,alt:a?.nome||"Avatar do usuário",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-coral flex items-center justify-center text-white text-3xl font-bold",children:a?.nome?.charAt(0)?.toUpperCase()||"?"})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-5 sm:p-6 mt-2 sm:mt-4 relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 leading-tight",children:a?.nome}),x&&e.jsxs(A,{variant:"warning",className:"flex items-center gap-1 bg-amber-500/90 text-white border-transparent shadow-sm",children:[e.jsx(B,{className:"w-3.5 h-3.5"}),M||"Premium"]})]}),e.jsxs("p",{className:"text-gray-500 text-sm sm:text-base",children:["@",a?.username]}),x&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["Assinante Premium",N?` · acesso até ${N}`:""]})]}),j&&e.jsx("div",{className:"flex items-center gap-2 sm:justify-end",children:j})]}),a?.bio&&e.jsx("p",{className:"text-gray-700 mt-3 leading-relaxed break-words",children:a.bio}),(m||a?.localizacao)&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6 mt-4 text-sm text-gray-600",children:[m&&e.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-coral hover:text-coral-dark transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate max-w-xs sm:max-w-none",children:k})]}),a?.localizacao&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:a.localizacao})]})]})]})})]})})]}),n&&e.jsx("div",{className:"border-b border-gray-200 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:n.map(s=>e.jsxs("button",{onClick:()=>g?.(s.key),className:u("py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap",o===s.key?"border-coral text-coral":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.label,s.count!==void 0&&e.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["(",s.count,")"]})]},s.key))})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t})]})},Q=({children:t,title:a,subtitle:l,breadcrumbs:n,actions:o,className:g=""})=>e.jsx(_,{className:g,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[n&&e.jsx("nav",{className:"mb-4",children:e.jsx("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:n.map((c,d)=>e.jsxs("li",{className:"flex items-center",children:[d>0&&e.jsx("svg",{className:"w-4 h-4 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),c.href?e.jsx("a",{href:c.href,className:"hover:text-gray-700",children:c.label}):e.jsx("span",{className:"text-gray-900",children:c.label})]},d))})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[a&&e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a}),l&&e.jsx("p",{className:"text-lg text-gray-600",children:l})]}),o&&e.jsx("div",{className:"flex items-center space-x-3",children:o})]})]}),t]})});export{E as C,_ as M,O as P,Q as a};
//# sourceMappingURL=index-iG6a_0Cv.js.map
