import{c as I,a as X,j as e,L as H,n as Y,u as Z,r as o,B as S,M as B}from"./index-DLqimMV8.js";import{S as ee}from"./SearchComponent-CihMYpLm.js";import{C as m,a as x,b as k,c as C}from"./card-CY9-ve7w.js";import{B as j}from"./badge-CME7s750.js";import{A as g,a as N,b as f,U as G}from"./index-EfjSmcDM.js";import{D as se,b as ae,c as te,d as L}from"./dropdown-menu-7k7ytBg1.js";import{a as D}from"./apiService-D5WPn4Ml.js";import{u as le,S as re,f as $}from"./index-BgaOpAAA.js";import{T as V}from"./trending-up-D6ou80w9.js";import{F as ne}from"./funnel-BHegw_va.js";import{L as ie}from"./loader-circle-ClwSyFO1.js";import{H as P}from"./hash-CzDnjanY.js";import{G as O}from"./globe-AW3VTD_N.js";import{H as ce}from"./heart-D1UYKJAB.js";import{A as oe}from"./arrow-up-right-gebzYLSU.js";import"./input-FZRWGTRd.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q=I("compass",de);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],xe=I("flame",me),b={posts:0,users:0,groups:0,hashtags:0};function he({user:a,logout:i}){const r=X();return e.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(H,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/logo-sem-fundo.png",alt:"EmpowerUp",className:"h-8 w-auto"})}),e.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-900",children:[e.jsx(q,{className:"w-6 h-6 text-coral"}),"Explorar"]})]}),e.jsxs(se,{children:[e.jsxs(ae,{className:"flex items-center gap-3 p-2 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsxs(g,{className:"w-8 h-8",children:[e.jsx(N,{src:a?.avatar_url?Y.getPublicUrl(a.avatar_url):""}),e.jsx(f,{className:"bg-coral text-white text-sm font-medium",children:a?.nome?.charAt(0)})]}),e.jsx("span",{className:"font-medium text-gray-900 hidden sm:block",children:a?.nome})]}),e.jsxs(te,{align:"end",className:"w-56 mt-2",children:[e.jsx(L,{onClick:()=>r("/perfil"),className:"cursor-pointer",children:"Meu Perfil"}),e.jsx(L,{onClick:()=>{i(),r("/")},className:"cursor-pointer text-red-600",children:"Sair"})]})]})]})})}const ze=()=>{const{user:a,logout:i}=Z(),[r,d]=o.useState("all"),[l,A]=o.useState({trendingPosts:[],recommendedUsers:[],trendingHashtags:[],trendingCategories:[],freshVoices:[]}),[u,E]=o.useState(!0),[v,c]=o.useState(null),[h,y]=o.useState(null),[p,w]=o.useState({query:"",totals:b}),[_,R]=o.useState(null);o.useEffect(()=>{let s=!0;return(async()=>{E(!0),c(null);try{const n=await D.getExploreOverview();n.success&&s&&A({trendingPosts:n.trendingPosts||[],recommendedUsers:n.recommendedUsers||[],trendingHashtags:n.trendingHashtags||[],trendingCategories:n.trendingCategories||[],freshVoices:n.freshVoices||[]})}catch(n){s&&(console.error("Erro ao carregar explorar:",n),c("Não foi possível carregar os destaques agora. Tente novamente em instantes."))}finally{s&&E(!1)}})(),()=>{s=!1}},[]);const J=o.useMemo(()=>{const s=l.trendingCategories||[];return[{label:"Tudo",value:"all",count:l.trendingPosts?.length||0},...s.map(t=>({label:t.label,value:t.label,slug:t.value,count:t.count}))]},[l.trendingCategories,l.trendingPosts]),U=s=>le.removeAccents((s||"").toLowerCase()),M=o.useMemo(()=>{const s=l.trendingPosts||[];if(r==="all")return s;const t=U(r);return s.filter(n=>U(n.categoria)===t)},[l.trendingPosts,r]),K=(s,t)=>{if(!s){y(null),w({query:t?.query||"",totals:t?.totals||b,filters:t?.filters});return}y(s),w({query:t?.query||"",totals:t?.totals||b,filters:t?.filters})},T=()=>{y(null),w({query:"",totals:b})},z=!!(h&&p.query&&p.query.length>=2),Q=async s=>{try{R(s),d("all");const t=await D.searchExplore({q:`#${s}`});t.success&&(y(t.results||null),w({query:`#${s}`,totals:t.meta?.totals||b,filters:t.meta?.filters}))}catch(t){console.error("Erro ao carregar hashtag",t)}finally{R(null)}},W=(s,t,n)=>e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-sky-600 uppercase tracking-wide",children:[s,e.jsx("span",{children:t})]}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:n})]})});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-coral/5 to-olive/5 text-gray-800 overflow-x-hidden",children:[e.jsx(he,{user:a,logout:i}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6 lg:py-10",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-[minmax(0,2.2fr),minmax(0,1fr)]",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"rounded-3xl bg-gradient-to-r from-sky-50 via-indigo-50 to-violet-50 p-6 sm:p-8 border border-slate-100 overflow-hidden relative",children:[e.jsx("div",{className:"absolute -top-10 -right-12 h-36 w-36 rounded-full bg-sky-200/40 blur-2xl","aria-hidden":"true"}),e.jsx("div",{className:"absolute -bottom-12 -left-10 h-40 w-40 rounded-full bg-indigo-200/40 blur-2xl","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-sky-700 uppercase tracking-wide",children:[e.jsx(re,{className:"h-4 w-4"}),"Descubra novas histórias"]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mt-2",children:"Explore a comunidade EmpowerUp"}),e.jsx("p",{className:"text-slate-600 mt-3 max-w-2xl",children:"Encontre posts inspiradores, perfis para seguir e tendências que estão movimentando o empreendedorismo feminino."})]})}),e.jsx(ee,{className:"bg-white/70 backdrop-blur",onResultSelect:()=>{},onResultsUpdate:K}),z?e.jsxs("div",{className:"flex items-center justify-between bg-white/80 backdrop-blur rounded-2xl border border-white/60 p-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["Resultados para “",p.query,"”"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[p.totals.posts," posts · ",p.totals.users," perfis · ",p.totals.hashtags," hashtags"]})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:T,children:"Limpar busca"})]}):e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs sm:text-sm text-slate-600",children:[e.jsxs(j,{variant:"secondary",className:"bg-white/80 text-slate-700",children:[e.jsx(q,{className:"h-3.5 w-3.5 mr-1"})," Explore para se inspirar"]}),e.jsxs(j,{variant:"secondary",className:"bg-white/80 text-slate-700",children:[e.jsx(V,{className:"h-3.5 w-3.5 mr-1"})," Veja o que está bombando"]})]})]})]}),z?e.jsx(je,{results:h,meta:p,onClear:T}):e.jsxs("section",{className:"space-y-5",children:[W(e.jsx(xe,{className:"h-4 w-4 text-orange-500"}),"Tendências do momento","Filtre por categoria e acompanhe os posts que estão gerando conversas agora."),e.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(s=>e.jsxs(S,{variant:r===s.value?"default":"outline",size:"sm",onClick:()=>d(s.value),"aria-pressed":r===s.value,className:`rounded-full px-3 py-1.5 text-xs sm:text-sm transition ${r===s.value?"bg-sky-600 hover:bg-sky-600 text-white shadow-sm":"border-slate-200 hover:border-sky-300 hover:text-sky-600"}`,children:[e.jsx(ne,{className:"h-3.5 w-3.5 mr-1"}),s.label,typeof s.count=="number"&&s.count>0&&e.jsx("span",{className:"ml-1 text-[11px] font-medium text-slate-500",children:s.count})]},s.label))}),e.jsx("div",{className:"space-y-4",children:u?e.jsx(ve,{}):v?e.jsx(m,{className:"border-red-200 bg-red-50/50",children:e.jsx(x,{className:"p-6 text-center text-sm text-red-600",children:v})}):M.length>0?M.map(s=>e.jsx(pe,{post:s},s.id)):e.jsx(m,{className:"border-dashed",children:e.jsxs(x,{className:"p-10 text-center text-slate-500",children:[e.jsx(q,{className:"h-8 w-8 mx-auto mb-3 opacity-60"}),e.jsx("p",{className:"font-semibold mb-1",children:"Nada por aqui ainda"}),e.jsx("p",{className:"text-sm",children:"Experimente outra categoria ou faça uma busca personalizada."})]})})})]})]}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs(m,{className:"border-slate-100 shadow-sm",children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2 text-base",children:[e.jsx(V,{className:"h-4 w-4 text-sky-500"}),"Hashtags em alta"]})}),e.jsx(x,{className:"space-y-3",children:u?e.jsx(be,{}):l.trendingHashtags?.length>0?l.trendingHashtags.slice(0,8).map((s,t)=>e.jsxs("button",{onClick:()=>Q(s.tag),disabled:_===s.tag,className:"w-full text-left rounded-2xl border border-slate-200 hover:border-sky-300 hover:bg-sky-50/60 transition p-3 flex items-center justify-between disabled:opacity-60",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-800",children:["#",s.tag]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[s.count," posts"]})]}),_===s.tag?e.jsx(ie,{className:"h-4 w-4 text-sky-400 animate-spin"}):e.jsx(P,{className:"h-4 w-4 text-sky-400"})]},`${s.tag}-${t}`)):e.jsx("p",{className:"text-sm text-slate-500",children:"Ainda não há tendências suficientes para mostrar."})})]}),e.jsxs(m,{className:"border-slate-100 shadow-sm",children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2 text-base",children:[e.jsx(G,{className:"h-4 w-4 text-emerald-500"}),"Sugestões de perfis"]})}),e.jsx(x,{className:"space-y-4",children:u?e.jsx(F,{}):l.recommendedUsers?.length>0?l.recommendedUsers.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(g,{className:"h-10 w-10",children:[e.jsx(N,{src:s.avatar_url,alt:s.nome}),e.jsx(f,{children:s.nome?.charAt(0)||"?"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-slate-800",children:s.nome}),e.jsxs("p",{className:"text-xs text-slate-500",children:["@",s.username]}),e.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-slate-500 mt-1",children:[e.jsxs(j,{variant:"secondary",className:"bg-emerald-50 text-emerald-700",children:[s.followers??0," seguidoras"]}),s.posts_count>0&&e.jsxs("span",{children:[s.posts_count," posts"]})]})]}),e.jsx(H,{to:s.username?`/perfil/${s.username}`:`/perfil/${s.id}`,className:"text-xs font-semibold text-sky-600 hover:text-sky-700",children:"Ver perfil"})]},s.id)):e.jsx("p",{className:"text-sm text-slate-500",children:"Siga novos perfis para personalizar sua timeline."})})]}),e.jsxs(m,{className:"border-slate-100 shadow-sm",children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2 text-base",children:[e.jsx(O,{className:"h-4 w-4 text-indigo-500"}),"Novas vozes na comunidade"]})}),e.jsx(x,{className:"space-y-3",children:u?e.jsx(F,{items:3}):l.freshVoices?.length>0?l.freshVoices.slice(0,4).map(s=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(g,{className:"h-9 w-9",children:[e.jsx(N,{src:s.avatar_url,alt:s.nome}),e.jsx(f,{children:s.nome?.charAt(0)||"?"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-slate-800",children:s.nome}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Ingressou ",$(s.created_at)]})]})]}),s.bio&&e.jsx("p",{className:"text-xs text-slate-500 mt-3 line-clamp-2",children:s.bio})]},`fresh-${s.id}`)):e.jsx("p",{className:"text-sm text-slate-500",children:"Novas empreendedoras surgirão aqui em breve!"})})]})]})]})})]})},pe=({post:a})=>{const i=[{icon:ce,label:"Curtidas",value:a.likes||0},{icon:B,label:"Comentários",value:a.comentarios||0}];return e.jsx(m,{className:"border-slate-100 shadow-sm hover:shadow-md transition",children:e.jsxs(x,{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(g,{className:"h-12 w-12",children:[e.jsx(N,{src:a.avatar,alt:a.autor}),e.jsx(f,{children:a.autor?.charAt(0)||"?"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:a.autor}),e.jsxs("span",{children:["@",a.username]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:$(a.created_at)})]}),a.categoria&&e.jsx(j,{variant:"secondary",className:"mt-2 bg-sky-50 text-sky-700",children:a.categoria}),e.jsx("p",{className:"text-sm text-slate-800 mt-2 leading-6 line-clamp-3",children:a.conteudo}),Array.isArray(a.tags)&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:a.tags.slice(0,3).map(r=>e.jsx(j,{variant:"outline",className:"text-xs",children:r},r))})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsx("div",{className:"flex items-center gap-4",children:i.map(({icon:r,label:d,value:l})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{className:"font-semibold text-slate-700",children:l}),e.jsx("span",{className:"hidden sm:inline",children:d.toLowerCase()})]},d))}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-sky-600 hover:text-sky-700",children:["Ver conversa",e.jsx(oe,{className:"h-4 w-4 ml-1"})]})]})]})})},je=({results:a,meta:i,onClear:r})=>{const d=[{key:"posts",title:"Posts",icon:B,empty:"Nenhum post encontrado."},{key:"users",title:"Perfis",icon:G,empty:"Nenhum perfil encontrado."},{key:"groups",title:"Grupos",icon:O,empty:"Nada por aqui ainda."},{key:"hashtags",title:"Hashtags",icon:P,empty:"Nenhuma hashtag para exibir."}];return e.jsxs(m,{className:"border-slate-100 shadow-sm",children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx(j,{variant:"secondary",className:"mb-2 bg-sky-50 text-sky-700",children:"Resultado da busca"}),e.jsxs(C,{className:"text-xl text-slate-900",children:["“",i.query,"”"]}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[i.totals?.posts??0," posts · ",i.totals?.users??0," perfis · ",i.totals?.hashtags??0," hashtags"]})]}),e.jsx(S,{variant:"outline",size:"sm",onClick:r,children:"Limpar"})]})}),e.jsxs(x,{className:"space-y-6",children:[d.map(({key:l,title:A,icon:u,empty:E})=>{const v=a?.[l]||[];return v.length?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-sky-500"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:A})]}),e.jsx("div",{className:"space-y-3",children:v.map((c,h)=>l==="posts"?e.jsx(ue,{post:c},`post-${c.id}-${h}`):l==="users"?e.jsx(ge,{user:c},`user-${c.id}-${h}`):l==="groups"?e.jsx(Ne,{group:c},`group-${c.id}-${h}`):l==="hashtags"?e.jsx(fe,{hashtag:c},`hash-${c.tag}-${h}`):null)})]},l):null}),d.every(({key:l})=>!a?.[l]?.length)&&e.jsx("p",{className:"text-sm text-slate-500 text-center",children:d[0].empty})]})]})},ue=({post:a})=>e.jsx("div",{className:"rounded-2xl border border-slate-200 p-4 hover:border-sky-300 transition",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(g,{className:"h-10 w-10",children:[e.jsx(N,{src:a.avatar,alt:a.autor}),e.jsx(f,{children:a.autor?.charAt(0)||"?"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:a.autor}),e.jsxs("span",{children:["@",a.username]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:$(a.created_at)})]}),e.jsx("p",{className:"text-sm text-slate-800 mt-2 line-clamp-2",children:a.conteudo})]})]})}),ge=({user:a})=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 flex items-center gap-3 hover:border-sky-300 transition",children:[e.jsxs(g,{className:"h-10 w-10",children:[e.jsx(N,{src:a.avatar_url,alt:a.nome}),e.jsx(f,{children:a.nome?.charAt(0)||"?"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm text-slate-800",children:a.nome}),e.jsxs("p",{className:"text-xs text-slate-500",children:["@",a.username]}),a.bio&&e.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-2",children:a.bio})]}),e.jsx(H,{to:a.username?`/perfil/${a.username}`:`/perfil/${a.id}`,className:"text-xs font-semibold text-sky-600 hover:text-sky-700",children:"Ver perfil"})]}),Ne=({group:a})=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 hover:border-sky-300 transition",children:[e.jsx("p",{className:"font-semibold text-sm text-slate-800",children:a.nome}),a.categoria&&e.jsx(j,{variant:"outline",className:"mt-1 text-xs text-slate-500",children:a.categoria}),a.descricao&&e.jsx("p",{className:"text-xs text-slate-500 mt-2 line-clamp-2",children:a.descricao}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[a.membros," membros • Última atividade ",$(a.ultima_atividade)]})]}),fe=({hashtag:a})=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm text-slate-800",children:["#",a.tag]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[a.count," menções"]})]}),e.jsx(P,{className:"h-4 w-4 text-sky-400"})]}),ve=()=>e.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>e.jsx(m,{className:"border-slate-100",children:e.jsxs(x,{className:"p-5 space-y-3 animate-pulse",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-200"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 w-2/3 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 w-full bg-slate-200 rounded"})]})]}),e.jsx("div",{className:"h-3 w-1/3 bg-slate-200 rounded"})]})},`post-skeleton-${a}`))}),be=()=>e.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3,4].map(a=>e.jsx("div",{className:"h-10 w-full rounded-2xl bg-slate-200"},`hashtag-skeleton-${a}`))}),F=({items:a=4})=>e.jsx("div",{className:"space-y-4 animate-pulse",children:Array.from({length:a}).map((i,r)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 w-1/2 bg-slate-200 rounded"}),e.jsx("div",{className:"h-2.5 w-1/3 bg-slate-200 rounded"})]})]},`recommended-skeleton-${r}`))});export{he as ExploreHeader,ze as default};
//# sourceMappingURL=ExplorePage-CLUbh1cW.js.map
