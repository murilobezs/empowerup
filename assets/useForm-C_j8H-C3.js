import{r as t}from"./index-DLqimMV8.js";import{e as w,v as E}from"./index-BgaOpAAA.js";const M=(c={},o={})=>{const[a,b]=t.useState(c),[n,f]=t.useState({}),[h,g]=t.useState({}),[i,k]=t.useState(!1),d=t.useCallback((e,s)=>{b(r=>({...r,[e]:s})),n[e]&&f(r=>({...r,[e]:null}))},[n]),y=t.useCallback(e=>{const{name:s,value:r,type:l,checked:u}=e.target;d(s,l==="checkbox"?u:r)},[d]),C=t.useCallback(e=>{const{name:s}=e.target;if(g(r=>({...r,[s]:!0})),o[s]){const r=o[s](a[s]);f(l=>({...l,[s]:r}))}},[o,a]),S=t.useCallback(()=>{const e={};let s=!0;return Object.keys(o).forEach(r=>{const l=o[r](a[r]);l&&(e[r]=l,s=!1)}),f(e),s},[o,a]),m=t.useCallback(async e=>{const s=Object.keys({...c,...o}),r={};if(s.forEach(u=>{r[u]=!0}),g(r),!S())return{success:!1,errors:n};k(!0);try{return{success:!0,data:await e(a)}}catch(u){const j=w.getErrorMessage(u);return u.fieldErrors&&f(x=>({...x,...u.fieldErrors})),{success:!1,error:j}}finally{k(!1)}},[a,S,n,c,o]),p=t.useCallback(()=>{b(c),f({}),g({}),k(!1)},[c]),F=t.useCallback(e=>{b(s=>({...s,...e}))},[]),O=t.useCallback(e=>({name:e,value:a[e]||"",onChange:y,onBlur:C,error:h[e]&&n[e],required:!!o[e]}),[a,y,C,h,n,o]);return{values:a,errors:n,touched:h,isSubmitting:i,setValue:d,handleChange:y,handleBlur:C,handleSubmit:m,validate:S,reset:p,setFormValues:F,getFieldProps:O,isValid:Object.keys(n).length===0,isDirty:JSON.stringify(a)!==JSON.stringify(c)}},V={email:c=>E.email(c),name:c=>E.name(c)};export{M as u,V as v};
//# sourceMappingURL=useForm-C_j8H-C3.js.map
