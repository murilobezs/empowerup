import{c as T,r as t,m as x,j as e,B as d,i as $,L as M}from"./index-DLqimMV8.js";import{a as V}from"./index-iG6a_0Cv.js";import{C as g,b as j,a as f}from"./card-CY9-ve7w.js";import{B as I}from"./badge-CME7s750.js";import{S as F}from"./switch-qz8-JLqm.js";import{u as G}from"./toast-7vBxPuBc.js";import{S as H}from"./shield-check-pjyo1ri8.js";import{R as O}from"./refresh-cw-BzSKEN6A.js";import{C as Z}from"./calendar-BcaNxl4E.js";import{T as J}from"./trending-up-D6ou80w9.js";import{L as P}from"./loader-circle-ClwSyFO1.js";import{S as K}from"./index-BgaOpAAA.js";import{C as c}from"./index-EfjSmcDM.js";import{C as Q}from"./crown-BrBsF1Iu.js";import{A as W}from"./arrow-right-9NKBOYty.js";import"./site-header-CKtPnSCF.js";import"./dropdown-menu-7k7ytBg1.js";import"./bookmark-B2_N_nt6.js";import"./heart-D1UYKJAB.js";import"./user-BOjY7V17.js";import"./log-out-Cu_b7vs0.js";import"./site-footer-btaBgloE.js";import"./input-FZRWGTRd.js";import"./map-pin-XNZDTA2K.js";import"./circle-alert-Bp1UBQ88.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Y=T("zap",X),E=(i,l="BRL")=>{try{return new Intl.NumberFormat("pt-BR",{style:"currency",currency:l,minimumFractionDigits:i%1===0?0:2}).format(i)}catch{return`${i} ${l}`}},Se=()=>{const{addToast:i}=G(),l=t.useRef(i);t.useEffect(()=>{l.current=i},[i]);const[n,q]=t.useState([]),[k,N]=t.useState(!0),[a,A]=t.useState(null),[o,R]=t.useState(null),[L,b]=t.useState(!0),[u,v]=t.useState(""),[w,y]=t.useState(!1),[p,C]=t.useState(!0),S=t.useCallback(async()=>{N(!0);try{const s=await x.getSubscriptionPlans();s?.success?q(s.plans||[]):l.current?.(s?.message||"N√£o foi poss√≠vel carregar os planos.","error")}catch(s){console.error("Erro ao carregar planos:",s),l.current?.(s?.message||"Erro inesperado ao carregar planos.","error")}finally{N(!1)}},[]),m=t.useCallback(async()=>{b(!0);try{const s=await x.getCurrentSubscription();s?.success?(A(s.subscription||null),s.ad_usage&&R(s.ad_usage)):l.current?.(s?.message||"N√£o foi poss√≠vel verificar sua assinatura.","error")}catch(s){console.error("Erro ao buscar assinatura atual:",s),l.current?.(s?.message||"Erro ao carregar assinatura atual.","error")}finally{b(!1)}},[]);t.useEffect(()=>{S(),m()},[S,m]);const B=async s=>{if(s){v(s.slug||String(s.id));try{const r=await x.startSubscription({plan_id:s.id,auto_renova:p});r?.success?(i("Plano ativado com sucesso! üéâ","success"),await m()):i(r?.message||"N√£o foi poss√≠vel ativar este plano.","error")}catch(r){console.error("Erro ao iniciar assinatura:",r),i(r?.message||"Erro ao iniciar assinatura.","error")}finally{v("")}}},D=async()=>{if(!(!a||!window.confirm("Tem certeza que deseja cancelar sua assinatura? Voc√™ poder√° reativar a qualquer momento."))){y(!0);try{const r=await x.cancelSubscription(a.id);r?.success?(i("Assinatura cancelada com sucesso.","success"),await m()):i(r?.message||"N√£o foi poss√≠vel cancelar agora.","error")}catch(r){console.error("Erro ao cancelar assinatura:",r),i(r?.message||"Erro ao cancelar assinatura.","error")}finally{y(!1)}}},U=t.useCallback(s=>!a||!s?!1:s.id===a.plan_id||s.slug===a.plan_slug,[a]);t.useEffect(()=>{if(a?.auto_renova!==void 0){const s=["1",1,!0,"true","sim"].includes(a.auto_renova);C(s)}},[a?.auto_renova]);const z=t.useMemo(()=>[...n].sort((s,r)=>Number(r.destaque)-Number(s.destaque)),[n]);return e.jsx(V,{title:"Planos e Assinaturas",subtitle:"Escolha o plano ideal para acelerar o crescimento do seu neg√≥cio e destravar recursos exclusivos.",breadcrumbs:[{label:"In√≠cio",href:"/"},{label:"Planos e assinaturas"}],children:e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr,1fr] lg:items-start",children:[e.jsxs(g,{className:"border border-gray-200 shadow-sm",children:[e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-3 text-coral",children:[e.jsx(H,{className:"h-6 w-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Status da assinatura"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gerencie seu plano atual, verifique benef√≠cios ativos e fique por dentro do uso de an√∫ncios promovidos."})]}),e.jsx(f,{className:"space-y-6",children:L?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-gray-200"}),e.jsx("div",{className:"h-24 animate-pulse rounded bg-gray-100"})]}):a?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(I,{className:"bg-emerald-100 text-emerald-700",children:a.status==="ativa"?"Plano ativo":a.status}),a.auto_renova?e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-700",children:[e.jsx(O,{className:"h-3.5 w-3.5"})," Renova√ß√£o autom√°tica ativa"]}):e.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Renova√ß√£o manual"})]}),e.jsx("div",{className:"rounded-2xl border border-gray-200 bg-gradient-to-r from-white to-emerald-50 p-5",children:e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-700 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Plano atual"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.plan_nome}),e.jsx("p",{className:"text-sm text-gray-600",children:a.plan_descricao||"Plano ativo na EmpowerUp"})]}),e.jsxs("div",{className:"flex flex-col items-start gap-1 text-sm text-gray-600 sm:items-end",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-coral"}),"Expira em"," ",a.expires_at?new Date(a.expires_at).toLocaleDateString("pt-BR"):"indefinido"]}),e.jsxs("span",{className:"inline-flex items-center gap-2 text-gray-500",children:[E(a.valor_mensal||0,a.moeda||"BRL")," / m√™s"]})]})]})}),o?e.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-blue-800",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"})," Uso de campanhas promovidas nesta semana"]}),o.limit?e.jsxs("span",{children:[o.used,"/",o.limit," campanhas"]}):e.jsx("span",{children:"Uso ilimitado"})]}),e.jsx("div",{className:"mt-3 h-2.5 w-full overflow-hidden rounded-full bg-white/80",children:e.jsx("div",{className:"h-full rounded-full bg-coral transition-all",style:{width:o.limit?`${Math.min(100,Math.round(o.used/o.limit*100))}%`:"100%"}})}),e.jsxs("p",{className:"mt-3 text-xs text-blue-900",children:["Per√≠odo iniciado em ",o.start_period?new Date(o.start_period).toLocaleDateString("pt-BR"):"esta semana","."]})]}):null,e.jsx("div",{className:"flex flex-wrap items-center gap-4",children:e.jsx(d,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50",disabled:w,onClick:D,children:w?e.jsx(P,{className:"h-4 w-4 animate-spin"}):"Cancelar assinatura"})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50 p-6 text-center",children:[e.jsx(K,{className:"mx-auto h-8 w-8 text-coral"}),e.jsx("h3",{className:"mt-3 text-lg font-semibold text-gray-900",children:"Voc√™ ainda n√£o possui um plano ativo"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Escolha um plano abaixo para desbloquear recursos exclusivos como cursos completos, grupos privados e campanhas promovidas."})]}),e.jsx(d,{asChild:!0,className:"bg-coral hover:bg-coral/90",children:e.jsx("a",{href:"#planos",children:"Ver planos dispon√≠veis"})})]})})]}),e.jsxs(g,{className:"border border-gray-200 shadow-sm",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2 text-coral",children:[e.jsx(Y,{className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Benef√≠cios Premium"})]})}),e.jsxs(f,{className:"space-y-4 text-sm text-gray-600",children:[e.jsx("p",{children:"As assinantes EmpowerUp destravam experi√™ncias completas, participam de mentorias ao vivo, compartilham aprendizados na comunidade e potencializam sua marca com campanhas patrocinadas."}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsxs("span",{children:["Acesso ilimitado a ",n.length?n.reduce((s,r)=>r.acesso_cursos?s+1:s,0):"todos os"," cursos, trilhas de aprendizado e certificados exclusivos."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:"Entrada em grupos fechados para networking estrat√©gico entre empreendedoras."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:"Crie campanhas promovidas com destaque no feed e alcance resultados mais r√°pidos."})]})]}),e.jsxs("div",{className:"rounded-xl bg-emerald-50 p-4 text-emerald-800",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Dica EmpowerUp"}),e.jsx("p",{className:"mt-1 text-sm",children:"Combine os cursos com eventos tem√°ticos e grupos ativos para construir autoridade na sua √°rea em poucas semanas."})]})]})]})]}),e.jsxs("section",{id:"planos",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Compare os planos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Selecione a op√ß√£o que mais combina com seus objetivos. Voc√™ pode alterar ou cancelar seu plano quando quiser."})]}),e.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Renova√ß√£o autom√°tica"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Mantemos sua assinatura ativa todo m√™s automaticamente. Desative para renovar manualmente quando quiser."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:p?"Ativa":"Desativada"}),e.jsx(F,{checked:p,onCheckedChange:C})]})]}),k?e.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:3}).map((s,r)=>e.jsxs("div",{className:"rounded-3xl border border-gray-200 bg-white p-6",children:[e.jsx("div",{className:"h-6 w-1/2 animate-pulse rounded bg-gray-200"}),e.jsx("div",{className:"mt-3 h-8 w-1/3 animate-pulse rounded bg-gray-200"}),e.jsx("div",{className:"mt-6 space-y-3",children:Array.from({length:4}).map((_,h)=>e.jsx("div",{className:"h-3.5 w-full animate-pulse rounded bg-gray-100"},h))}),e.jsx("div",{className:"mt-6 h-10 w-full animate-pulse rounded bg-gray-200"})]},r))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:z.map(s=>{const r=U(s);return e.jsxs(g,{className:$("relative flex h-full flex-col justify-between border border-gray-200 bg-white shadow-sm transition-shadow hover:shadow-lg",s.destaque&&"border-coral shadow-lg shadow-coral/10"),children:[e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-coral/80",children:"Plano"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.nome})]}),s.destaque&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-coral px-3 py-1 text-xs font-semibold text-white shadow",children:[e.jsx(Q,{className:"h-3.5 w-3.5"})," Popular"]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:s.valor_mensal>0?E(s.valor_mensal,s.moeda||"BRL"):"Gratuito"}),s.valor_mensal>0&&e.jsx("span",{className:"mb-1 text-sm text-gray-500",children:"/ m√™s"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.descricao||"Plano desenhado para impulsionar o seu neg√≥cio."})]}),e.jsxs(f,{className:"flex flex-1 flex-col justify-between space-y-6",children:[e.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:s.beneficios?.length?e.jsx("ul",{className:"space-y-2",children:s.beneficios.map((_,h)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:_})]},h))}):e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:s.acesso_cursos?"Acesso completo aos cursos e certifica√ß√µes":"Conte√∫dos selecionados gratuitos"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:s.acesso_grupos?"Networking em grupos privados e eventos exclusivos":"Participa√ß√£o na comunidade aberta"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(c,{className:"mt-0.5 h-4 w-4 text-emerald-500"}),e.jsx("span",{children:s.anuncios_promovidos?s.limite_anuncios_semana?`${s.limite_anuncios_semana} campanhas promovidas por semana`:"Campanhas promovidas ilimitadas":"Acesso aos impulsionamentos com upgrade"})]})]})}),e.jsxs("div",{className:"pt-4",children:[r?e.jsxs(d,{disabled:!0,variant:"outline",className:"w-full border-emerald-200 text-emerald-700",children:[e.jsx(c,{className:"mr-2 h-4 w-4"})," Seu plano atual"]}):e.jsx(d,{className:"w-full bg-coral hover:bg-coral/90",disabled:!!u&&u!==(s.slug||String(s.id)),onClick:()=>B(s),children:u===(s.slug||String(s.id))?e.jsx(P,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:["Escolher plano ",e.jsx(W,{className:"ml-2 h-4 w-4"})]})}),e.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"Cancele ou troque de plano quando quiser."})]})]})]},s.id)})})]}),e.jsx("section",{className:"rounded-3xl bg-gradient-to-r from-emerald-500 to-coral px-6 py-10 text-white shadow-lg",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2 lg:items-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Pronta para avan√ßar de n√≠vel?"}),e.jsx("p",{className:"text-white/90",children:"Combine cursos, eventos e campanhas para criar uma presen√ßa marcante. O plano Premium garante acesso √†s mentorias, grupos privados e impulsionamentos semanais."}),e.jsx(d,{asChild:!0,variant:"secondary",className:"bg-white text-emerald-600 hover:bg-white/90",children:e.jsx(M,{to:"/campanhas",children:"Explorar campanhas promovidas"})})]}),e.jsxs("div",{className:"rounded-2xl bg-white/15 p-6 backdrop-blur",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-white/80",children:"Vis√£o r√°pida do seu plano"}),e.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cursos completos"}),e.jsx("strong",{children:a?.acesso_cursos?"Liberados":"Limitado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Grupos privados"}),e.jsx("strong",{children:a?.acesso_grupos?"Liberados":"Limitado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Campanhas promovidas"}),e.jsx("strong",{children:a?.anuncios_promovidos?o?.limit?`${o.used||0}/${o.limit} semana`:"Ilimitadas":"N√£o incluso"})]})]})]})]})})]})})};export{Se as default};
//# sourceMappingURL=SubscriptionPage-YdmPDOGe.js.map
